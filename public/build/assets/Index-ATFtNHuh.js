var hc=Object.defineProperty;var gc=(n,e,t)=>e in n?hc(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Te=(n,e,t)=>gc(n,typeof e!="symbol"?e+"":e,t);import{r as w,j as m,m as pc,L as mc,S as Jr}from"./app-DqgsXSbE.js";import{r as ir,P as Oe}from"./index-LbANeO-Q.js";import{c as Ke}from"./createLucideIcon-oVjZq6TX.js";import{L as sl,C as _c}from"./list-BRyK1v0v.js";import{u as Ye,S as yc,c as Zt,B as bt}from"./app-logo-icon-Op2Ijsfg.js";import{C as xc,a as vc,D as Cc,b as Sc,c as bc,d as Nc,e as wc}from"./dialog-BMEr6Zyb.js";import{L as Se,I as De}from"./label-BD8wRt4J.js";import{u as Io,c as Tc,a as de,b as dt,d as kc}from"./index-hy6uROR3.js";import{c as ol,u as Ec,R as Pc,a as Vs,b as Mc,d as Oc,P as Ac,V as Dc,h as Ic,e as Lc,f as Fc,F as jc,D as Rc,C as $c,g as Bc,A as Kc,i as zc}from"./app-layout-b__WgTk3.js";import{u as Wc,C as Vc}from"./index-4H38tdA-.js";import{P as Uc}from"./plus-BNEowNjN.js";import{D as Jc}from"./download-Cu810clw.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],qc=Ke("Bold",Hc);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gc=Ke("Calendar",Yc);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],il=Ke("ChevronDown",Xc);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Zc=Ke("ChevronLeft",Qc);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],tu=Ke("ChevronUp",eu);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ru=Ke("Eye",nu);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],ou=Ke("Italic",su);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],lu=Ke("Quote",iu);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],cu=Ke("Search",au);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],du=Ke("Type",uu);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],hu=Ke("Underline",fu);function M(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const s of e)r.append("v",s);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const ze=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,gu=ze&&"documentMode"in document?document.documentMode:null,Ue=ze&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Mt=ze&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),lr=!(!ze||!("InputEvent"in window)||gu)&&"getTargetRanges"in new window.InputEvent("input"),Tn=ze&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),en=ze&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,pu=ze&&/Android/.test(navigator.userAgent),ll=ze&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Lo=ze&&pu&&ll,ar=ze&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!ll;function cr(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}const mu=1,_u=3,yu=9,xu=11,Ot=0,al=1,tn=2,vu=0,Cu=1,Su=2,ur=4,dr=8,Us=128,bu=1792|(112|(3|ur|dr)|Us),Js=1,Hs=2,qs=3,Ys=4,Gs=5,Xs=6,Tr=Tn||en||ar?" ":"​",ot=`

`,Nu=Mt?" ":Tr,cl="֑-߿יִ-﷽ﹰ-ﻼ",ul="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",wu=new RegExp("^[^"+ul+"]*["+cl+"]"),Tu=new RegExp("^[^"+cl+"]*["+ul+"]"),At={bold:1,capitalize:1024,code:16,highlight:Us,italic:2,lowercase:256,strikethrough:ur,subscript:32,superscript:64,underline:dr,uppercase:512},ku={directionless:1,unmergeable:2},Fo={center:Hs,end:Xs,justify:Ys,left:Js,right:qs,start:Gs},Eu={[Hs]:"center",[Xs]:"end",[Ys]:"justify",[Js]:"left",[qs]:"right",[Gs]:"start"},Pu={normal:0,segmented:2,token:1},Mu={[vu]:"normal",[Su]:"segmented",[Cu]:"token"},jo="$config";function dl(n,e,t,r,s,o){let i=n.getFirstChild();for(;i!==null;){const l=i.__key;i.__parent===e&&(b(i)&&dl(i,l,t,r,s,o),t.has(l)||o.delete(l),s.push(l)),i=i.getNextSibling()}}const Ou=100;let cs=!1,Qs=0;function Au(n){Qs=n.timeStamp}function Hr(n,e,t){const r=n.nodeName==="BR",s=e.__lexicalLineBreak;return s&&(n===s||r&&n.previousSibling===s)||r&&Dr(n,t)!==void 0}function Du(n,e,t){const r=$e(Pe(t));let s=null,o=null;r!==null&&r.anchorNode===n&&(s=r.anchorOffset,o=r.focusOffset);const i=n.nodeValue;i!==null&&yo(e,i,s,o,!1)}function Iu(n,e,t){if(O(n)){const r=n.anchor.getNode();if(r.is(t)&&n.format!==r.getFormat())return!1}return lt(e)&&t.isAttached()}function Lu(n,e,t,r){for(let s=n;s&&!Ld(s);s=Kn(s)){const o=Dr(s,e);if(o!==void 0){const i=re(o,t);if(i)return U(i)||!ue(s)?void 0:[s,i]}else if(s===r)return[r,da(t)]}}function fl(n,e,t){cs=!0;const r=performance.now()-Qs>Ou;try{Ne(n,()=>{const s=D()||function(d){return d.getEditorState().read(()=>{const p=D();return p!==null?p.clone():null})}(n),o=new Map,i=n.getRootElement(),l=n._editorState,a=n._blockCursorElement;let c=!1,u="";for(let d=0;d<e.length;d++){const p=e[d],h=p.type,g=p.target,_=Lu(g,n,l,i);if(!_)continue;const[v,y]=_;if(h==="characterData")r&&A(y)&&lt(g)&&Iu(s,g,y)&&Du(g,y,n);else if(h==="childList"){c=!0;const x=p.addedNodes;for(let S=0;S<x.length;S++){const k=x[S],T=ca(k),N=k.parentNode;if(N!=null&&k!==a&&T===null&&!Hr(k,N,n)){if(Mt){const I=(ue(k)?k.innerText:null)||k.nodeValue;I&&(u+=I)}N.removeChild(k)}}const C=p.removedNodes,E=C.length;if(E>0){let S=0;for(let k=0;k<E;k++){const T=C[k];(Hr(T,g,n)||a===T)&&(g.appendChild(T),S++)}E!==S&&o.set(v,y)}}}if(o.size>0)for(const[d,p]of o)p.reconcileObservedMutation(d,n);const f=t.takeRecords();if(f.length>0){for(let d=0;d<f.length;d++){const p=f[d],h=p.addedNodes,g=p.target;for(let _=0;_<h.length;_++){const v=h[_],y=v.parentNode;y==null||v.nodeName!=="BR"||Hr(v,g,n)||y.removeChild(v)}}t.takeRecords()}s!==null&&(c&&ye(s),Mt&&pa(n)&&s.insertRawText(u))})}finally{cs=!1}}function hl(n){const e=n._observer;e!==null&&fl(n,e.takeRecords(),e)}function gl(n){(function(e){Qs===0&&Pe(e).addEventListener("textInput",Au,!0)})(n),n._observer=new MutationObserver((e,t)=>{fl(n,e,t)})}function Fu(n){const e=new Map,t=new Set;for(let r=typeof n=="function"?n:n.replace;r.prototype&&r.prototype.getType!==void 0;r=Object.getPrototypeOf(r)){const{ownNodeConfig:s}=No(r);if(s&&s.stateConfigs)for(const o of s.stateConfigs){let i;"stateConfig"in o?(i=o.stateConfig,o.flat&&t.add(i.key)):i=o,e.set(i.key,i)}}return{flatKeys:t,sharedConfigMap:e}}let ju=class pl{constructor(e,t,r=void 0,s=new Map,o=void 0){this.node=e,this.sharedNodeState=t,this.unknownState=r,this.knownState=s;const{sharedConfigMap:i}=this.sharedNodeState,l=o!==void 0?o:function(a,c,u){let f=u.size;if(c)for(const d in c){const p=a.get(d);p&&u.has(p)||f++}return f}(i,r,s);this.size=l}getValue(e){const t=this.knownState.get(e);if(t!==void 0)return t;this.sharedNodeState.sharedConfigMap.set(e.key,e);let r=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const s=this.unknownState[e.key];s!==void 0&&(r=e.parse(s)),this.updateFromKnown(e,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState},t={};for(const[r,s]of this.knownState)r.isEqual(s,r.defaultValue)?delete e[r.key]:e[r.key]=r.unparse(s);for(const r of this.sharedNodeState.flatKeys)r in e&&(t[r]=e[r],delete e[r]);return Ro(e)&&(t.$=e),t}getWritable(e){if(this.node===e)return this;const{sharedNodeState:t,unknownState:r}=this,s=new Map(this.knownState);return new pl(e,t,function(o,i,l){let a;if(l)for(const[c,u]of Object.entries(l)){const f=o.get(c);f?i.has(f)||i.set(f,f.parse(u)):(a=a||{},a[c]=u)}return a}(t.sharedConfigMap,s,r),s,this.size)}updateFromKnown(e,t){const r=e.key;this.sharedNodeState.sharedConfigMap.set(r,e);const{knownState:s,unknownState:o}=this;s.has(e)||o&&r in o||(o&&(delete o[r],this.unknownState=Ro(o)),this.size++),s.set(e,t)}updateFromUnknown(e,t){const r=this.sharedNodeState.sharedConfigMap.get(e);r?this.updateFromKnown(r,r.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const r of t.keys())t.set(r,r.defaultValue);if(this.size=t.size,this.unknownState=void 0,e)for(const[r,s]of Object.entries(e))this.updateFromUnknown(r,s)}};function Ru(n){const e=n.getWritable(),t=e.__state?e.__state.getWritable(e):new ju(e,ml(e));return e.__state=t,t}function ml(n){return n.__state?n.__state.sharedNodeState:ia(Co(),n.getType()).sharedNodeState}function Ro(n){if(n)for(const e in n)return n}function $o(n,e,t){for(const[r,s]of e.knownState){if(n.has(r.key))continue;n.add(r.key);const o=t?t.getValue(r):r.defaultValue;if(o!==s&&!r.isEqual(o,s))return!0}return!1}function Bo(n,e,t){const{unknownState:r}=e,s=t?t.unknownState:void 0;if(r){for(const[o,i]of Object.entries(r))if(!n.has(o)&&(n.add(o),i!==(s?s[o]:void 0)))return!0}return!1}function Ko(n,e){const t=n.__state;return t&&t.node===n?t.getWritable(e):t}function zo(n,e){const t=n.__mode,r=n.__format,s=n.__style,o=e.__mode,i=e.__format,l=e.__style,a=n.__state,c=e.__state;return(t===null||t===o)&&(r===null||r===i)&&(s===null||s===l)&&(n.__state===null||a===c||function(u,f){if(u===f)return!0;if(u&&f&&u.size!==f.size)return!1;const d=new Set;return!(u&&$o(d,u,f)||f&&$o(d,f,u)||u&&Bo(d,u,f)||f&&Bo(d,f,u))}(a,c))}function Wo(n,e){const t=n.mergeWithSibling(e),r=Z()._normalizedNodes;return r.add(n.__key),r.add(e.__key),t}function Vo(n){let e,t,r=n;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(e=r.getPreviousSibling())!==null&&A(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(zo(e,r)){r=Wo(e,r);break}break}e.remove()}for(;(t=r.getNextSibling())!==null&&A(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(zo(r,t)){r=Wo(r,t);break}break}t.remove()}}else r.remove()}function fr(n){return Uo(n.anchor),Uo(n.focus),n}function Uo(n){for(;n.type==="element";){const e=n.getNode(),t=n.offset;let r,s;if(t===e.getChildrenSize()?(r=e.getChildAtIndex(t-1),s=!0):(r=e.getChildAtIndex(t),s=!1),A(r)){n.set(r.__key,s?r.getTextContentSize():0,"text",!0);break}if(!b(r))break;n.set(r.__key,s?r.getChildrenSize():0,"element",!0)}}let ft,_e,kn,kr,us,ds,Dt,je,fs,En,ne="",me="",We=null,Ve="",rt="",_l=!1,Pn=!1,tr=null;function hr(n,e){const t=Dt.get(n);if(e!==null){const r=ps(n);r.parentNode===e&&e.removeChild(r)}if(je.has(n)||_e._keyToDOMMap.delete(n),b(t)){const r=pr(t,Dt);hs(r,0,r.length-1,null)}t!==void 0&&xo(En,kn,kr,t,"destroyed")}function hs(n,e,t,r){let s=e;for(;s<=t;++s){const o=n[s];o!==void 0&&hr(o,r)}}function Nt(n,e){n.setProperty("text-align",e)}const $u="40px";function yl(n,e){const t=ft.theme.indent;if(typeof t=="string"){const s=n.classList.contains(t);e>0&&!s?n.classList.add(t):e<1&&s&&n.classList.remove(t)}const r=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||$u;n.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${r})`)}function xl(n,e){const t=n.style;e===0?Nt(t,""):e===Js?Nt(t,"left"):e===Hs?Nt(t,"center"):e===qs?Nt(t,"right"):e===Ys?Nt(t,"justify"):e===Gs?Nt(t,"start"):e===Xs&&Nt(t,"end")}function gr(n,e){const t=je.get(n);t===void 0&&M(60);const r=t.createDOM(ft,_e);if(function(s,o,i){const l=i._keyToDOMMap;(function(a,c,u){const f=`__lexicalKey_${c._key}`;a[f]=u})(o,i,s),l.set(s,o)}(n,r,_e),A(t)?r.setAttribute("data-lexical-text","true"):U(t)&&r.setAttribute("data-lexical-decorator","true"),b(t)){const s=t.__indent,o=t.__size;if(s!==0&&yl(r,s),o!==0){const l=o-1;(function(a,c,u,f){const d=me;me="",gs(a,u,0,c,u.getDOMSlot(f)),Cl(u,f),me=d})(pr(t,je),l,t,r)}const i=t.__format;i!==0&&xl(r,i),t.isInline()||vl(null,t,r),Ir(t)&&(ne+=ot,rt+=ot)}else{const s=t.getTextContent();if(U(t)){const o=t.decorate(_e,ft);o!==null&&Sl(n,o),r.contentEditable="false"}else A(t)&&(t.isDirectionless()||(me+=s));ne+=s,rt+=s}return e!==null&&e.insertChild(r),xo(En,kn,kr,t,"created"),r}function gs(n,e,t,r,s){const o=ne;ne="";let i=t;for(;i<=r;++i){gr(n[i],s);const l=je.get(n[i]);l!==null&&A(l)&&(We===null&&(We=l.getFormat()),Ve===""&&(Ve=l.getStyle()))}Ir(e)&&(ne+=ot),s.element.__lexicalTextContent=ne,ne=o+ne}function Jo(n,e){if(n){const t=n.__last;if(t){const r=e.get(t);if(r)return Xt(r)?"line-break":U(r)&&r.isInline()?"decorator":null}return"empty"}return null}function vl(n,e,t){const r=Jo(n,Dt),s=Jo(e,je);r!==s&&e.getDOMSlot(t).setManagedLineBreak(s)}function Cl(n,e){const t=e.__lexicalDirTextContent||"",r=e.__lexicalDir||"";if(t!==me||r!==tr){const s=me==="",o=s?tr:function(i){return wu.test(i)?"rtl":Tu.test(i)?"ltr":null}(me);if(o!==r){const i=e.classList,l=ft.theme;let a=r!==null?l[r]:void 0,c=o!==null?l[o]:void 0;if(a!==void 0){if(typeof a=="string"){const u=cr(a);a=l[r]=u}i.remove(...a)}if(o===null||s&&o==="ltr")e.removeAttribute("dir");else{if(c!==void 0){if(typeof c=="string"){const u=cr(c);c=l[o]=u}c!==void 0&&i.add(...c)}e.dir=o}Pn||(n.getWritable().__dir=o)}tr=o,e.__lexicalDirTextContent=me,e.__lexicalDir=o}}function Bu(n,e,t){const r=me;var s;me="",We=null,Ve="",function(o,i,l){const a=ne,c=o.__size,u=i.__size;ne="";const f=l.element;if(c===1&&u===1){const d=o.__first,p=i.__first;if(d===p)xn(d,f);else{const g=ps(d),_=gr(p,null);try{f.replaceChild(_,g)}catch(v){if(typeof v=="object"&&v!=null){const y=`${v.toString()} Parent: ${f.tagName}, new child: {tag: ${_.tagName} key: ${p}}, old child: {tag: ${g.tagName}, key: ${d}}.`;throw new Error(y)}throw v}hr(d,null)}const h=je.get(p);A(h)&&(We===null&&(We=h.getFormat()),Ve===""&&(Ve=h.getStyle()))}else{const d=pr(o,Dt),p=pr(i,je);if(d.length!==c&&M(227),p.length!==u&&M(228),c===0)u!==0&&gs(p,i,0,u-1,l);else if(u===0){if(c!==0){const h=l.after==null&&l.before==null&&l.element.__lexicalLineBreak==null;hs(d,0,c-1,h?null:f),h&&(f.textContent="")}}else(function(h,g,_,v,y,x){const C=v-1,E=y-1;let S,k,T=x.getFirstChild(),N=0,I=0;for(;N<=C&&I<=E;){const R=g[N],P=_[I];if(R===P)T=qr(xn(P,x.element)),N++,I++;else{S===void 0&&(S=new Set(g)),k===void 0&&(k=new Set(_));const W=k.has(R),Y=S.has(P);if(W)if(Y){const te=sn(_e,P);te===T?T=qr(xn(P,x.element)):(x.withBefore(T).insertChild(te),xn(P,x.element)),N++,I++}else gr(P,x.withBefore(T)),I++;else T=qr(ps(R)),hr(R,x.element),N++}const B=je.get(P);B!==null&&A(B)&&(We===null&&(We=B.getFormat()),Ve===""&&(Ve=B.getStyle()))}const F=N>C,z=I>E;if(F&&!z){const R=_[E+1],P=R===void 0?null:_e.getElementByKey(R);gs(_,h,I,E,x.withBefore(P))}else z&&!F&&hs(g,N,C,x.element)})(i,d,p,c,u,l)}Ir(i)&&(ne+=ot),f.__lexicalTextContent=ne,ne=a+ne}(n,e,e.getDOMSlot(t)),Cl(e,t),s=e,We==null||We===s.__textFormat||Pn||s.setTextFormat(We),function(o){Ve===""||Ve===o.__textStyle||Pn||o.setTextStyle(Ve)}(e),me=r}function pr(n,e){const t=[];let r=n.__first;for(;r!==null;){const s=e.get(r);s===void 0&&M(101),t.push(r),r=s.__next}return t}function xn(n,e){const t=Dt.get(n);let r=je.get(n);t!==void 0&&r!==void 0||M(61);const s=_l||ds.has(n)||us.has(n),o=sn(_e,n);if(t===r&&!s){if(b(t)){const i=o.__lexicalTextContent;i!==void 0&&(ne+=i,rt+=i);const l=o.__lexicalDirTextContent;l!==void 0&&(me+=l)}else{const i=t.getTextContent();A(t)&&!t.isDirectionless()&&(me+=i),rt+=i,ne+=i}return o}if(t!==r&&s&&xo(En,kn,kr,r,"updated"),r.updateDOM(t,o,ft)){const i=gr(n,null);return e===null&&M(62),e.replaceChild(i,o),hr(n,null),i}if(b(t)&&b(r)){const i=r.__indent;i!==t.__indent&&yl(o,i);const l=r.__format;l!==t.__format&&xl(o,l),s&&(Bu(t,r,o),he(r)||r.isInline()||vl(t,r,o)),Ir(r)&&(ne+=ot,rt+=ot)}else{const i=r.getTextContent();if(U(r)){const l=r.decorate(_e,ft);l!==null&&Sl(n,l)}else A(r)&&!r.isDirectionless()&&(me+=i);ne+=i,rt+=i}if(!Pn&&he(r)&&r.__cachedText!==rt){const i=r.getWritable();i.__cachedText=rt,r=i}return o}function Sl(n,e){let t=_e._pendingDecorators;const r=_e._decorators;if(t===null){if(r[n]===e)return;t=ua(_e)}t[n]=e}function qr(n){let e=n.nextSibling;return e!==null&&e===_e._blockCursorElement&&(e=e.nextSibling),e}function Ku(n,e,t,r,s,o){ne="",rt="",me="",_l=r===tn,tr=null,_e=t,ft=t._config,kn=t._nodes,kr=_e._listeners.mutation,us=s,ds=o,Dt=n._nodeMap,je=e._nodeMap,Pn=e._readOnly,fs=new Map(t._keyToDOMMap);const i=new Map;return En=i,xn("root",null),_e=void 0,kn=void 0,us=void 0,ds=void 0,Dt=void 0,je=void 0,ft=void 0,fs=void 0,En=void 0,i}function ps(n){const e=fs.get(n);return e===void 0&&M(75,n),e}function j(n){return{type:n}}const Zs=j("SELECTION_CHANGE_COMMAND"),zu=j("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),bl=j("CLICK_COMMAND"),kt=j("DELETE_CHARACTER_COMMAND"),qt=j("INSERT_LINE_BREAK_COMMAND"),Mn=j("INSERT_PARAGRAPH_COMMAND"),Yt=j("CONTROLLED_TEXT_INSERTION_COMMAND"),eo=j("PASTE_COMMAND"),ms=j("REMOVE_TEXT_COMMAND"),On=j("DELETE_WORD_COMMAND"),An=j("DELETE_LINE_COMMAND"),Fe=j("FORMAT_TEXT_COMMAND"),to=j("UNDO_COMMAND"),no=j("REDO_COMMAND"),Wu=j("KEYDOWN_COMMAND"),Nl=j("KEY_ARROW_RIGHT_COMMAND"),Vu=j("MOVE_TO_END"),wl=j("KEY_ARROW_LEFT_COMMAND"),Uu=j("MOVE_TO_START"),Tl=j("KEY_ARROW_UP_COMMAND"),kl=j("KEY_ARROW_DOWN_COMMAND"),mr=j("KEY_ENTER_COMMAND"),El=j("KEY_SPACE_COMMAND"),Pl=j("KEY_BACKSPACE_COMMAND"),Ml=j("KEY_ESCAPE_COMMAND"),Ol=j("KEY_DELETE_COMMAND"),Al=j("KEY_TAB_COMMAND"),Ju=j("INSERT_TAB_COMMAND"),Hu=j("INDENT_CONTENT_COMMAND"),Ho=j("OUTDENT_CONTENT_COMMAND"),Dl=j("DROP_COMMAND"),qu=j("FORMAT_ELEMENT_COMMAND"),Il=j("DRAGSTART_COMMAND"),Ll=j("DRAGOVER_COMMAND"),Yu=j("DRAGEND_COMMAND"),Er=j("COPY_COMMAND"),ro=j("CUT_COMMAND"),_s=j("SELECT_ALL_COMMAND"),Gu=j("CLEAR_EDITOR_COMMAND"),Xu=j("CLEAR_HISTORY_COMMAND"),Vn=j("CAN_REDO_COMMAND"),Un=j("CAN_UNDO_COMMAND"),Qu=j("FOCUS_COMMAND"),Zu=j("BLUR_COMMAND"),ed=j("KEY_MODIFIER_COMMAND"),Ze=Object.freeze({}),ys=30,xs=[["keydown",function(n,e){if(Cn=n.timeStamp,Fl=n.key,!e.isComposing()&&!L(e,Wu,n)&&n.key!=null){if(Yr&&Ci(n))return Ne(e,()=>{Jn(e,Gr)}),Yr=!1,void(Gr="");if(function(t){return H(t,"ArrowRight",{shiftKey:"any"})}(n))L(e,Nl,n);else if(function(t){return H(t,"ArrowRight",tt)}(n))L(e,Vu,n);else if(function(t){return H(t,"ArrowLeft",{shiftKey:"any"})}(n))L(e,wl,n);else if(function(t){return H(t,"ArrowLeft",tt)}(n))L(e,Uu,n);else if(function(t){return H(t,"ArrowUp",{altKey:"any",shiftKey:"any"})}(n))L(e,Tl,n);else if(function(t){return H(t,"ArrowDown",{altKey:"any",shiftKey:"any"})}(n))L(e,kl,n);else if(function(t){return H(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(n))Sn=!0,L(e,mr,n);else if(function(t){return t.key===" "}(n))L(e,El,n);else if(function(t){return Ue&&H(t,"o",{ctrlKey:!0})}(n))n.preventDefault(),Sn=!0,L(e,qt,!0);else if(function(t){return H(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(n))Sn=!1,L(e,mr,n);else if(function(t){return H(t,"Backspace",{shiftKey:"any"})||Ue&&H(t,"h",{ctrlKey:!0})}(n))Ci(n)?L(e,Pl,n):(n.preventDefault(),L(e,kt,!0));else if(function(t){return t.key==="Escape"}(n))L(e,Ml,n);else if(function(t){return H(t,"Delete",{})||Ue&&H(t,"d",{ctrlKey:!0})}(n))(function(t){return t.key==="Delete"})(n)?L(e,Ol,n):(n.preventDefault(),L(e,kt,!1));else if(function(t){return H(t,"Backspace",vi)}(n))n.preventDefault(),L(e,On,!0);else if(function(t){return H(t,"Delete",vi)}(n))n.preventDefault(),L(e,On,!1);else if(function(t){return Ue&&H(t,"Backspace",{metaKey:!0})}(n))n.preventDefault(),L(e,An,!0);else if(function(t){return Ue&&(H(t,"Delete",{metaKey:!0})||H(t,"k",{ctrlKey:!0}))}(n))n.preventDefault(),L(e,An,!1);else if(function(t){return H(t,"b",tt)}(n))n.preventDefault(),L(e,Fe,"bold");else if(function(t){return H(t,"u",tt)}(n))n.preventDefault(),L(e,Fe,"underline");else if(function(t){return H(t,"i",tt)}(n))n.preventDefault(),L(e,Fe,"italic");else if(function(t){return H(t,"Tab",{shiftKey:"any"})}(n))L(e,Al,n);else if(function(t){return H(t,"z",tt)}(n))n.preventDefault(),L(e,to,void 0);else if(function(t){return Ue?H(t,"z",{metaKey:!0,shiftKey:!0}):H(t,"y",{ctrlKey:!0})||H(t,"z",{ctrlKey:!0,shiftKey:!0})}(n))n.preventDefault(),L(e,no,void 0);else{const t=e._editorState._selection;t===null||O(t)?Si(n)&&(n.preventDefault(),L(e,_s,n)):function(r){return H(r,"c",tt)}(n)?(n.preventDefault(),L(e,Er,n)):function(r){return H(r,"x",tt)}(n)?(n.preventDefault(),L(e,ro,n)):Si(n)&&(n.preventDefault(),L(e,_s,n))}(function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey})(n)&&L(e,ed,n)}}],["pointerdown",function(n,e){const t=n.target,r=n.pointerType;un(t)&&r!=="touch"&&r!=="pen"&&n.button===0&&Ne(e,()=>{_i(t)||(Cs=!0)})}],["compositionstart",function(n,e){Ne(e,()=>{const t=D();if(O(t)&&!e.isComposing()){const r=t.anchor,s=t.anchor.getNode();fe(r.key),(n.timeStamp<Cn+ys||r.type==="element"||!t.isCollapsed()||s.getFormat()!==t.format||A(s)&&s.getStyle()!==t.style)&&L(e,Yt,Nu)}})}],["compositionend",function(n,e){Mt?mn=!0:en||!Tn&&!ar?Ne(e,()=>{Jn(e,n.data)}):(Yr=!0,Gr=n.data)}],["input",function(n,e){n.stopPropagation(),Ne(e,()=>{if(ue(n.target)&&_i(n.target))return;const t=D(),r=n.data,s=Kl(n);if(r!=null&&O(t)&&$l(t,s,r,n.timeStamp,!1)){mn&&(Jn(e,r),mn=!1);const o=t.anchor.getNode(),i=$e(Pe(e));if(i===null)return;const l=t.isBackward(),a=l?t.anchor.offset:t.focus.offset,c=l?t.focus.offset:t.anchor.offset;lr&&!t.isCollapsed()&&A(o)&&i.anchorNode!==null&&o.getTextContent().slice(0,a)+r+o.getTextContent().slice(a+c)===ga(i.anchorNode)||L(e,Yt,r);const u=r.length;Mt&&u>1&&n.inputType==="insertCompositionText"&&!e.isComposing()&&(t.anchor.offset-=u),Tn||en||ar||!e.isComposing()||(Cn=0,fe(null))}else _o(!1,e,r!==null?r:void 0),mn&&(Jn(e,r||void 0),mn=!1);(function(){ge();const o=Z();hl(o)})()},{event:n}),Ut=null}],["click",function(n,e){Ne(e,()=>{const t=D(),r=$e(Pe(e)),s=cn();if(r){if(O(t)){const o=t.anchor,i=o.getNode();if(o.type==="element"&&o.offset===0&&t.isCollapsed()&&!he(i)&&ee().getChildrenSize()===1&&i.getTopLevelElementOrThrow().isEmpty()&&s!==null&&t.is(s))r.removeAllRanges(),t.dirty=!0;else if(n.detail===3&&!t.isCollapsed()&&i!==t.focus.getNode()){const l=function(a,c){let u=a;for(;u!==ee()&&u!=null;){if(c(u))return u;u=u.getParent()}return null}(i,a=>b(a)&&!a.isInline());b(l)&&l.select(0)}}else if(n.pointerType==="touch"||n.pointerType==="pen"){const o=r.anchorNode;(ue(o)||lt(o))&&ye(io(s,r,e,n))}}L(e,bl,n)})}],["cut",Ze],["copy",Ze],["dragstart",Ze],["dragover",Ze],["dragend",Ze],["paste",Ze],["focus",Ze],["blur",Ze],["drop",Ze]];lr&&xs.push(["beforeinput",(n,e)=>function(t,r){const s=t.inputType,o=Kl(t);s==="deleteCompositionText"||Mt&&pa(r)||s!=="insertCompositionText"&&Ne(r,()=>{const i=D();if(s==="deleteContentBackward"){if(i===null){const p=cn();if(!O(p))return;ye(p.clone())}if(O(i)){const p=i.anchor.key===i.focus.key;if(l=t.timeStamp,Fl==="MediaLast"&&l<Cn+ys&&r.isComposing()&&p){if(fe(null),Cn=0,setTimeout(()=>{Ne(r,()=>{fe(null)})},ys),O(i)){const h=i.anchor.getNode();h.markDirty(),A(h)||M(142),Bl(i,h)}}else{fe(null),t.preventDefault();const h=i.anchor.getNode(),g=h.getTextContent(),_=h.canInsertTextAfter(),v=i.anchor.offset===0&&i.focus.offset===g.length;let y=Lo&&p&&!v&&_;if(y&&i.isCollapsed()&&(y=!U(ks(i.anchor,!0))),!y){L(r,kt,!0);const x=D();Lo&&O(x)&&x.isCollapsed()&&(wt=x,setTimeout(()=>wt=null))}}return}}var l;if(!O(i))return;const a=t.data;Ut!==null&&_o(!1,r,Ut),i.dirty&&Ut===null||!i.isCollapsed()||he(i.anchor.getNode())||o===null||i.applyDOMRange(o),Ut=null;const c=i.anchor,u=i.focus,f=c.getNode(),d=u.getNode();if(s!=="insertText"&&s!=="insertTranspose")switch(t.preventDefault(),s){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":L(r,Yt,t);break;case"insertFromComposition":fe(null),L(r,Yt,t);break;case"insertLineBreak":fe(null),L(r,qt,!1);break;case"insertParagraph":fe(null),Sn&&!en?(Sn=!1,L(r,qt,!1)):L(r,Mn,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":L(r,eo,t);break;case"deleteByComposition":(function(p,h){return p!==h||b(p)||b(h)||!Et(p)||!Et(h)})(f,d)&&L(r,ms,t);break;case"deleteByDrag":case"deleteByCut":L(r,ms,t);break;case"deleteContent":L(r,kt,!1);break;case"deleteWordBackward":L(r,On,!0);break;case"deleteWordForward":L(r,On,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":L(r,An,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":L(r,An,!1);break;case"formatStrikeThrough":L(r,Fe,"strikethrough");break;case"formatBold":L(r,Fe,"bold");break;case"formatItalic":L(r,Fe,"italic");break;case"formatUnderline":L(r,Fe,"underline");break;case"historyUndo":L(r,to,void 0);break;case"historyRedo":L(r,no,void 0)}else{if(a===`
`)t.preventDefault(),L(r,qt,!1);else if(a===ot)t.preventDefault(),L(r,Mn,void 0);else if(a==null&&t.dataTransfer){const p=t.dataTransfer.getData("text/plain");t.preventDefault(),i.insertRawText(p)}else a!=null&&$l(i,o,a,t.timeStamp,!0)?(t.preventDefault(),L(r,Yt,a)):Ut=a;jl=t.timeStamp}})}(n,e)]);let Cn=0,Fl=null,jl=0,Ut=null;const _r=new WeakMap;let vs=!1,Cs=!1,Sn=!1,mn=!1,Yr=!1,Gr="",wt=null,Rl=[0,"",0,"root",0];function $l(n,e,t,r,s){const o=n.anchor,i=n.focus,l=o.getNode(),a=Z(),c=$e(Pe(a)),u=c!==null?c.anchorNode:null,f=o.key,d=a.getElementByKey(f),p=t.length;return f!==i.key||!A(l)||(!s&&(!lr||jl<r+50)||l.isDirty()&&p<2||fa(t))&&o.offset!==i.offset&&!l.isComposing()||nt(l)||l.isDirty()&&p>1||(s||!lr)&&d!==null&&!l.isComposing()&&u!==nn(d)||c!==null&&e!==null&&(!e.collapsed||e.startContainer!==c.anchorNode||e.startOffset!==c.anchorOffset)||l.getFormat()!==n.format||l.getStyle()!==n.style||function(h,g){if(g.isSegmented())return!0;if(!h.isCollapsed())return!1;const _=h.anchor.offset,v=g.getParentOrThrow(),y=Et(g);return _===0?!g.canInsertTextBefore()||!v.canInsertTextBefore()&&!g.isComposing()||y||function(x){const C=x.getPreviousSibling();return(A(C)||b(C)&&C.isInline())&&!C.canInsertTextAfter()}(g):_===g.getTextContentSize()&&(!g.canInsertTextAfter()||!v.canInsertTextAfter()&&!g.isComposing()||y)}(n,l)}function qo(n,e){return lt(n)&&n.nodeValue!==null&&e!==0&&e!==n.nodeValue.length}function Yo(n,e,t){const{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:i}=n;vs&&(vs=!1,qo(r,s)&&qo(o,i)&&!wt)||Ne(e,()=>{if(!t)return void ye(null);if(!Bn(e,r,o))return;let l=D();if(wt&&O(l)&&l.isCollapsed()){const a=l.anchor,c=wt.anchor;(a.key===c.key&&a.offset===c.offset+1||a.offset===1&&c.getNode().is(a.getNode().getPreviousSibling()))&&(l=wt.clone(),ye(l))}if(wt=null,O(l)){const a=l.anchor,c=a.getNode();if(l.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(l.dirty=!0);const u=Pe(e).event,f=u?u.timeStamp:performance.now(),[d,p,h,g,_]=Rl,v=ee(),y=e.isComposing()===!1&&v.getTextContent()==="";if(f<_+200&&a.offset===h&&a.key===g)nr(l,d,p);else if(a.type==="text")A(c)||M(141),Bl(l,c);else if(a.type==="element"&&!y){b(c)||M(259);const x=a.getNode();x.isEmpty()?function(C,E){const S=E.getTextFormat(),k=E.getTextStyle();nr(C,S,k)}(l,x):nr(l,0,"")}}else{const u=a.key,f=l.focus.key,d=l.getNodes(),p=d.length,h=l.isBackward(),g=h?i:s,_=h?s:i,v=h?f:u,y=h?u:f;let x=bu,C=!1;for(let E=0;E<p;E++){const S=d[E],k=S.getTextContentSize();if(A(S)&&k!==0&&!(E===0&&S.__key===v&&g===k||E===p-1&&S.__key===y&&_===0)&&(C=!0,x&=S.getFormat(),x===0))break}l.format=C?x:0}}L(e,Zs,void 0)})}function nr(n,e,t){n.format===e&&n.style===t||(n.format=e,n.style=t,n.dirty=!0)}function Bl(n,e){nr(n,e.getFormat(),e.getStyle())}function Kl(n){if(!n.getTargetRanges)return null;const e=n.getTargetRanges();return e.length===0?null:e[0]}function Jn(n,e){const t=n._compositionKey;if(fe(null),t!==null&&e!=null){if(e===""){const r=re(t),s=nn(n.getElementByKey(t));return void(s!==null&&s.nodeValue!==null&&A(r)&&yo(r,s.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const r=D();if(O(r)){const s=r.focus;return r.anchor.set(s.key,s.offset,s.type),void L(n,mr,null)}}}_o(!0,n,e)}function zl(n){let e=n.__lexicalEventHandles;return e===void 0&&(e=[],n.__lexicalEventHandles=e),e}const Gt=new Map;function Wl(n){const e=Dd(n.target);if(e===null)return;const t=la(e.anchorNode);if(t===null)return;Cs&&(Cs=!1,Ne(t,()=>{const a=cn(),c=e.anchorNode;(ue(c)||lt(c))&&ye(io(a,e,t,n))}));const r=mo(t),s=r[r.length-1],o=s._key,i=Gt.get(o),l=i||s;l!==t&&Yo(e,l,!1),Yo(e,t,!0),t!==s?Gt.set(o,t):i&&Gt.delete(o)}function Go(n){n._lexicalHandled=!0}function Xo(n){return n._lexicalHandled===!0}function td(n){const e=n.ownerDocument,t=_r.get(e);if(t===void 0)return;const r=t-1;r>=0||M(164),_r.set(e,r),r===0&&e.removeEventListener("selectionchange",Wl);const s=Ar(n);po(s)?(function(i){if(i._parentEditor!==null){const l=mo(i),a=l[l.length-1]._key;Gt.get(a)===i&&Gt.delete(a)}else Gt.delete(i._key)}(s),n.__lexicalEditor=null):s&&M(198);const o=zl(n);for(let i=0;i<o.length;i++)o[i]();n.__lexicalEventHandles=[]}function Ss(n,e,t){ge();const r=n.__key,s=n.getParent();if(s===null)return;const o=function(l){const a=D();if(!O(a)||!b(l))return a;const{anchor:c,focus:u}=a,f=c.getNode(),d=u.getNode();return Es(f,l)&&c.set(l.__key,0,"element"),Es(d,l)&&u.set(l.__key,0,"element"),a}(n);let i=!1;if(O(o)&&e){const l=o.anchor,a=o.focus;l.key===r&&(xr(l,n,s,n.getPreviousSibling(),n.getNextSibling()),i=!0),a.key===r&&(xr(a,n,s,n.getPreviousSibling(),n.getNextSibling()),i=!0)}else be(o)&&e&&n.isSelected()&&n.selectPrevious();if(O(o)&&e&&!i){const l=n.getIndexWithinParent();Pt(n),yr(o,s,l,-1)}else Pt(n);t||we(s)||s.canBeEmpty()||!s.isEmpty()||Ss(s,e),e&&o&&he(s)&&s.isEmpty()&&s.selectEnd()}class an{static getType(){const{ownNodeType:e}=No(this);return e===void 0&&M(64,this.name),e}static clone(e){M(65,this.name)}$config(){return{}}config(e,t){const r=t.extends||Object.getPrototypeOf(this.constructor);return Object.assign(t,{extends:r,type:e}),{[e]:t}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),Td(this,e)}getType(){return this.__type}isInline(){M(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const t=re(e);if(t===null)break;e=t.__parent}return!1}isSelected(e){const t=e||D();if(t==null)return!1;const r=t.getNodes().some(s=>s.__key===this.__key);if(A(this))return r;if(O(t)&&t.anchor.type==="element"&&t.focus.type==="element"){if(t.isCollapsed())return!1;const s=this.getParent();if(U(this)&&this.isInline()&&s){const o=t.isBackward()?t.focus:t.anchor;if(s.is(o.getNode())&&o.offset===s.getChildrenSize()&&this.is(s.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let t=e.getFirstChild(),r=0;for(;t!==null;){if(this.is(t))return r;r++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:re(e)}getParentOrThrow(){const e=this.getParent();return e===null&&M(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const t=e.getParent();if(we(t))return b(e)||e===this&&U(e)||M(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&M(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:re(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(t===null)return e;let r=t.getFirstChild();for(;r!==null&&!r.is(this);)e.push(r),r=r.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:re(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=b(this)?this:this.getParent(),r=b(e)?e:e.getParent(),s=t&&r?sr(t,r):null;return s?s.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const t=sr(this,e);return t!==null&&(t.type==="descendant"||(t.type==="branch"?xa(t)===-1:(t.type!=="same"&&t.type!=="ancestor"&&M(279),!1)))}isParentOf(e){const t=sr(this,e);return t!==null&&t.type==="ancestor"}getNodesBetween(e){const t=this.isBefore(e),r=[],s=new Set;let o=this;for(;o!==null;){const i=o.__key;if(s.has(i)||(s.add(i),r.push(o)),o===e)break;const l=b(o)?t?o.getFirstChild():o.getLastChild():null;if(l!==null){o=l;continue}const a=t?o.getNextSibling():o.getPreviousSibling();if(a!==null){o=a;continue}const c=o.getParentOrThrow();if(s.has(c.__key)||r.push(c),c===e)break;let u=null,f=c;do{if(f===null&&M(68),u=t?f.getNextSibling():f.getPreviousSibling(),f=f.getParent(),f===null)break;u!==null||s.has(f.__key)||r.push(f)}while(u===null);o=u}return t||r.reverse(),r}isDirty(){const e=Z()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){const e=re(this.__key);return e===null&&M(113),e}getWritable(){ge();const e=gt(),t=Z(),r=e._nodeMap,s=this.__key,o=this.getLatest(),i=t._cloneNotNeeded,l=D();if(l!==null&&l.setCachedNodes(null),i.has(s))return Cr(o),o;const a=So(o);return i.add(s),Cr(a),r.set(s,a),a}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){M(70)}updateDOM(e,t,r){M(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){M(18,this.name)}updateFromJSON(e){return function(t,r){const s=t.getWritable(),o=r.$;let i=o;for(const l of ml(s).flatKeys)l in r&&(i!==void 0&&i!==o||(i={...o}),i[l]=r[l]);return(s.__state||i)&&Ru(t).updateFromJSON(i),s}(this,e)}static transform(){return null}remove(e){Ss(this,!0,e)}replace(e,t){ge();let r=D();r!==null&&(r=r.clone()),ns(this,e);const s=this.getLatest(),o=this.__key,i=e.__key,l=e.getWritable(),a=this.getParentOrThrow().getWritable(),c=a.__size;Pt(l);const u=s.getPreviousSibling(),f=s.getNextSibling(),d=s.__prev,p=s.__next,h=s.__parent;if(Ss(s,!1,!0),u===null?a.__first=i:u.getWritable().__next=i,l.__prev=d,f===null?a.__last=i:f.getWritable().__prev=i,l.__next=p,l.__parent=h,a.__size=c,t&&(b(this)&&b(l)||M(139),this.getChildren().forEach(g=>{l.append(g)})),O(r)){ye(r);const g=r.anchor,_=r.focus;g.key===o&&ti(g,l),_.key===o&&ti(_,l)}return at()===o&&fe(i),l}insertAfter(e,t=!0){ge(),ns(this,e);const r=this.getWritable(),s=e.getWritable(),o=s.getParent(),i=D();let l=!1,a=!1;if(o!==null){const p=e.getIndexWithinParent();if(Pt(s),O(i)){const h=o.__key,g=i.anchor,_=i.focus;l=g.type==="element"&&g.key===h&&g.offset===p+1,a=_.type==="element"&&_.key===h&&_.offset===p+1}}const c=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),f=s.__key,d=r.__next;if(c===null?u.__last=f:c.getWritable().__prev=f,u.__size++,r.__next=f,s.__next=d,s.__prev=r.__key,s.__parent=r.__parent,t&&O(i)){const p=this.getIndexWithinParent();yr(i,u,p+1);const h=u.__key;l&&i.anchor.set(h,p+2,"element"),a&&i.focus.set(h,p+2,"element")}return e}insertBefore(e,t=!0){ge(),ns(this,e);const r=this.getWritable(),s=e.getWritable(),o=s.__key;Pt(s);const i=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),a=r.__prev,c=this.getIndexWithinParent();i===null?l.__first=o:i.getWritable().__next=o,l.__size++,r.__prev=o,s.__prev=a,s.__next=r.__key,s.__parent=r.__parent;const u=D();return t&&O(u)&&yr(u,this.getParentOrThrow(),c),e}isParentRequired(){return!1}createParentElementNode(){return se()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){ge();const r=this.getPreviousSibling(),s=this.getParentOrThrow();if(r===null)return s.select(0,0);if(b(r))return r.select();if(!A(r)){const o=r.getIndexWithinParent()+1;return s.select(o,o)}return r.select(e,t)}selectNext(e,t){ge();const r=this.getNextSibling(),s=this.getParentOrThrow();if(r===null)return s.select();if(b(r))return r.select(0,0);if(!A(r)){const o=r.getIndexWithinParent();return s.select(o,o)}return r.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}class In extends an{static getType(){return"linebreak"}static clone(e){return new In(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(t){const r=t.parentElement;if(r!==null&&Sr(r)){const s=r.firstChild;if(s===t||s.nextSibling===t&&Hn(s)){const o=r.lastChild;if(o===t||o.previousSibling===t&&Hn(o))return!0}}return!1}(e)||function(t){const r=t.parentElement;if(r!==null&&Sr(r)){const s=r.firstChild;if(s===t||s.nextSibling===t&&Hn(s))return!1;const o=r.lastChild;if(o===t||o.previousSibling===t&&Hn(o))return!0}return!1}(e)?null:{conversion:nd,priority:0}}}static importJSON(e){return It().updateFromJSON(e)}}function nd(n){return{node:It()}}function It(){return pt(new In)}function Xt(n){return n instanceof In}function Hn(n){return lt(n)&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function Xr(n,e){return 16&e?"code":e&Us?"mark":32&e?"sub":64&e?"sup":null}function Qr(n,e){return 1&e?"strong":2&e?"em":"span"}function Vl(n,e,t,r,s){const o=r.classList;let i=Qt(s,"base");i!==void 0&&o.add(...i),i=Qt(s,"underlineStrikethrough");let l=!1;const a=e&dr&&e&ur;i!==void 0&&(t&dr&&t&ur?(l=!0,a||o.add(...i)):a&&o.remove(...i));for(const c in At){const u=At[c];if(i=Qt(s,c),i!==void 0)if(t&u){if(l&&(c==="underline"||c==="strikethrough")){e&u&&o.remove(...i);continue}e&u&&(!a||c!=="underline")&&c!=="strikethrough"||o.add(...i)}else e&u&&o.remove(...i)}}function Ul(n,e,t){const r=e.firstChild,s=t.isComposing(),o=n+(s?Tr:"");if(r==null)e.textContent=o;else{const i=r.nodeValue;if(i!==o)if(s||Mt){const[l,a,c]=function(u,f){const d=u.length,p=f.length;let h=0,g=0;for(;h<d&&h<p&&u[h]===f[h];)h++;for(;g+h<d&&g+h<p&&u[d-g-1]===f[p-g-1];)g++;return[h,d-h-g,f.slice(h,p-g)]}(i,o);a!==0&&r.deleteData(l,a),r.insertData(l,c)}else r.nodeValue=o}}function Qo(n,e,t,r,s,o){Ul(s,n,e);const i=o.theme.text;i!==void 0&&Vl(0,0,r,n,i)}function qn(n,e){const t=document.createElement(e);return t.appendChild(n),t}class Kt extends an{static getType(){return"text"}static clone(e){return new Kt(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return Mu[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===at()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=At[e];return!!(this.getFormat()&t)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return vr(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){const r=this.__format,s=Xr(0,r),o=Qr(0,r),i=s===null?o:s,l=document.createElement(i);let a=l;this.hasFormat("code")&&l.setAttribute("spellcheck","false"),s!==null&&(a=document.createElement(o),l.appendChild(a)),Qo(a,this,0,r,this.__text,e);const c=this.__style;return c!==""&&(l.style.cssText=c),l}updateDOM(e,t,r){const s=this.__text,o=e.__format,i=this.__format,l=Xr(0,o),a=Xr(0,i),c=Qr(0,o),u=Qr(0,i);if((l===null?c:l)!==(a===null?u:a))return!0;if(l===a&&c!==u){const g=t.firstChild;g==null&&M(48);const _=document.createElement(u);return Qo(_,this,0,i,s,r),t.replaceChild(_,g),!1}let f=t;a!==null&&l!==null&&(f=t.firstChild,f==null&&M(49)),Ul(s,f,this);const d=r.theme.text;d!==void 0&&o!==i&&Vl(0,o,i,f,d);const p=e.__style,h=this.__style;return p!==h&&(t.style.cssText=h),!1}static importDOM(){return{"#text":()=>({conversion:id,priority:0}),b:()=>({conversion:sd,priority:0}),code:()=>({conversion:et,priority:0}),em:()=>({conversion:et,priority:0}),i:()=>({conversion:et,priority:0}),mark:()=>({conversion:et,priority:0}),s:()=>({conversion:et,priority:0}),span:()=>({conversion:rd,priority:0}),strong:()=>({conversion:et,priority:0}),sub:()=>({conversion:et,priority:0}),sup:()=>({conversion:et,priority:0}),u:()=>({conversion:et,priority:0})}}static importJSON(e){return le().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return ue(t)||M(132),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=qn(t,"b")),this.hasFormat("italic")&&(t=qn(t,"i")),this.hasFormat("strikethrough")&&(t=qn(t,"s")),this.hasFormat("underline")&&(t=qn(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format=typeof e=="string"?At[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail=typeof e=="string"?ku[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=vr(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=Pu[e];if(this.__mode===t)return this;const r=this.getWritable();return r.__mode=t,r}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){ge();let r=e,s=t;const o=D(),i=this.getTextContent(),l=this.__key;if(typeof i=="string"){const a=i.length;r===void 0&&(r=a),s===void 0&&(s=a)}else r=0,s=0;if(!O(o))return Yl(l,r,l,s,"text","text");{const a=at();a!==o.anchor.key&&a!==o.focus.key||fe(l),o.setTextNodeRange(this,r,this,s)}return o}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,r,s){const o=this.getWritable(),i=o.__text,l=r.length;let a=e;a<0&&(a=l+a,a<0&&(a=0));const c=D();if(s&&O(c)){const f=e+l;c.setTextNodeRange(o,f,o,f)}const u=i.slice(0,a)+r+i.slice(a+t);return o.__text=u,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){ge();const t=this.getLatest(),r=t.getTextContent();if(r==="")return[];const s=t.__key,o=at(),i=r.length;e.sort((T,N)=>T-N),e.push(i);const l=[],a=e.length;for(let T=0,N=0;T<i&&N<=a;N++){const I=e[N];I>T&&(l.push(r.slice(T,I)),T=I)}const c=l.length;if(c===1)return[t];const u=l[0],f=t.getParent();let d;const p=t.getFormat(),h=t.getStyle(),g=t.__detail;let _=!1,v=null,y=null;const x=D();if(O(x)){const[T,N]=x.isBackward()?[x.focus,x.anchor]:[x.anchor,x.focus];T.type==="text"&&T.key===s&&(v=T),N.type==="text"&&N.key===s&&(y=N)}t.isSegmented()?(d=le(u),d.__format=p,d.__style=h,d.__detail=g,d.__state=Ko(t,d),_=!0):d=t.setTextContent(u);const C=[d];for(let T=1;T<c;T++){const N=le(l[T]);N.__format=p,N.__style=h,N.__detail=g,N.__state=Ko(t,N);const I=N.__key;o===s&&fe(I),C.push(N)}const E=v?v.offset:null,S=y?y.offset:null;let k=0;for(const T of C){if(!v&&!y)break;const N=k+T.getTextContentSize();if(v!==null&&E!==null&&E<=N&&E>=k&&(v.set(T.getKey(),E-k,"text"),E<N&&(v=null)),y!==null&&S!==null&&S<=N&&S>=k){y.set(T.getKey(),S-k,"text");break}k=N}if(f!==null){(function(I){const F=I.getPreviousSibling(),z=I.getNextSibling();F!==null&&Cr(F),z!==null&&Cr(z)})(this);const T=f.getWritable(),N=this.getIndexWithinParent();_?(T.splice(N,0,C),this.remove()):T.splice(N,1,C),O(x)&&yr(x,f,N,c-1)}return C}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||M(50);const r=this.__key,s=e.__key,o=this.__text,i=o.length;at()===s&&fe(r);const l=D();if(O(l)){const f=l.anchor,d=l.focus;f!==null&&f.key===s&&ai(f,t,r,e,i),d!==null&&d.key===s&&ai(d,t,r,e,i)}const a=e.__text,c=t?a+o:o+a;this.setTextContent(c);const u=this.getWritable();return e.remove(),u}isTextEntity(){return!1}}function rd(n){return{forChild:so(n.style),node:null}}function sd(n){const e=n,t=e.style.fontWeight==="normal";return{forChild:so(e.style,t?void 0:"bold"),node:null}}const Zo=new WeakMap;function od(n){if(!ue(n))return!1;if(n.nodeName==="PRE")return!0;const e=n.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function id(n){const e=n;n.parentElement===null&&M(129);let t=e.textContent||"";if(function(r){let s,o=r.parentNode;const i=[r];for(;o!==null&&(s=Zo.get(o))===void 0&&!od(o);)i.push(o),o=o.parentNode;const l=s===void 0?o:s;for(let a=0;a<i.length;a++)Zo.set(i[a],l);return l}(e)!==null){const r=t.split(/(\r?\n|\t)/),s=[],o=r.length;for(let i=0;i<o;i++){const l=r[i];l===`
`||l===`\r
`?s.push(It()):l==="	"?s.push(Fn()):l!==""&&s.push(le(l))}return{node:s}}if(t=t.replace(/\r/g,"").replace(/[ \t\n]+/g," "),t==="")return{node:null};if(t[0]===" "){let r=e,s=!0;for(;r!==null&&(r=ei(r,!1))!==null;){const o=r.textContent||"";if(o.length>0){/[ \t\n]$/.test(o)&&(t=t.slice(1)),s=!1;break}}s&&(t=t.slice(1))}if(t[t.length-1]===" "){let r=e,s=!0;for(;r!==null&&(r=ei(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){s=!1;break}s&&(t=t.slice(0,t.length-1))}return t===""?{node:null}:{node:le(t)}}function ei(n,e){let t=n;for(;;){let r;for(;(r=e?t.nextSibling:t.previousSibling)===null;){const o=t.parentElement;if(o===null)return null;t=o}if(t=r,ue(t)){const o=t.style.display;if(o===""&&!Os(t)||o!==""&&!o.startsWith("inline"))return null}let s=t;for(;(s=e?t.firstChild:t.lastChild)!==null;)t=s;if(lt(t))return t;if(t.nodeName==="BR")return null}}const ld={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function et(n){const e=ld[n.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:so(n.style,e),node:null}}function le(n=""){return pt(new Kt(n))}function A(n){return n instanceof Kt}function so(n,e){const t=n.fontWeight,r=n.textDecoration.split(" "),s=t==="700"||t==="bold",o=r.includes("line-through"),i=n.fontStyle==="italic",l=r.includes("underline"),a=n.verticalAlign;return c=>(A(c)&&(s&&!c.hasFormat("bold")&&c.toggleFormat("bold"),o&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),i&&!c.hasFormat("italic")&&c.toggleFormat("italic"),l&&!c.hasFormat("underline")&&c.toggleFormat("underline"),a!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),a!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),e&&!c.hasFormat(e)&&c.toggleFormat(e)),c)}class Ln extends Kt{static getType(){return"tab"}static clone(e){return new Ln(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),r=Qt(e.theme,"tab");return r!==void 0&&t.classList.add(...r),t}static importJSON(e){return Fn().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&M(126),super.setTextContent("	")}spliceText(e,t,r,s){return r===""&&t===0||r==="	"&&t===1||M(286),this}setDetail(e){return e!==2&&M(127),this}setMode(e){return e!=="normal"&&M(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Fn(){return pt(new Ln)}function Jl(n){return n instanceof Ln}class ad{constructor(e,t,r){this._selection=null,this.key=e,this.offset=t,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:ya(Ee(it(this,"next")),Ee(it(e,"next")))<0}getNode(){const e=re(this.key);return e===null&&M(20),e}set(e,t,r,s){const o=this._selection,i=this.key;s&&this.key===e&&this.offset===t&&this.type===r||(this.key=e,this.offset=t,this.type=r,jn()||(at()===i&&fe(e),o!==null&&(o.setCachedNodes(null),o.dirty=!0)))}}function qe(n,e,t){return new ad(n,e,t)}function Zr(n,e){let t=e.__key,r=n.offset,s="element";if(A(e)){s="text";const o=e.getTextContentSize();r>o&&(r=o)}else if(!b(e)){const o=e.getNextSibling();if(A(o))t=o.__key,r=0,s="text";else{const i=e.getParent();i&&(t=i.__key,r=e.getIndexWithinParent()+1)}}n.set(t,r,s)}function ti(n,e){if(b(e)){const t=e.getLastDescendant();b(t)||A(t)?Zr(n,t):Zr(n,e)}else Zr(n,e)}class Pr{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!be(e))return!1;const t=this._nodes,r=e._nodes;return t.size===r.size&&Array.from(t).every(s=>r.has(s))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Pr(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),r=t.length,s=t[r-1];let o;if(A(s))o=s.select();else{const i=s.getIndexWithinParent()+1;o=s.getParentOrThrow().select(i,i)}o.insertNodes(e);for(let i=0;i<r;i++)t[i].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=this._nodes,r=[];for(const s of t){const o=re(s);o!==null&&r.push(o)}return jn()||(this._cachedNodes=r),r}getTextContent(){const e=this.getNodes();let t="";for(let r=0;r<e.length;r++)t+=e[r].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((D()||cn())===this&&e[0]){const t=pe(e[0],"next");Vd(ht(t,t))}for(const t of e)t.remove()}}function O(n){return n instanceof zt}class zt{constructor(e,t,r,s){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=r,this.style=s,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!O(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=function(r){const s=[],[o,i]=r.getTextSlices();o&&s.push(o.caret.origin);const l=new Set,a=new Set;for(const c of r)if(He(c)){const{origin:u}=c;s.length===0?l.add(u):(a.add(u),s.push(u))}else{const{origin:u}=c;b(u)&&a.has(u)||s.push(u)}if(i&&s.push(i.caret.origin),on(r.focus)&&b(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let c=Be(r.focus.origin,"previous");He(c)&&l.has(c.origin)&&!c.origin.isEmpty()&&c.origin.is(s[s.length-1]);c=ko(c))l.delete(c.origin),s.pop();for(;s.length>1;){const c=s[s.length-1];if(!b(c)||a.has(c)||c.isEmpty()||l.has(c))break;s.pop()}if(s.length===0&&r.isCollapsed()){const c=Ee(r.anchor),u=Ee(r.anchor.getFlipped()),f=p=>ut(p)?p.origin:p.getNodeAtCaret(),d=f(c)||f(u)||(r.anchor.getNodeAtCaret()?c.origin:u.origin);s.push(d)}return s}(Ca(Ei(this),"next"));return jn()||(this._cachedNodes=t),t}setTextNodeRange(e,t,r,s){this.anchor.set(e.__key,t,"text"),this.focus.set(r.__key,s,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const t=e[0],r=e[e.length-1],s=this.anchor,o=this.focus,i=s.isBefore(o),[l,a]=bs(this);let c="",u=!0;for(let f=0;f<e.length;f++){const d=e[f];if(b(d)&&!d.isInline())u||(c+=`
`),u=!d.isEmpty();else if(u=!1,A(d)){let p=d.getTextContent();d===t?d===r?s.type==="element"&&o.type==="element"&&o.offset!==s.offset||(p=l<a?p.slice(l,a):p.slice(a,l)):p=i?p.slice(l):p.slice(a):d===r&&(p=i?p.slice(0,a):p.slice(0,l)),c+=p}else!U(d)&&!Xt(d)||d===r&&this.isCollapsed()||(c+=d.getTextContent())}return c}applyDOMRange(e){const t=Z(),r=t.getEditorState()._selection,s=ql(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,r);if(s===null)return;const[o,i]=s;this.anchor.set(o.key,o.offset,o.type,!0),this.focus.set(i.key,i.offset,i.type,!0),fr(this)}clone(){const e=this.anchor,t=this.focus;return new zt(qe(e.key,e.offset,e.type),qe(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=vr(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=At[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),r=[],s=t.length;for(let o=0;o<s;o++){const i=t[o];i===`
`||i===`\r
`?r.push(It()):i==="	"?r.push(Fn()):r.push(le(i))}this.insertNodes(r)}insertText(e){const t=this.anchor,r=this.focus,s=this.format,o=this.style;let i=t,l=r;!this.isCollapsed()&&r.isBefore(t)&&(i=r,l=t),i.type==="element"&&function(_,v,y,x){const C=_.getNode(),E=C.getChildAtIndex(_.offset),S=le(),k=he(C)?se().append(S):S;S.setFormat(y),S.setStyle(x),E===null?C.append(k):E.insertBefore(k),_.is(v)&&v.set(S.__key,0,"text"),_.set(S.__key,0,"text")}(i,l,s,o),l.type==="element"&&Rt(l,Ee(it(l,"next")));const a=i.offset;let c=l.offset;const u=this.getNodes(),f=u.length;let d=u[0];A(d)||M(26);const p=d.getTextContent().length,h=d.getParentOrThrow();let g=u[f-1];if(f===1&&l.type==="element"&&(c=p,l.set(i.key,c,"text")),this.isCollapsed()&&a===p&&(nt(d)||!d.canInsertTextAfter()||!h.canInsertTextAfter()&&d.getNextSibling()===null)){let _=d.getNextSibling();if(A(_)&&_.canInsertTextBefore()&&!nt(_)||(_=le(),_.setFormat(s),_.setStyle(o),h.canInsertTextAfter()?d.insertAfter(_):h.insertAfter(_)),_.select(0,0),d=_,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&a===0&&(nt(d)||!d.canInsertTextBefore()||!h.canInsertTextBefore()&&d.getPreviousSibling()===null)){let _=d.getPreviousSibling();if(A(_)&&!nt(_)||(_=le(),_.setFormat(s),h.canInsertTextBefore()?d.insertBefore(_):h.insertBefore(_)),_.select(),d=_,e!=="")return void this.insertText(e)}else if(d.isSegmented()&&a!==p){const _=le(d.getTextContent());_.setFormat(s),d.replace(_),d=_}else if(!this.isCollapsed()&&e!==""){const _=g.getParent();if(!h.canInsertTextBefore()||!h.canInsertTextAfter()||b(_)&&(!_.canInsertTextBefore()||!_.canInsertTextAfter()))return this.insertText(""),Hl(this.anchor,this.focus,null),void this.insertText(e)}if(f===1){if(Et(d)){const x=le(e);return x.select(),void d.replace(x)}const _=d.getFormat(),v=d.getStyle();if(a!==c||_===s&&v===o){if(Jl(d)){const x=le(e);return x.setFormat(s),x.setStyle(o),x.select(),void d.replace(x)}}else{if(d.getTextContent()!==""){const x=le(e);if(x.setFormat(s),x.setStyle(o),x.select(),a===0)d.insertBefore(x,!1);else{const[C]=d.splitText(a);C.insertAfter(x,!1)}return void(x.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}d.setFormat(s),d.setStyle(o)}const y=c-a;d=d.spliceText(a,y,e,!0),d.getTextContent()===""?d.remove():this.anchor.type==="text"&&(d.isComposing()?this.anchor.offset-=e.length:(this.format=_,this.style=v))}else{const _=new Set([...d.getParentKeys(),...g.getParentKeys()]),v=b(d)?d:d.getParentOrThrow();let y=b(g)?g:g.getParentOrThrow(),x=g;if(!v.is(y)&&y.isInline())do x=y,y=y.getParentOrThrow();while(y.isInline());if(l.type==="text"&&(c!==0||g.getTextContent()==="")||l.type==="element"&&g.getIndexWithinParent()<c)if(A(g)&&!Et(g)&&c!==g.getTextContentSize()){if(g.isSegmented()){const T=le(g.getTextContent());g.replace(T),g=T}he(l.getNode())||l.type!=="text"||(g=g.spliceText(0,c,"")),_.add(g.__key)}else{const T=g.getParentOrThrow();T.canBeEmpty()||T.getChildrenSize()!==1?g.remove():T.remove()}else _.add(g.__key);const C=y.getChildren(),E=new Set(u),S=v.is(y),k=v.isInline()&&d.getNextSibling()===null?v:d;for(let T=C.length-1;T>=0;T--){const N=C[T];if(N.is(d)||b(N)&&N.isParentOf(d))break;N.isAttached()&&(!E.has(N)||N.is(x)?S||k.insertAfter(N,!1):N.remove())}if(!S){let T=y,N=null;for(;T!==null;){const I=T.getChildren(),F=I.length;(F===0||I[F-1].is(N))&&(_.delete(T.__key),N=T),T=T.getParent()}}if(Et(d))if(a===p)d.select();else{const T=le(e);T.select(),d.replace(T)}else d=d.spliceText(a,p-a,e,!0),d.getTextContent()===""?d.remove():d.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let T=1;T<f;T++){const N=u[T],I=N.__key;_.has(I)||N.remove()}}}removeText(){const e=D()===this;or(this,Ud(Ei(this))),e&&D()!==this&&ye(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void fe(null);const r=this.getNodes(),s=[];for(const C of r)A(C)&&s.push(C);const o=C=>{r.forEach(E=>{if(b(E)){const S=E.getFormatFlags(e,C);E.setTextFormat(S)}})},i=s.length;if(i===0)return this.toggleFormat(e),fe(null),void o(t);const l=this.anchor,a=this.focus,c=this.isBackward(),u=c?a:l,f=c?l:a;let d=0,p=s[0],h=u.type==="element"?0:u.offset;if(u.type==="text"&&h===p.getTextContentSize()&&(d=1,p=s[1],h=0),p==null)return;const g=p.getFormatFlags(e,t);o(g);const _=i-1;let v=s[_];const y=f.type==="text"?f.offset:v.getTextContentSize();if(p.is(v)){if(h===y)return;if(nt(p)||h===0&&y===p.getTextContentSize())p.setFormat(g);else{const C=p.splitText(h,y),E=h===0?C[0]:C[1];E.setFormat(g),u.type==="text"&&u.set(E.__key,0,"text"),f.type==="text"&&f.set(E.__key,y-h,"text")}return void(this.format=g)}h===0||nt(p)||([,p]=p.splitText(h),h=0),p.setFormat(g);const x=v.getFormatFlags(e,g);y>0&&(y===v.getTextContentSize()||nt(v)||([v]=v.splitText(y)),v.setFormat(x));for(let C=d+1;C<_;C++){const E=s[C],S=E.getFormatFlags(e,x);E.setFormat(S)}u.type==="text"&&u.set(p.__key,h,"text"),f.type==="text"&&f.set(v.__key,y,"text"),this.format=g|x}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const h=D();return O(h)||M(134),h.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),r=ss(t,ke),s=e[e.length-1];if(b(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const h=es(this);r.splice(h,0,e),s.selectEnd()}return}if(!e.some(h=>(b(h)||U(h))&&!h.isInline())){b(r)||M(211,t.constructor.name,t.getType());const h=es(this);return r.splice(h,0,e),void s.selectEnd()}const o=function(h){const g=se();let _=null;for(let v=0;v<h.length;v++){const y=h[v],x=Xt(y);if(x||U(y)&&y.isInline()||b(y)&&y.isInline()||A(y)||y.isParentRequired()){if(_===null&&(_=y.createParentElementNode(),g.append(_),x))continue;_!==null&&_.append(y)}else g.append(y),_=null}return g}(e),i=o.getLastDescendant(),l=o.getChildren(),a=!b(r)||!r.isEmpty()?this.insertParagraph():null,c=l[l.length-1];let u=l[0];var f;b(f=u)&&ke(f)&&!f.isEmpty()&&b(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(b(r)||M(211,t.constructor.name,t.getType()),r.append(...u.getChildren()),u=l[1]),u&&(r===null&&M(212,t.constructor.name,t.getType()),function(h,g,_){const v=g.getParentOrThrow().getLastChild();let y=g;const x=[g];for(;y!==v;)y.getNextSibling()||M(140),y=y.getNextSibling(),x.push(y);let C=h;for(const E of x)C=C.insertAfter(E)}(r,u));const d=ss(i,ke);a&&b(d)&&(a.canMergeWhenEmpty()||ke(c))&&(d.append(...a.getChildren()),a.remove()),b(r)&&r.isEmpty()&&r.remove(),i.selectEnd();const p=b(r)?r.getLastChild():null;Xt(p)&&d!==r&&p.remove()}insertParagraph(){if(this.anchor.key==="root"){const i=se();return ee().splice(this.anchor.offset,0,[i]),i.select(),i}const e=es(this),t=ss(this.anchor.getNode(),ke);b(t)||M(213);const r=t.getChildAtIndex(e),s=r?[r,...r.getNextSiblings()]:[],o=t.insertNewAfter(this,!1);return o?(o.append(...s),o.selectStart(),o):null}insertLineBreak(e){const t=It();if(this.insertNodes([t]),e){const r=t.getParentOrThrow(),s=t.getIndexWithinParent();r.select(s,s)}}extract(){const e=this.getNodes(),t=e.length,r=t-1,s=this.anchor,o=this.focus;let i=e[0],l=e[r];const[a,c]=bs(this);if(t===0)return[];if(t===1){if(A(i)&&!this.isCollapsed()){const f=a>c?c:a,d=a>c?a:c,p=i.splitText(f,d),h=f===0?p[0]:p[1];return h!=null?[h]:[]}return[i]}const u=s.isBefore(o);if(A(i)){const f=u?a:c;f===i.getTextContentSize()?e.shift():f!==0&&([,i]=i.splitText(f),e[0]=i)}if(A(l)){const f=l.getTextContent().length,d=u?c:a;d===0?e.pop():d!==f&&([l]=l.splitText(d),e[r]=l)}return e}modify(e,t,r){if(ci(this,e,t,r))return;const s=e==="move",o=Z(),i=$e(Pe(o));if(!i)return;const l=o._blockCursorElement,a=o._rootElement,c=this.focus.getNode();if(a===null||l===null||!b(c)||c.isInline()||c.canBeEmpty()||Ps(l,o,a),this.dirty){let u=sn(o,this.anchor.key),f=sn(o,this.focus.key);this.anchor.type==="text"&&(u=nn(u)),this.focus.type==="text"&&(f=nn(f)),u&&f&&Xl(i,u,this.anchor.offset,f,this.focus.offset)}if(function(u,f,d,p){u.modify(f,d,p)}(i,e,t?"backward":"forward",r),i.rangeCount>0){const u=i.getRangeAt(0),f=this.anchor.getNode(),d=he(f)?f:Od(f);if(this.applyDOMRange(u),this.dirty=!0,!s){const p=this.getNodes(),h=[];let g=!1;for(let _=0;_<p.length;_++){const v=p[_];Es(v,d)?h.push(v):g=!0}if(g&&h.length>0)if(t){const _=h[0];b(_)?_.selectStart():_.getParentOrThrow().selectStart()}else{const _=h[h.length-1];b(_)?_.selectEnd():_.getParentOrThrow().selectEnd()}i.anchorNode===u.startContainer&&i.anchorOffset===u.startOffset||function(_){const v=_.focus,y=_.anchor,x=y.key,C=y.offset,E=y.type;y.set(v.key,v.offset,v.type,!0),v.set(x,C,E,!0)}(this)}}r==="lineboundary"&&ci(this,e,t,r,"decorators")}forwardDeletion(e,t,r){if(!r&&(e.type==="element"&&b(t)&&e.offset===t.getChildrenSize()||e.type==="text"&&e.offset===t.getTextContentSize())){const s=t.getParent(),o=t.getNextSibling()||(s===null?null:s.getNextSibling());if(b(o)&&o.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let s=r.getNode();if(this.forwardDeletion(r,s,e))return;const o=Po(it(r,e?"previous":"next"));if(o.getTextSlices().every(l=>l===null||l.distance===0)){let l={type:"initial"};for(const a of o.iterNodeCarets("shadowRoot"))if(He(a)){if(!a.origin.isInline()){if(a.origin.isShadowRoot()){if(l.type==="merge-block")break;if(b(o.anchor.origin)&&o.anchor.origin.isEmpty()){const c=Ee(a);or(this,ht(c,c)),o.anchor.origin.remove()}return}l.type!=="merge-next-block"&&l.type!=="merge-block"||(l={block:l.block,caret:a,type:"merge-block"})}}else{if(l.type==="merge-block")break;if(on(a)){if(b(a.origin)){if(a.origin.isInline()){if(!a.origin.isParentOf(o.anchor.origin))break}else l={block:a.origin,type:"merge-next-block"};continue}if(U(a.origin)){if(!a.origin.isIsolated())if(l.type==="merge-next-block"&&(a.origin.isKeyboardSelectable()||!a.origin.isInline())&&b(o.anchor.origin)&&o.anchor.origin.isEmpty()){o.anchor.origin.remove();const c=Gl();c.add(a.origin.getKey()),ye(c)}else a.origin.remove();return}break}}if(l.type==="merge-block"){const{caret:a,block:c}=l;return or(this,ht(!a.origin.isEmpty()&&c.isEmpty()?Mo(pe(c,a.direction)):o.anchor,a)),this.removeText()}}const i=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&ri(this,r.getNode()))return}else{const l=i.type==="text"?i.getNode():null;if(s=r.type==="text"?r.getNode():null,l!==null&&l.isSegmented()){const a=i.offset,c=l.getTextContentSize();if(l.is(s)||e&&a!==c||!e&&a!==0)return void si(l,e,a)}else if(s!==null&&s.isSegmented()){const a=r.offset,c=s.getTextContentSize();if(s.is(l)||e&&a!==0||!e&&a!==c)return void si(s,e,a)}(function(a,c){const u=a.anchor,f=a.focus,d=u.getNode(),p=f.getNode();if(d===p&&u.type==="text"&&f.type==="text"){const h=u.offset,g=f.offset,_=h<g,v=_?h:g,y=_?g:h,x=y-1;v!==x&&function(C){return!(fa(C)||cd(C))}(d.getTextContent().slice(v,y))&&(c?f.set(f.key,x,f.type):u.set(u.key,x,u.type))}})(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&he(r.getParent())&&r.getPreviousSibling()===null&&ri(this,r)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,r=t.getNode();if(this.forwardDeletion(t,r,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function be(n){return n instanceof Pr}function ni(n){const e=n.offset;if(n.type==="text")return e;const t=n.getNode();return e===t.getChildrenSize()?t.getTextContent().length:0}function bs(n){const e=n.getStartEndPoints();if(e===null)return[0,0];const[t,r]=e;return t.type==="element"&&r.type==="element"&&t.key===r.key&&t.offset===r.offset?[0,0]:[ni(t),ni(r)]}function ri(n,e){for(let t=e;t;t=t.getParent()){if(b(t)){if(t.collapseAtStart(n))return!0;if(we(t))break}if(t.getPreviousSibling())break}return!1}const cd=(()=>{try{const n=new RegExp("\\p{Emoji}","u"),e=n.test.bind(n);if(e("❤️")&&e("#️⃣")&&e("👍"))return e}catch{}return()=>!1})();function si(n,e,t){const r=n,s=r.getTextContent().split(/(?=\s)/g),o=s.length;let i=0,l=0;for(let c=0;c<o;c++){const u=c===o-1;if(l=i,i+=s[c].length,e&&i===t||i>t||u){s.splice(c,1),u&&(l=void 0);break}}const a=s.join("").trim();a===""?r.remove():(r.setTextContent(a),r.select(l,l))}function oi(n,e,t,r){let s,o=e;if(ue(n)){let i=!1;const l=n.childNodes,a=l.length,c=r._blockCursorElement;o===a&&(i=!0,o=a-1);let u=l[o],f=!1;if(u===c)u=l[o+1],f=!0;else if(c!==null){const d=c.parentNode;n===d&&e>Array.prototype.indexOf.call(d.children,c)&&o--}if(s=Jt(u),A(s))o=xi(s,i);else{let d=Jt(n);if(d===null)return null;if(b(d)){const p=r.getElementByKey(d.getKey());p===null&&M(214),[d,o]=d.getDOMSlot(p).resolveChildIndex(d,p,n,e),b(d)||M(215),i&&o>=d.getChildrenSize()&&(o=Math.max(0,d.getChildrenSize()-1));let g=d.getChildAtIndex(o);if(b(g)&&function(_,v,y){const x=_.getParent();return y===null||x===null||!x.canBeEmpty()||x!==y.getNode()}(g,0,t)){const _=i?g.getLastDescendant():g.getFirstDescendant();_===null?d=g:(g=_,d=b(g)?g:g.getParentOrThrow()),o=0}A(g)?(s=g,d=null,o=xi(g,i)):g!==d&&i&&!f&&(b(d)||M(216),o=Math.min(d.getChildrenSize(),o+1))}else{const p=d.getIndexWithinParent();o=e===0&&U(d)&&Jt(n)===d?p:p+1,d=d.getParentOrThrow()}if(b(d))return qe(d.__key,o,"element")}}else s=Jt(n);return A(s)?qe(s.__key,o,"text"):null}function ii(n,e,t){const r=n.offset,s=n.getNode();if(r===0){const o=s.getPreviousSibling(),i=s.getParent();if(e){if((t||!e)&&o===null&&b(i)&&i.isInline()){const l=i.getPreviousSibling();A(l)&&n.set(l.__key,l.getTextContent().length,"text")}}else b(o)&&!t&&o.isInline()?n.set(o.__key,o.getChildrenSize(),"element"):A(o)&&n.set(o.__key,o.getTextContent().length,"text")}else if(r===s.getTextContent().length){const o=s.getNextSibling(),i=s.getParent();if(e&&b(o)&&o.isInline())n.set(o.__key,0,"element");else if((t||e)&&o===null&&b(i)&&i.isInline()&&!i.canInsertTextAfter()){const l=i.getNextSibling();A(l)&&n.set(l.__key,0,"text")}}}function Hl(n,e,t){if(n.type==="text"&&e.type==="text"){const r=n.isBefore(e),s=n.is(e);ii(n,r,s),ii(e,!r,s),s&&e.set(n.key,n.offset,n.type);const o=Z();if(o.isComposing()&&o._compositionKey!==n.key&&O(t)){const i=t.anchor,l=t.focus;n.set(i.key,i.offset,i.type,!0),e.set(l.key,l.offset,l.type,!0)}}}function ql(n,e,t,r,s,o){if(n===null||t===null||!Bn(s,n,t))return null;const i=oi(n,e,O(o)?o.anchor:null,s);if(i===null)return null;const l=oi(t,r,O(o)?o.focus:null,s);if(l===null)return null;if(i.type==="element"&&l.type==="element"){const a=Jt(n),c=Jt(t);if(U(a)&&U(c))return null}return Hl(i,l,o),[i,l]}function Ns(n){return b(n)&&!n.isInline()}function Yl(n,e,t,r,s,o){const i=gt(),l=new zt(qe(n,e,s),qe(t,r,o),0,"");return l.dirty=!0,i._selection=l,l}function oo(){const n=qe("root",0,"element"),e=qe("root",0,"element");return new zt(n,e,0,"")}function Gl(){return new Pr(new Set)}function io(n,e,t,r){const s=t._window;if(s===null)return null;const o=r||s.event,i=o?o.type:void 0,l=i==="selectionchange",a=!cs&&(l||i==="beforeinput"||i==="compositionstart"||i==="compositionend"||i==="click"&&o&&o.detail===3||i==="drop"||i===void 0);let c,u,f,d;if(O(n)&&!a)return n.clone();if(e===null)return null;if(c=e.anchorNode,u=e.focusNode,f=e.anchorOffset,d=e.focusOffset,l&&O(n)&&!Bn(t,c,u))return n.clone();const p=ql(c,f,u,d,t,n);if(p===null)return null;const[h,g]=p;return new zt(h,g,O(n)?n.format:0,O(n)?n.style:"")}function D(){return gt()._selection}function cn(){return Z()._editorState._selection}function yr(n,e,t,r=1){const s=n.anchor,o=n.focus,i=s.getNode(),l=o.getNode();if(!e.is(i)&&!e.is(l))return;const a=e.__key;if(n.isCollapsed()){const c=s.offset;if(t<=c&&r>0||t<c&&r<0){const u=Math.max(0,c+r);s.set(a,u,"element"),o.set(a,u,"element"),li(n)}}else{const c=n.isBackward(),u=c?o:s,f=u.getNode(),d=c?s:o,p=d.getNode();if(e.is(f)){const h=u.offset;(t<=h&&r>0||t<h&&r<0)&&u.set(a,Math.max(0,h+r),"element")}if(e.is(p)){const h=d.offset;(t<=h&&r>0||t<h&&r<0)&&d.set(a,Math.max(0,h+r),"element")}}li(n)}function li(n){const e=n.anchor,t=e.offset,r=n.focus,s=r.offset,o=e.getNode(),i=r.getNode();if(n.isCollapsed()){if(!b(o))return;const l=o.getChildrenSize(),a=t>=l,c=a?o.getChildAtIndex(l-1):o.getChildAtIndex(t);if(A(c)){let u=0;a&&(u=c.getTextContentSize()),e.set(c.__key,u,"text"),r.set(c.__key,u,"text")}}else{if(b(o)){const l=o.getChildrenSize(),a=t>=l,c=a?o.getChildAtIndex(l-1):o.getChildAtIndex(t);if(A(c)){let u=0;a&&(u=c.getTextContentSize()),e.set(c.__key,u,"text")}}if(b(i)){const l=i.getChildrenSize(),a=s>=l,c=a?i.getChildAtIndex(l-1):i.getChildAtIndex(s);if(A(c)){let u=0;a&&(u=c.getTextContentSize()),r.set(c.__key,u,"text")}}}}function xr(n,e,t,r,s){let o=null,i=0,l=null;r!==null?(o=r.__key,A(r)?(i=r.getTextContentSize(),l="text"):b(r)&&(i=r.getChildrenSize(),l="element")):s!==null&&(o=s.__key,A(s)?l="text":b(s)&&(l="element")),o!==null&&l!==null?n.set(o,i,l):(i=e.getIndexWithinParent(),i===-1&&(i=t.getChildrenSize()),n.set(t.__key,i,"element"))}function ai(n,e,t,r,s){n.type==="text"?n.set(t,n.offset+(e?0:s),"text"):n.offset>r.getIndexWithinParent()&&n.set(n.key,n.offset-1,"element")}function Xl(n,e,t,r,s){try{n.setBaseAndExtent(e,t,r,s)}catch{}}function ud(n,e,t,r,s,o,i){const l=r.anchorNode,a=r.focusNode,c=r.anchorOffset,u=r.focusOffset,f=document.activeElement;if(s.has(_d)&&f!==o||f!==null&&go(f))return;if(!O(e))return void(n!==null&&Bn(t,l,a)&&r.removeAllRanges());const d=e.anchor,p=e.focus,h=d.key,g=p.key,_=sn(t,h),v=sn(t,g),y=d.offset,x=p.offset,C=e.format,E=e.style,S=e.isCollapsed();let k=_,T=v,N=!1;if(d.type==="text"){k=nn(_);const B=d.getNode();N=B.getFormat()!==C||B.getStyle()!==E}else O(n)&&n.anchor.type==="text"&&(N=!0);var I,F,z,R,P;if(p.type==="text"&&(T=nn(v)),k!==null&&T!==null&&(S&&(n===null||N||O(n)&&(n.format!==C||n.style!==E))&&(I=C,F=E,z=y,R=h,P=performance.now(),Rl=[I,F,z,R,P]),c!==y||u!==x||l!==k||a!==T||r.type==="Range"&&S||(f!==null&&o.contains(f)||o.focus({preventScroll:!0}),d.type==="element"))){if(Xl(r,k,y,T,x),!s.has(yd)&&e.isCollapsed()&&o!==null&&o===document.activeElement){const B=O(e)&&e.anchor.type==="element"?k.childNodes[y]||null:r.rangeCount>0?r.getRangeAt(0):null;if(B!==null){let W;if(B instanceof Text){const Y=document.createRange();Y.selectNode(B),W=Y.getBoundingClientRect()}else W=B.getBoundingClientRect();(function(Y,te,oe){const Xe=ma(oe),yt=vo(Xe);if(Xe===null||yt===null)return;let{top:xt,bottom:vt}=te,Ae=0,Qe=0,xe=oe;for(;xe!==null;){const $=xe===Xe.body;if($)Ae=0,Qe=Pe(Y).innerHeight;else{const ie=xe.getBoundingClientRect();Ae=ie.top,Qe=ie.bottom}let q=0;if(xt<Ae?q=-(Ae-xt):vt>Qe&&(q=vt-Qe),q!==0)if($)yt.scrollBy(0,q);else{const ie=xe.scrollTop;xe.scrollTop+=q;const G=xe.scrollTop-ie;xt-=G,vt-=G}if($)break;xe=Kn(xe)}})(t,W,o)}}vs=!0}}function dd(n){let e=D()||cn();e===null&&(e=ee().selectEnd()),e.insertNodes(n)}function es(n){let e=n;n.isCollapsed()||e.removeText();const t=D();O(t)&&(e=t),O(e)||M(161);const r=e.anchor;let s=r.getNode(),o=r.offset;for(;!ke(s);){const i=s;if([s,o]=fd(s,o),i.is(s))break}return o}function fd(n,e){const t=n.getParent();if(!t){const s=se();return ee().append(s),s.select(),[ee(),0]}if(A(n)){const s=n.splitText(e);if(s.length===0)return[t,n.getIndexWithinParent()];const o=e===0?0:1;return[t,s[0].getIndexWithinParent()+o]}if(!b(n)||e===0)return[t,n.getIndexWithinParent()];const r=n.getChildAtIndex(e);if(r){const s=new zt(qe(n.__key,e,"element"),qe(n.__key,e,"element"),0,""),o=n.insertNewAfter(s);o&&o.append(r,...r.getNextSiblings())}return[t,n.getIndexWithinParent()+1]}function ci(n,e,t,r,s="decorators-and-blocks"){if(e==="move"&&r==="character"&&!n.isCollapsed()){const[u,f]=t===n.isBackward()?[n.focus,n.anchor]:[n.anchor,n.focus];return f.set(u.key,u.offset,u.type),!0}const o=it(n.focus,t?"previous":"next"),i=r==="lineboundary",l=e==="move";let a=o,c=s==="decorators-and-blocks";if(!va(a)){for(const u of a){c=!1;const{origin:f}=u;if(!U(f)||f.isIsolated()||(a=u,!i||!f.isInline()))break}if(c)for(const u of Po(o).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(He(u))u.origin.isInline()||(a=u);else{if(b(u.origin))continue;U(u.origin)&&!u.origin.isInline()&&(a=u)}break}}if(a===o)return!1;if(l&&!i&&U(a.origin)&&a.origin.isKeyboardSelectable()){const u=Gl();return u.add(a.origin.getKey()),ye(u),!0}return a=Ee(a),l&&Rt(n.anchor,a),Rt(n.focus,a),c||!i}let ae=null,ce=null,ve=!1,ts=!1,rr=0;const ui={characterData:!0,childList:!0,subtree:!0};function jn(){return ve||ae!==null&&ae._readOnly}function ge(){ve&&M(13)}function Ql(){rr>99&&M(14)}function gt(){return ae===null&&M(195,Zl()),ae}function Z(){return ce===null&&M(196,Zl()),ce}function Zl(){let n=0;const e=new Set,t=Or.version;if(typeof window<"u")for(const s of document.querySelectorAll("[contenteditable]")){const o=Ar(s);if(po(o))n++;else if(o){let i=String(o.constructor.version||"<0.17.1");i===t&&(i+=" (separately built, likely a bundler configuration issue)"),e.add(i)}}let r=` Detected on the page: ${n} compatible editor(s) with version ${t}`;return e.size&&(r+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),r}function hd(){return ce}function di(n,e,t){const r=e.__type,s=ia(n,r);let o=t.get(r);o===void 0&&(o=Array.from(s.transforms),t.set(r,o));const i=o.length;for(let l=0;l<i&&(o[l](e),e.isAttached());l++);}function fi(n,e){return n!==void 0&&n.__key!==e&&n.isAttached()}function ea(n,e){if(!e)return;const t=n._updateTags;let r=e;Array.isArray(e)||(r=[e]);for(const s of r)t.add(s)}function gd(n){return lo(n,Z()._nodes)}function lo(n,e){const t=n.type,r=e.get(t);r===void 0&&M(17,t);const s=r.klass;n.type!==s.getType()&&M(18,s.name);const o=s.importJSON(n),i=n.children;if(b(o)&&Array.isArray(i))for(let l=0;l<i.length;l++){const a=lo(i[l],e);o.append(a)}return o}function hi(n,e,t){const r=ae,s=ve,o=ce;ae=e,ve=!0,ce=n;try{return t()}finally{ae=r,ve=s,ce=o}}function st(n,e){const t=n._pendingEditorState,r=n._rootElement,s=n._headless||r===null;if(t===null)return;const o=n._editorState,i=o._selection,l=t._selection,a=n._dirtyType!==Ot,c=ae,u=ve,f=ce,d=n._updating,p=n._observer;let h=null;if(n._pendingEditorState=null,n._editorState=t,!s&&a&&p!==null){ce=n,ae=t,ve=!1,n._updating=!0;try{const S=n._dirtyType,k=n._dirtyElements,T=n._dirtyLeaves;p.disconnect(),h=Ku(o,t,n,S,k,T)}catch(S){if(S instanceof Error&&n._onError(S),ts)throw S;return oa(n,null,r,t),gl(n),n._dirtyType=tn,ts=!0,st(n,o),void(ts=!1)}finally{p.observe(r,ui),n._updating=d,ae=c,ve=u,ce=f}}t._readOnly||(t._readOnly=!0);const g=n._dirtyLeaves,_=n._dirtyElements,v=n._normalizedNodes,y=n._updateTags,x=n._deferred;a&&(n._dirtyType=Ot,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),function(S,k){const T=S._decorators;let N=S._pendingDecorators||T;const I=k._nodeMap;let F;for(F in N)I.has(F)||(N===T&&(N=ua(S)),delete N[F])}(n,t);const C=s?null:$e(Pe(n));if(n._editable&&C!==null&&(a||l===null||l.dirty)&&r!==null&&!y.has(xd)){ce=n,ae=t;try{if(p!==null&&p.disconnect(),a||l===null||l.dirty){const S=n._blockCursorElement;S!==null&&Ps(S,n,r),ud(i,l,n,C,y,r)}(function(S,k,T){let N=S._blockCursorElement;if(O(T)&&T.isCollapsed()&&T.anchor.type==="element"&&k.contains(document.activeElement)){const I=T.anchor,F=I.getNode(),z=I.offset;let R=!1,P=null;if(z===F.getChildrenSize())rs(F.getChildAtIndex(z-1))&&(R=!0);else{const B=F.getChildAtIndex(z);if(B!==null&&rs(B)){const W=B.getPreviousSibling();(W===null||rs(W))&&(R=!0,P=S.getElementByKey(B.__key))}}if(R){const B=S.getElementByKey(F.__key);return N===null&&(S._blockCursorElement=N=function(W){const Y=W.theme,te=document.createElement("div");te.contentEditable="false",te.setAttribute("data-lexical-cursor","true");let oe=Y.blockCursor;if(oe!==void 0){if(typeof oe=="string"){const Xe=cr(oe);oe=Y.blockCursor=Xe}oe!==void 0&&te.classList.add(...oe)}return te}(S._config)),k.style.caretColor="transparent",void(P===null?B.appendChild(N):B.insertBefore(N,P))}}N!==null&&Ps(N,S,k)})(n,r,l)}finally{p!==null&&p.observe(r,ui),ce=f,ae=c}}h!==null&&function(S,k,T,N,I){const F=Array.from(S._listeners.mutation),z=F.length;for(let R=0;R<z;R++){const[P,B]=F[R];for(const W of B){const Y=k.get(W);Y!==void 0&&P(Y,{dirtyLeaves:N,prevEditorState:I,updateTags:T})}}}(n,h,y,g,o),O(l)||l===null||i!==null&&i.is(l)||n.dispatchCommand(Zs,void 0);const E=n._pendingDecorators;E!==null&&(n._decorators=E,n._pendingDecorators=null,bn("decorator",n,!0,E)),function(S,k,T){const N=yi(k),I=yi(T);N!==I&&bn("textcontent",S,!0,I)}(n,e||o,t),bn("update",n,!0,{dirtyElements:_,dirtyLeaves:g,editorState:t,mutatedNodes:h,normalizedNodes:v,prevEditorState:e||o,tags:y}),function(S,k){if(S._deferred=[],k.length!==0){const T=S._updating;S._updating=!0;try{for(let N=0;N<k.length;N++)k[N]()}finally{S._updating=T}}}(n,x),function(S){const k=S._updates;if(k.length!==0){const T=k.shift();if(T){const[N,I]=T;ao(S,N,I)}}}(n)}function bn(n,e,t,...r){const s=e._updating;e._updating=t;try{const o=Array.from(e._listeners[n]);for(let i=0;i<o.length;i++)o[i].apply(null,r)}finally{e._updating=s}}function gi(n,e){const t=n._updates;let r=e||!1;for(;t.length!==0;){const s=t.shift();if(s){const[o,i]=s;let l;if(i!==void 0){if(l=i.onUpdate,i.skipTransforms&&(r=!0),i.discrete){const a=n._pendingEditorState;a===null&&M(191),a._flushSync=!0}l&&n._deferred.push(l),ea(n,i.tag)}o()}}return r}function ao(n,e,t){const r=n._updateTags;let s,o=!1,i=!1;t!==void 0&&(s=t.onUpdate,ea(n,t.tag),o=t.skipTransforms||!1,i=t.discrete||!1),s&&n._deferred.push(s);const l=n._editorState;let a=n._pendingEditorState,c=!1;(a===null||a._readOnly)&&(a=n._pendingEditorState=na(a||l),c=!0),a._flushSync=i;const u=ae,f=ve,d=ce,p=n._updating;ae=a,ve=!1,n._updating=!0,ce=n;const h=n._headless||n.getRootElement()===null;fo(null);try{c&&(h?l._selection!==null&&(a._selection=l._selection.clone()):a._selection=function(y,x){const C=y.getEditorState()._selection,E=$e(Pe(y));return O(C)||C==null?io(C,E,y,x):C.clone()}(n,t&&t.event||null));const _=n._compositionKey;e(),o=gi(n,o),function(y,x){const C=x.getEditorState()._selection,E=y._selection;if(O(E)){const S=E.anchor,k=E.focus;let T;if(S.type==="text"&&(T=S.getNode(),T.selectionTransform(C,E)),k.type==="text"){const N=k.getNode();T!==N&&N.selectionTransform(C,E)}}}(a,n),n._dirtyType!==Ot&&(o?function(y,x){const C=x._dirtyLeaves,E=y._nodeMap;for(const S of C){const k=E.get(S);A(k)&&k.isAttached()&&k.isSimpleText()&&!k.isUnmergeable()&&Vo(k)}}(a,n):function(y,x){const C=x._dirtyLeaves,E=x._dirtyElements,S=y._nodeMap,k=at(),T=new Map;let N=C,I=N.size,F=E,z=F.size;for(;I>0||z>0;){if(I>0){x._dirtyLeaves=new Set;for(const R of N){const P=S.get(R);A(P)&&P.isAttached()&&P.isSimpleText()&&!P.isUnmergeable()&&Vo(P),P!==void 0&&fi(P,k)&&di(x,P,T),C.add(R)}if(N=x._dirtyLeaves,I=N.size,I>0){rr++;continue}}x._dirtyLeaves=new Set,x._dirtyElements=new Map,F.delete("root")&&F.set("root",!0);for(const R of F){const P=R[0],B=R[1];if(E.set(P,B),!B)continue;const W=S.get(P);W!==void 0&&fi(W,k)&&di(x,W,T)}N=x._dirtyLeaves,I=N.size,F=x._dirtyElements,z=F.size,rr++}x._dirtyLeaves=C,x._dirtyElements=E}(a,n),gi(n),function(y,x,C,E){const S=y._nodeMap,k=x._nodeMap,T=[];for(const[N]of E){const I=k.get(N);I!==void 0&&(I.isAttached()||(b(I)&&dl(I,N,S,k,T,E),S.has(N)||E.delete(N),T.push(N)))}for(const N of T)k.delete(N);for(const N of C){const I=k.get(N);I===void 0||I.isAttached()||(S.has(N)||C.delete(N),k.delete(N))}}(l,a,n._dirtyLeaves,n._dirtyElements)),_!==n._compositionKey&&(a._flushSync=!0);const v=a._selection;if(O(v)){const y=a._nodeMap,x=v.anchor.key,C=v.focus.key;y.get(x)!==void 0&&y.get(C)!==void 0||M(19)}else be(v)&&v._nodes.size===0&&(a._selection=null)}catch(_){return _ instanceof Error&&n._onError(_),n._pendingEditorState=l,n._dirtyType=tn,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void st(n)}finally{ae=u,ve=f,ce=d,n._updating=p,rr=0}n._dirtyType!==Ot||n._deferred.length>0||function(_,v){const y=v.getEditorState()._selection,x=_._selection;if(x!==null){if(x.dirty||!x.is(y))return!0}else if(y!==null)return!0;return!1}(a,n)?a._flushSync?(a._flushSync=!1,st(n)):c&&Nd(()=>{st(n)}):(a._flushSync=!1,c&&(r.clear(),n._deferred=[],n._pendingEditorState=null))}function Ne(n,e,t){ce===n&&t===void 0?e():ao(n,e,t)}class Nn{constructor(e,t,r){this.element=e,this.before=t||null,this.after=r||null}withBefore(e){return new Nn(this.element,e,this.after)}withAfter(e){return new Nn(this.element,this.before,e)}withElement(e){return this.element===e?this:new Nn(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return t!==null&&t.parentElement!==this.element&&M(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&M(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&M(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const t=e==="decorator"&&(en||Tn);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,r=e.nodeName==="IMG"?e.nextSibling:null;r&&t.removeChild(r),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===(t.nodeName==="IMG"))return;this.removeManagedLineBreak()}const r=this.element,s=this.before,o=document.createElement("br");if(r.insertBefore(o,s),e){const i=document.createElement("img");i.setAttribute("data-lexical-linebreak","true"),i.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",i.alt="",r.insertBefore(i,o),r.__lexicalLineBreak=i}else r.__lexicalLineBreak=o}getFirstChildOffset(){let e=0;for(let t=this.after;t!==null;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,r,s){if(r===this.element){const a=this.getFirstChildOffset();return[e,Math.min(a+e.getChildrenSize(),Math.max(a,s))]}const o=pi(t,r);o.push(s);const i=pi(t,this.element);let l=e.getIndexWithinParent();for(let a=0;a<i.length;a++){const c=o[a],u=i[a];if(c===void 0||c<u)break;if(c>u){l+=1;break}}return[e.getParentOrThrow(),l]}}function pi(n,e){const t=[];let r=e;for(;r!==n&&r!==null;r=r.parentNode){let s=0;for(let o=r.previousSibling;o!==null;o=o.previousSibling)s++;t.push(s)}return r!==n&&M(225),t.reverse()}class Re extends an{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return Eu[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=Z()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return t!==null&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;t!==null;){if(A(t)&&e.push(t),b(t)){const r=t.getAllTextNodes();e.push(...r)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;b(e);){const t=e.getFirstChild();if(t===null)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;b(e);){const t=e.getLastChild();if(t===null)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),r=t.length;if(e>=r){const o=t[r-1];return b(o)&&o.getLastDescendant()||o||null}const s=t[e];return b(s)&&s.getFirstDescendant()||s||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:re(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&M(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:re(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&M(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let r,s;if(e<t/2){for(r=this.getFirstChild(),s=0;r!==null&&s<=e;){if(s===e)return r;r=r.getNextSibling(),s++}return null}for(r=this.getLastChild(),s=t-1;r!==null&&s>=e;){if(s===e)return r;r=r.getPreviousSibling(),s--}return null}getTextContent(){let e="";const t=this.getChildren(),r=t.length;for(let s=0;s<r;s++){const o=t[s];e+=o.getTextContent(),b(o)&&s!==r-1&&!o.isInline()&&(e+=ot)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),r=t.length;for(let s=0;s<r;s++){const o=t[s];e+=o.getTextContentSize(),b(o)&&s!==r-1&&!o.isInline()&&(e+=ot.length)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){const t=Fo[e];return!!(this.getFormat()&t)}return!1}hasTextFormat(e){const t=At[e];return!!(this.getTextFormat()&t)}getFormatFlags(e,t){return vr(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){ge();const r=D();let s=e,o=t;const i=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&t===0){const a=this.getFirstChild();if(A(a)||b(a))return a.select(0,0)}else if(!(e!==void 0&&e!==i||t!==void 0&&t!==i)){const a=this.getLastChild();if(A(a)||b(a))return a.select()}}s===void 0&&(s=i),o===void 0&&(o=i);const l=this.__key;return O(r)?(r.anchor.set(l,s,"element"),r.focus.set(l,o,"element"),r.dirty=!0,r):Yl(l,s,l,o,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(t=>t.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=e!==""?Fo[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){const t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,r){const s=r.length,o=this.getChildrenSize(),i=this.getWritable();e+t<=o||M(226,String(e),String(t),String(o));const l=i.__key,a=[],c=[],u=this.getChildAtIndex(e+t);let f=null,d=o-t+s;if(e!==0)if(e===o)f=this.getLastChild();else{const h=this.getChildAtIndex(e);h!==null&&(f=h.getPreviousSibling())}if(t>0){let h=f===null?this.getFirstChild():f.getNextSibling();for(let g=0;g<t;g++){h===null&&M(100);const _=h.getNextSibling(),v=h.__key;Pt(h.getWritable()),c.push(v),h=_}}let p=f;for(let h=0;h<s;h++){const g=r[h];p!==null&&g.is(p)&&(f=p=p.getPreviousSibling());const _=g.getWritable();_.__parent===l&&d--,Pt(_);const v=g.__key;if(p===null)i.__first=v,_.__prev=null;else{const y=p.getWritable();y.__next=v,_.__prev=y.__key}g.__key===l&&M(76),_.__parent=l,a.push(v),p=g}if(e+t===o)p!==null&&(p.getWritable().__next=null,i.__last=p.__key);else if(u!==null){const h=u.getWritable();if(p!==null){const g=p.getWritable();h.__prev=p.__key,g.__next=u.__key}else h.__prev=null}if(i.__size=d,c.length){const h=D();if(O(h)){const g=new Set(c),_=new Set(a),{anchor:v,focus:y}=h;mi(v,g,_)&&xr(v,v.getNode(),this,f,u),mi(y,g,_)&&xr(y,y.getNode(),this,f,u),d!==0||this.canBeEmpty()||we(this)||this.remove()}}return i}getDOMSlot(e){return new Nn(e)}exportDOM(e){const{element:t}=super.exportDOM(e);if(ue(t)){const r=this.getIndent();r>0&&(t.style.paddingInlineStart=40*r+"px");const s=this.getDirection();s&&(t.dir=s)}return{element:t}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),r=this.getTextStyle();return t!==0&&(e.textFormat=t),r!==""&&(e.textStyle=r),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,r){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){const r=this.getDOMSlot(e);let s=r.getFirstChild();for(let o=this.getFirstChild();o;o=o.getNextSibling()){const i=t.getElementByKey(o.getKey());i!==null&&(s==null?(r.insertChild(i),s=i):s!==i&&r.replaceChild(i,s),s=s.nextSibling)}}}function b(n){return n instanceof Re}function mi(n,e,t){let r=n.getNode();for(;r;){const s=r.__key;if(e.has(s)&&!t.has(s))return!0;r=r.getParent()}return!1}class ta extends an{decorate(e,t){M(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function U(n){return n instanceof ta}class Rn extends Re{static getType(){return"root"}static clone(){return new Rn}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){M(51)}getTextContent(){const e=this.__cachedText;return!jn()&&Z()._dirtyType!==Ot||e===null?super.getTextContent():e}remove(){M(52)}replace(e){M(53)}insertBefore(e){M(54)}insertAfter(e){M(55)}updateDOM(e,t){return!1}splice(e,t,r){for(const s of r)b(s)||U(s)||M(282);return super.splice(e,t,r)}static importJSON(e){return ee().updateFromJSON(e)}collapseAtStart(){return!0}}function he(n){return n instanceof Rn}function na(n){return new Mr(new Map(n._nodeMap))}function co(){return new Mr(new Map([["root",new Rn]]))}function ra(n){const e=n.exportJSON(),t=n.constructor;if(e.type!==t.getType()&&M(130,t.name),b(n)){const r=e.children;Array.isArray(r)||M(59,t.name);const s=n.getChildren();for(let o=0;o<s.length;o++){const i=ra(s[o]);r.push(i)}}return e}class Mr{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,t){return hi(t&&t.editor||null,this,e)}clone(e){const t=new Mr(this._nodeMap,e===void 0?this._selection:e);return t._readOnly=!0,t}toJSON(){return hi(null,this,()=>({root:ra(ee())}))}}const ws="historic",pd="history-push",wn="history-merge",md="paste",_d="collaboration",yd="skip-scroll-into-view",xd="skip-dom-selection";class uo extends Re{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class $n extends Re{static getType(){return"paragraph"}static clone(e){return new $n(e.__key)}createDOM(e){const t=document.createElement("p"),r=Qt(e.theme,"paragraph");return r!==void 0&&t.classList.add(...r),t}updateDOM(e,t,r){return!1}static importDOM(){return{p:e=>({conversion:vd,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(ue(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r)}return{element:t}}static importJSON(e){return se().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){const r=se();r.setTextFormat(e.format),r.setTextStyle(e.style);const s=this.getDirection();return r.setDirection(s),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,t),r}collapseAtStart(){const e=this.getChildren();if(e.length===0||A(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function vd(n){const e=se();return n.style&&(e.setFormat(n.style.textAlign),bo(n,e)),{node:e}}function se(){return pt(new $n)}function sa(n){return n instanceof $n}const V=0,_n=1,Cd=4;function oa(n,e,t,r){const s=n._keyToDOMMap;s.clear(),n._editorState=co(),n._pendingEditorState=r,n._compositionKey=null,n._dirtyType=Ot,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;const o=n._observer;o!==null&&(o.disconnect(),n._observer=null),e!==null&&(e.textContent=""),t!==null&&(t.textContent="",s.set("root",t))}function Sd(n){const e=n||{},t=hd(),r=e.theme||{},s=n===void 0?t:e.parentEditor||null,o=e.disableEvents||!1,i=co(),l=e.namespace||(s!==null?s._config.namespace:ha()),a=e.editorState,c=[Rn,Kt,In,Ln,$n,uo,...e.nodes||[]],{onError:u,html:f}=e,d=e.editable===void 0||e.editable;let p;if(n===void 0&&t!==null)p=t._nodes;else{p=new Map;for(let g=0;g<c.length;g++){let _=c[g],v=null,y=null;if(typeof _!="function"){const k=_;_=k.replace,v=k.with,y=k.withKlass||null}const{ownNodeConfig:x}=No(_),C=_.getType(),E=_.transform(),S=new Set;x&&x.$transform&&S.add(x.$transform),E!==null&&S.add(E),p.set(C,{exportDOM:f&&f.export?f.export.get(_):void 0,klass:_,replace:v,replaceWithKlass:y,sharedNodeState:Fu(c[g]),transforms:S})}}const h=new Or(i,s,p,{disableEvents:o,namespace:l,theme:r},u||console.error,function(g,_){const v=new Map,y=new Set,x=C=>{Object.keys(C).forEach(E=>{let S=v.get(E);S===void 0&&(S=[],v.set(E,S)),S.push(C[E])})};return g.forEach(C=>{const E=C.klass.importDOM;if(E==null||y.has(E))return;y.add(E);const S=E.call(C.klass);S!==null&&x(S)}),_&&x(_),v}(p,f?f.import:void 0),d,n);return a!==void 0&&(h._pendingEditorState=a,h._dirtyType=tn),h}class Or{constructor(e,t,r,s,o,i,l,a){this._createEditorArgs=a,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=s,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=Ot,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=ha(),this._onError=o,this._htmlConversions=i,this._editable=l,this._headless=t!==null&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,r){r===void 0&&M(35);const s=this._commands;s.has(e)||s.set(e,[new Set,new Set,new Set,new Set,new Set]);const o=s.get(e);o===void 0&&M(36,String(e));const i=o[r];return i.add(t),()=>{i.delete(t),o.every(l=>l.size===0)&&s.delete(e)}}registerMutationListener(e,t,r){const s=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,o=this._listeners.mutation;let i=o.get(t);i===void 0&&(i=new Set,o.set(t,i)),i.add(s);const l=r&&r.skipInitialization;return l!==void 0&&l||this.initializeMutationListener(t,s),()=>{i.delete(s),i.size===0&&o.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return t===void 0&&M(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const r=this._editorState,s=wi(r).get(t.getType());if(!s)return;const o=new Map;for(const i of s.keys())o.set(i,"created");o.size>0&&e(o,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const r=this.getRegisteredNode(e);return r.transforms.add(t),r}registerNodeTransform(e,t){const r=this.registerNodeTransformToKlass(e,t),s=[r],o=r.replaceWithKlass;if(o!=null){const i=this.registerNodeTransformToKlass(o,t);s.push(i)}return function(i,l){const a=wi(i.getEditorState()),c=[];for(const u of l){const f=a.get(u);f&&c.push(f)}c.length!==0&&i.update(()=>{for(const u of c)for(const f of u.keys()){const d=re(f);d&&d.markDirty()}},i._pendingEditorState===null?{tag:wn}:void 0)}(this,s.map(i=>i.klass.getType())),()=>{s.forEach(i=>i.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return L(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const r=Qt(this._config.theme,"root"),s=this._pendingEditorState||this._editorState;if(this._rootElement=e,oa(this,t,e,s),t!==null&&(this._config.disableEvents||td(t),r!=null&&t.classList.remove(...r)),e!==null){const o=vo(e),i=e.style;i.userSelect="text",i.whiteSpace="pre-wrap",i.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=o,this._dirtyType=tn,gl(this),this._updateTags.add(wn),st(this),this._config.disableEvents||function(l,a){const c=l.ownerDocument,u=_r.get(c);(u===void 0||u<1)&&c.addEventListener("selectionchange",Wl),_r.set(c,(u||0)+1),l.__lexicalEditor=a;const f=zl(l);for(let d=0;d<xs.length;d++){const[p,h]=xs[d],g=typeof h=="function"?_=>{Xo(_)||(Go(_),(a.isEditable()||p==="click")&&h(_,a))}:_=>{if(Xo(_))return;Go(_);const v=a.isEditable();switch(p){case"cut":return v&&L(a,ro,_);case"copy":return L(a,Er,_);case"paste":return v&&L(a,eo,_);case"dragstart":return v&&L(a,Il,_);case"dragover":return v&&L(a,Ll,_);case"dragend":return v&&L(a,Yu,_);case"focus":return v&&L(a,Qu,_);case"blur":return v&&L(a,Zu,_);case"drop":return v&&L(a,Dl,_)}};l.addEventListener(p,g),f.push(()=>{l.removeEventListener(p,g)})}}(e,this),r!=null&&e.classList.add(...r)}else this._window=null,this._updateTags.add(wn),st(this);bn("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&M(38);let r=e;r._readOnly&&(r=na(e),r._selection=e._selection?e._selection.clone():null),hl(this);const s=this._pendingEditorState,o=this._updateTags,i=t!==void 0?t.tag:null;s===null||s.isEmpty()||(i!=null&&o.add(i),st(this)),this._pendingEditorState=r,this._dirtyType=tn,this._dirtyElements.set("root",!1),this._compositionKey=null,i!=null&&o.add(i),this._updating||st(this)}parseEditorState(e,t){return function(r,s,o){const i=co(),l=ae,a=ve,c=ce,u=s._dirtyElements,f=s._dirtyLeaves,d=s._cloneNotNeeded,p=s._dirtyType;s._dirtyElements=new Map,s._dirtyLeaves=new Set,s._cloneNotNeeded=new Set,s._dirtyType=0,ae=i,ve=!1,ce=s,fo(null);try{const h=s._nodes;lo(r.root,h),o&&o(),i._readOnly=!0}catch(h){h instanceof Error&&s._onError(h)}finally{s._dirtyElements=u,s._dirtyLeaves=f,s._cloneNotNeeded=d,s._dirtyType=p,ae=l,ve=a,ce=c}return i}(typeof e=="string"?JSON.parse(e):e,this,t)}read(e){return st(this),this.getEditorState().read(e,{editor:this})}update(e,t){(function(r,s,o){r._updating?r._updates.push([s,o]):ao(r,s,o)})(this,e,t)}focus(e,t={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),Ne(this,()=>{const s=D(),o=ee();s!==null?s.dirty||ye(s.clone()):o.getChildrenSize()!==0&&(t.defaultSelection==="rootStart"?o.selectStart():o.selectEnd()),Pd("focus"),Md(()=>{r.removeAttribute("autocapitalize"),e&&e()})}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const t=$e(this._window);t!==null&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,bn("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}Or.version="0.33.1+prod.esm";let Ts=null;function fo(n){Ts=n}let bd=1;function ia(n,e){const t=ho(n,e);return t===void 0&&M(30,e),t}function ho(n,e){return n._nodes.get(e)}const Nd=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function _i(n){return U(rn(n))}function go(n){const e=document.activeElement;if(!ue(e))return!1;const t=e.nodeName;return U(rn(n))&&(t==="INPUT"||t==="TEXTAREA"||e.contentEditable==="true"&&Ar(e)==null)}function Bn(n,e,t){const r=n.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(t)&&e!==null&&!go(e)&&la(e)===n}catch{return!1}}function po(n){return n instanceof Or}function la(n){let e=n;for(;e!=null;){const t=Ar(e);if(po(t))return t;e=Kn(e)}return null}function Ar(n){return n?n.__lexicalEditor:null}function Et(n){return Jl(n)||n.isToken()}function nt(n){return Et(n)||n.isSegmented()}function lt(n){return un(n)&&n.nodeType===_u}function wd(n){return un(n)&&n.nodeType===yu}function nn(n){let e=n;for(;e!=null;){if(lt(e))return e;e=e.firstChild}return null}function vr(n,e,t){const r=At[e];if(t!==null&&(n&r)==(t&r))return n;let s=n^r;return e==="subscript"?s&=-65:e==="superscript"?s&=-33:e==="lowercase"?(s&=-513,s&=-1025):e==="uppercase"?(s&=-257,s&=-1025):e==="capitalize"&&(s&=-257,s&=-513),s}function aa(n){return A(n)||Xt(n)||U(n)}function Td(n,e){const t=function(){const i=Ts;return Ts=null,i}();if((e=e||t&&t.__key)!=null)return void(n.__key=e);ge(),Ql();const r=Z(),s=gt(),o=""+bd++;s._nodeMap.set(o,n),b(n)?r._dirtyElements.set(o,!0):r._dirtyLeaves.add(o),r._cloneNotNeeded.add(o),r._dirtyType=al,n.__key=o}function Pt(n){const e=n.getParent();if(e!==null){const t=n.getWritable(),r=e.getWritable(),s=n.getPreviousSibling(),o=n.getNextSibling(),i=o!==null?o.__key:null,l=s!==null?s.__key:null,a=s!==null?s.getWritable():null,c=o!==null?o.getWritable():null;s===null&&(r.__first=i),o===null&&(r.__last=l),a!==null&&(a.__next=i),c!==null&&(c.__prev=l),t.__prev=null,t.__next=null,t.__parent=null,r.__size--}}function Cr(n){Ql();const e=n.getLatest(),t=e.__parent,r=gt(),s=Z(),o=r._nodeMap,i=s._dirtyElements;t!==null&&function(a,c,u){let f=a;for(;f!==null;){if(u.has(f))return;const d=c.get(f);if(d===void 0)break;u.set(f,!1),f=d.__parent}}(t,o,i);const l=e.__key;s._dirtyType=al,b(n)?i.set(l,!0):s._dirtyLeaves.add(l)}function fe(n){ge();const e=Z(),t=e._compositionKey;if(n!==t){if(e._compositionKey=n,t!==null){const r=re(t);r!==null&&r.getWritable()}if(n!==null){const r=re(n);r!==null&&r.getWritable()}}}function at(){return jn()?null:Z()._compositionKey}function re(n,e){const t=(e||gt())._nodeMap.get(n);return t===void 0?null:t}function ca(n,e){const t=Dr(n,Z());return t!==void 0?re(t,e):null}function Dr(n,e){return n[`__lexicalKey_${e._key}`]}function rn(n,e){let t=n;for(;t!=null;){const r=ca(t,e);if(r!==null)return r;t=Kn(t)}return null}function ua(n){const e=n._decorators,t=Object.assign({},e);return n._pendingDecorators=t,t}function yi(n){return n.read(()=>ee().getTextContent())}function ee(){return da(gt())}function da(n){return n._nodeMap.get("root")}function ye(n){ge();const e=gt();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),e._selection=n}function Jt(n){const e=Z(),t=function(r,s){let o=r;for(;o!=null;){const i=Dr(o,s);if(i!==void 0)return i;o=Kn(o)}return null}(n,e);return t===null?n===e.getRootElement()?re("root"):null:re(t)}function xi(n,e){return e?n.getTextContentSize():0}function fa(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function mo(n){const e=[];let t=n;for(;t!==null;)e.push(t),t=t._parentEditor;return e}function ha(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function ga(n){return lt(n)?n.nodeValue:null}function _o(n,e,t){const r=$e(Pe(e));if(r===null)return;const s=r.anchorNode;let{anchorOffset:o,focusOffset:i}=r;if(s!==null){let l=ga(s);const a=rn(s);if(l!==null&&A(a)){if(l===Tr&&t){const c=t.length;l=t,o=c,i=c}l!==null&&yo(a,l,o,i,n)}}}function yo(n,e,t,r,s){let o=n;if(o.isAttached()&&(s||!o.isDirty())){const i=o.isComposing();let l=e;(i||s)&&e[e.length-1]===Tr&&(l=e.slice(0,-1));const a=o.getTextContent();if(s||l!==a){if(l===""){if(fe(null),Tn||en||ar)o.remove();else{const g=Z();setTimeout(()=>{g.update(()=>{o.isAttached()&&o.remove()})},20)}return}const c=o.getParent(),u=cn(),f=o.getTextContentSize(),d=at(),p=o.getKey();if(o.isToken()||d!==null&&p===d&&!i||O(u)&&(c!==null&&!c.canInsertTextBefore()&&u.anchor.offset===0||u.anchor.key===n.__key&&u.anchor.offset===0&&!o.canInsertTextBefore()&&!i||u.focus.key===n.__key&&u.focus.offset===f&&!o.canInsertTextAfter()&&!i))return void o.markDirty();const h=D();if(!O(h)||t===null||r===null)return void o.setTextContent(l);if(h.setTextNodeRange(o,t,o,r),o.isSegmented()){const g=le(o.getTextContent());o.replace(g),o=g}o.setTextContent(l)}}}function Yn(n,e,t){const r=e[t]||!1;return r==="any"||r===n[t]}function kd(n,e){return Yn(n,e,"altKey")&&Yn(n,e,"ctrlKey")&&Yn(n,e,"shiftKey")&&Yn(n,e,"metaKey")}function H(n,e,t){return kd(n,t)&&n.key.toLowerCase()===e.toLowerCase()}const tt={ctrlKey:!Ue,metaKey:Ue},vi={altKey:Ue,ctrlKey:!Ue};function Ci(n){return n.key==="Backspace"}function Si(n){return H(n,"a",tt)}function Ed(n){const e=ee();if(O(n)){const t=n.anchor,r=n.focus,s=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(s.getKey(),0,"element"),r.set(s.getKey(),s.getChildrenSize(),"element"),fr(n),n}{const t=e.select(0,e.getChildrenSize());return ye(fr(t)),t}}function Qt(n,e){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});const t=n.__lexicalClassNameCache,r=t[e];if(r!==void 0)return r;const s=n[e];if(typeof s=="string"){const o=cr(s);return t[e]=o,o}return s}function xo(n,e,t,r,s){if(t.size===0)return;const o=r.__type,i=r.__key,l=e.get(o);l===void 0&&M(33,o);const a=l.klass;let c=n.get(a);c===void 0&&(c=new Map,n.set(a,c));const u=c.get(i),f=u==="destroyed"&&s==="created";(u===void 0||f)&&c.set(i,f?"updated":s)}function bi(n,e,t){const r=n.getParent();let s=t,o=n;return r!==null&&(e&&t===0?(s=o.getIndexWithinParent(),o=r):e||t!==o.getChildrenSize()||(s=o.getIndexWithinParent()+1,o=r)),o.getChildAtIndex(e?s-1:s)}function ks(n,e){const t=n.offset;if(n.type==="element")return bi(n.getNode(),e,t);{const r=n.getNode();if(e&&t===0||!e&&t===r.getTextContentSize()){const s=e?r.getPreviousSibling():r.getNextSibling();return s===null?bi(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):s}}return null}function pa(n){const e=Pe(n).event,t=e&&e.inputType;return t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function L(n,e,t){return function(r,s,o){const i=mo(r);for(let l=4;l>=0;l--)for(let a=0;a<i.length;a++){const c=i[a],u=c._commands.get(s);if(u!==void 0){const f=u[l];if(f!==void 0){const d=Array.from(f),p=d.length;let h=!1;if(Ne(c,()=>{for(let g=0;g<p;g++)if(d[g](o,r))return void(h=!0)}),h)return h}}}return!1}(n,e,t)}function Ir(n){return!he(n)&&!n.isLastChild()&&!n.isInline()}function sn(n,e){const t=n._keyToDOMMap.get(e);return t===void 0&&M(75,e),t}function Kn(n){const e=n.assignedSlot||n.parentElement;return Ms(e)?e.host:e}function ma(n){return wd(n)?n:ue(n)?n.ownerDocument:null}function Pd(n){ge(),Z()._updateTags.add(n)}function Md(n){ge(),Z()._deferred.push(n)}function Es(n,e){let t=n.getParent();for(;t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function vo(n){const e=ma(n);return e?e.defaultView:null}function Pe(n){const e=n._window;return e===null&&M(78),e}function Od(n){let e=n.getParentOrThrow();for(;e!==null;){if(we(e))return e;e=e.getParentOrThrow()}return e}function we(n){return he(n)||b(n)&&n.isShadowRoot()}function pt(n){const e=Z(),t=n.getType(),r=ho(e,t);r===void 0&&M(200,n.constructor.name,t);const{replace:s,replaceWithKlass:o}=r;if(s!==null){const i=s(n),l=i.constructor;return o!==null?i instanceof o||M(201,o.name,o.getType(),l.name,l.getType(),n.constructor.name,t):i instanceof n.constructor&&l!==n.constructor||M(202,l.name,l.getType(),n.constructor.name,t),i.__key===n.__key&&M(203,n.constructor.name,t,l.name,l.getType()),i}return n}function ns(n,e){!he(n.getParent())||b(e)||U(e)||M(99)}function Ad(n){const e=re(n);return e===null&&M(63,n),e}function rs(n){return(U(n)||b(n)&&!n.canBeEmpty())&&!n.isInline()}function Ps(n,e,t){t.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=n.parentElement;r!==null&&r.removeChild(n)}function $e(n){return ze?(n||window).getSelection():null}function Dd(n){const e=vo(n);return e?e.getSelection():null}function ue(n){return un(n)&&n.nodeType===mu}function un(n){return typeof n=="object"&&n!==null&&"nodeType"in n&&typeof n.nodeType=="number"}function Ms(n){return un(n)&&n.nodeType===xu}function Os(n){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return n.nodeName.match(e)!==null}function Sr(n){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return n.nodeName.match(e)!==null}function ke(n){if(U(n)&&!n.isInline())return!0;if(!b(n)||we(n))return!1;const e=n.getFirstChild(),t=e===null||Xt(e)||A(e)||e.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&t}function ss(n,e){let t=n;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}function Co(){return Z()}const Ni=new WeakMap,Id=new Map;function wi(n){if(!n._readOnly&&n.isEmpty())return Id;n._readOnly||M(192);let e=Ni.get(n);return e||(e=function(t){const r=new Map;for(const[s,o]of t._nodeMap){const i=o.__type;let l=r.get(i);l||(l=new Map,r.set(i,l)),l.set(s,o)}return r}(n),Ni.set(n,e)),e}function So(n){const e=n.constructor.clone(n);return e.afterCloneFrom(n),e}function bo(n,e){const t=parseInt(n.style.paddingInlineStart,10)||0,r=Math.round(t/40);e.setIndent(r)}function Ld(n){return n.__lexicalUnmanaged===!0}function yn(n,e){return function(t,r){return Object.prototype.hasOwnProperty.call(t,r)}(n,e)&&n[e]!==an[e]}function No(n){const e=jo in n.prototype?n.prototype[jo]():void 0,t=function(i){return i===ta||i===Re||i===an}(n),r=!t&&yn(n,"getType")?n.getType():void 0;let s,o=r;if(e)if(r)s=e[r];else for(const[i,l]of Object.entries(e))o=i,s=l;if(!t&&o&&(yn(n,"getType")||(n.getType=()=>o),yn(n,"clone")||(n.clone=i=>(fo(i),new n)),yn(n,"importJSON")||(n.importJSON=s&&s.$importJSON||(i=>new n().updateFromJSON(i))),!yn(n,"importDOM")&&s)){const{importDOM:i}=s;i&&(n.importDOM=()=>i)}return{ownNodeConfig:s,ownNodeType:o}}const Fd={next:"previous",previous:"next"};class wo{constructor(e){this.origin=e}[Symbol.iterator](){return _a({hasNext:on,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return pe(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return pe(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const r=this.getNodeAtCaret();return e.is(this.origin)||e.is(r)||(r===null?this.insert(e):r.replace(e,t)),this}splice(e,t,r="next"){const s=r===this.direction?t:Array.from(t).reverse();let o=this;const i=this.getParentAtCaret(),l=new Map;for(let a=o.getAdjacentCaret();a!==null&&l.size<e;a=a.getAdjacentCaret()){const c=a.origin.getWritable();l.set(c.getKey(),c)}for(const a of s){if(l.size>0){const c=o.getNodeAtCaret();if(c){if(l.delete(c.getKey()),l.delete(a.getKey()),!(c.is(a)||o.origin.is(a))){const u=a.getParent();u&&u.is(i)&&a.remove(),c.replace(a)}}else c===null&&M(263,Array.from(l).join(" "))}else o.insert(a);o=pe(a,this.direction)}for(const a of l.values())a.remove();return this}}class Dn extends wo{constructor(){super(...arguments);Te(this,"type","child")}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:Be(t,this.direction)}getParentCaret(t="root"){return pe(To(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=dn(this.direction);return pe(this.getNodeAtCaret(),t)||Be(this.origin,t)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(t){return t instanceof Dn&&this.direction===t.direction&&this.origin.is(t.origin)}isSamePointCaret(t){return this.isSameNodeCaret(t)}}const jd={root:he,shadowRoot:we};function dn(n){return Fd[n]}function To(n,e="root"){return jd[e](n)?null:n}class Lt extends wo{constructor(){super(...arguments);Te(this,"type","sibling")}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:pe(t,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return b(this.origin)?Be(this.origin,this.direction):null}getParentCaret(t="root"){return pe(To(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=dn(this.direction);return pe(this.getNodeAtCaret(),t)||Be(this.origin.getParentOrThrow(),t)}isSamePointCaret(t){return t instanceof Lt&&this.direction===t.direction&&this.origin.is(t.origin)}isSameNodeCaret(t){return(t instanceof Lt||t instanceof Ft)&&this.direction===t.direction&&this.origin.is(t.origin)}}class Ft extends wo{constructor(t,r){super(t);Te(this,"type","text");this.offset=r}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:jt(t,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(t="root"){return pe(To(this.getParentAtCaret(),t),this.direction)}getFlipped(){return jt(this.origin,dn(this.direction),this.offset)}isSamePointCaret(t){return t instanceof Ft&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset}isSameNodeCaret(t){return(t instanceof Lt||t instanceof Ft)&&this.direction===t.direction&&this.origin.is(t.origin)}getSiblingCaret(){return pe(this.origin,this.direction)}}function ut(n){return n instanceof Ft}function on(n){return n instanceof Lt}function He(n){return n instanceof Dn}const Rd={next:class extends Ft{constructor(){super(...arguments);Te(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Ft{constructor(){super(...arguments);Te(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},$d={next:class extends Lt{constructor(){super(...arguments);Te(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Lt{constructor(){super(...arguments);Te(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},Bd={next:class extends Dn{constructor(){super(...arguments);Te(this,"direction","next")}getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends Dn{constructor(){super(...arguments);Te(this,"direction","previous")}getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function pe(n,e){return n?new $d[e](n):null}function jt(n,e,t){return n?new Rd[e](n,Lr(n,t)):null}function Lr(n,e){const t=n.getTextContentSize();let r=e==="next"?t:e==="previous"?0:e;return(r<0||r>t)&&(function(s,...o){const i=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",s);for(const a of o)l.append("v",a);i.search=l.toString(),console.warn(`Minified Lexical warning #${s}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(284,String(e),String(t),n.getKey()),r=r<0?0:t),r}function Ti(n,e){return new zd(n,e)}function Be(n,e){return b(n)?new Bd[e](n):null}function Kd(n){return n&&n.getChildCaret()||n}function ko(n){return n&&Kd(n.getAdjacentCaret())}class Eo{constructor(e,t,r){Te(this,"type","node-caret-range");this.anchor=e,this.focus=t,this.direction=r}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new Eo(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=s=>{const o=this[s].getLatest();return ut(o)?function(i,l){const{direction:a,origin:c}=i,u=Lr(c,l==="focus"?dn(a):a);return Ti(i,u-i.offset)}(o,s):null},t=e("anchor"),r=e("focus");if(t&&r){const{caret:s}=t,{caret:o}=r;if(s.isSameNodeCaret(o))return[Ti(s,o.offset-s.offset),null]}return[t,r]}iterNodeCarets(e="root"){const t=ut(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),s=ut(r),o=i=>i.isSameNodeCaret(r)?null:ko(i)||i.getParentCaret(e);return _a({hasNext:i=>i!==null&&!(s&&r.isSameNodeCaret(i)),initial:t.isSameNodeCaret(r)?null:o(t),map:i=>i,step:o})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class zd{constructor(e,t){Te(this,"type","slice");this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,r=t+e;return r<t?[r,t]:[t,r]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[r,s]=this.getSliceIndices(),o=e.getTextContent();return jt(e.setTextContent(o.slice(0,r)+o.slice(s)),t,r)}}function Po(n){return ht(n,pe(ee(),n.direction))}function Wd(n){return ht(n,n)}function ht(n,e){return n.direction!==e.direction&&M(265),new Eo(n,e,n.direction)}function _a(n){const{initial:e,hasNext:t,step:r,map:s}=n;let o=e;return{[Symbol.iterator](){return this},next(){if(!t(o))return{done:!0,value:void 0};const i={done:!1,value:s(o)};return o=r(o),i}}}function ya(n,e){const t=sr(n.origin,e.origin);switch(t===null&&M(275,n.origin.getKey(),e.origin.getKey()),t.type){case"same":{const r=n.type==="text",s=e.type==="text";return r&&s?function(o,i){return Math.sign(o-i)}(n.offset,e.offset):n.type===e.type?0:r?-1:s?1:n.type==="child"?-1:1}case"ancestor":return n.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return xa(t)}}function xa(n){const{a:e,b:t}=n,r=e.__key,s=t.__key;let o=e,i=t;for(;o&&i;o=o.getNextSibling(),i=i.getNextSibling()){if(o.__key===s)return-1;if(i.__key===r)return 1}return o===null?1:-1}function Gn(n,e){return e.is(n)}function ki(n){return b(n)?[n.getLatest(),null]:[n.getParent(),n.getLatest()]}function sr(n,e){if(n.is(e))return{commonAncestor:n,type:"same"};const t=new Map;for(let[r,s]=ki(n);r;s=r,r=r.getParent())t.set(r,s);for(let[r,s]=ki(e);r;s=r,r=r.getParent()){const o=t.get(r);if(o!==void 0)return o===null?(Gn(n,r)||M(276),{commonAncestor:r,type:"ancestor"}):s===null?(Gn(e,r)||M(277),{commonAncestor:r,type:"descendant"}):((b(o)||Gn(n,o))&&(b(s)||Gn(e,s))&&r.is(o.getParent())&&r.is(s.getParent())||M(278),{a:o,b:s,commonAncestor:r,type:"branch"})}return null}function it(n,e){const{type:t,key:r,offset:s}=n,o=Ad(n.key);return t==="text"?(A(o)||M(266,o.getType(),r),jt(o,e,s)):(b(o)||M(267,o.getType(),r),Jd(o,n.offset,e))}function Rt(n,e){const{origin:t,direction:r}=e,s=r==="next";ut(e)?n.set(t.getKey(),e.offset,"text"):on(e)?A(t)?n.set(t.getKey(),Lr(t,r),"text"):n.set(t.getParentOrThrow().getKey(),t.getIndexWithinParent()+(s?1:0),"element"):(He(e)&&b(t)||M(268),n.set(t.getKey(),s?0:t.getChildrenSize(),"element"))}function Vd(n){const e=D(),t=O(e)?e:oo();return or(t,n),ye(t),t}function or(n,e){Rt(n.anchor,e.anchor),Rt(n.focus,e.focus)}function Ei(n){const{anchor:e,focus:t}=n,r=it(e,"next"),s=it(t,"next"),o=ya(r,s)<=0?"next":"previous";return ht(ln(r,o),ln(s,o))}function Mo(n){const{direction:e,origin:t}=n,r=pe(t,dn(e)).getNodeAtCaret();return r?pe(r,e):Be(t.getParentOrThrow(),e)}function Pi(n,e="root"){const t=[n];for(let r=He(n)?n.getParentCaret(e):n.getSiblingCaret();r!==null;r=r.getParentCaret(e))t.push(Mo(r));return t}function os(n){return!!n&&n.origin.isAttached()}function Ud(n,e="removeEmptySlices"){if(n.isCollapsed())return n;const t="root",r="next";let s=e;const o=Ca(n,r),i=Pi(o.anchor,t),l=Pi(o.focus.getFlipped(),t),a=new Set,c=[];for(const h of o.iterNodeCarets(t))if(He(h))a.add(h.origin.getKey());else if(on(h)){const{origin:g}=h;b(g)&&!a.has(g.getKey())||c.push(g)}for(const h of c)h.remove();for(const h of o.getTextSlices()){if(!h)continue;const{origin:g}=h.caret,_=g.getTextContentSize(),v=Mo(pe(g,r)),y=g.getMode();if(Math.abs(h.distance)===_&&s==="removeEmptySlices"||y==="token"&&h.distance!==0)v.remove();else if(h.distance!==0){s="removeEmptySlices";let x=h.removeTextSlice();const C=h.caret.origin;if(y==="segmented"){const E=x.origin,S=le(E.getTextContent()).setStyle(E.getStyle()).setFormat(E.getFormat());v.replaceOrInsert(S),x=jt(S,r,x.offset)}C.is(i[0].origin)&&(i[0]=x),C.is(l[0].origin)&&(l[0]=x.getFlipped())}}let u,f;for(const h of i)if(os(h)){u=Ee(h);break}for(const h of l)if(os(h)){f=Ee(h);break}const d=function(h,g,_){if(!h||!g)return null;const v=h.getParentAtCaret(),y=g.getParentAtCaret();if(!v||!y)return null;const x=v.getParents().reverse();x.push(v);const C=y.getParents().reverse();C.push(y);const E=Math.min(x.length,C.length);let S;for(S=0;S<E&&x[S]===C[S];S++);const k=(I,F)=>{let z;for(let R=S;R<I.length;R++){const P=I[R];if(we(P))return;!z&&F(P)&&(z=P)}return z},T=k(x,ke),N=T&&k(C,I=>_.has(I.getKey())&&ke(I));return T&&N?[T,N]:null}(u,f,a);if(d){const[h,g]=d;Be(h,"previous").splice(0,g.getChildren()),g.remove()}const p=[u,f,...i,...l].find(os);if(p)return Wd(ln(Ee(p),n.direction));M(269,JSON.stringify(i.map(h=>h.origin.__key)))}function Ee(n){const e=function(s){let o=s;for(;He(o);){const i=ko(o);if(!He(i))break;o=i}return o}(n.getLatest()),{direction:t}=e;if(A(e.origin))return ut(e)?e:jt(e.origin,t,t);const r=e.getAdjacentCaret();return on(r)&&A(r.origin)?jt(r.origin,t,dn(t)):e}function va(n){return ut(n)&&n.offset!==Lr(n.origin,n.direction)}function ln(n,e){return n.direction===e?n:n.getFlipped()}function Ca(n,e){return n.direction===e?n:ht(ln(n.focus,e),ln(n.anchor,e))}function Jd(n,e,t){let r=Be(n,"next");for(let s=0;s<e;s++){const o=r.getAdjacentCaret();if(o===null)break;r=o}return ln(r,t)}const As=new Map;function Sa(n){const e={};if(!n)return e;const t=n.split(";");for(const r of t)if(r!==""){const[s,o]=r.split(/:([^]+)/);s&&o&&(e[s.trim()]=o.trim())}return e}function Mi(n){let e=As.get(n);return e===void 0&&(e=Sa(n),As.set(n,e)),e}function ba(n,e){const t=n.getStartEndPoints();if(e.isSelected(n)&&!nt(e)&&t!==null){const[r,s]=t,o=n.isBackward(),i=r.getNode(),l=s.getNode(),a=e.is(i),c=e.is(l);if(a||c){const[u,f]=bs(n),d=i.is(l),p=e.is(o?l:i),h=e.is(o?i:l);let g,_=0;d?(_=u>f?f:u,g=u>f?u:f):p?(_=o?f:u,g=void 0):h&&(_=0,g=o?u:f),e.__text=e.__text.slice(_,g)}}return e}function Hd(n){const e=n.getStyle(),t=Sa(e);As.set(e,t)}function qd(n,e){const t=n.getFormatType(),r=n.getIndent();t!==e.getFormatType()&&e.setFormat(t),r!==e.getIndent()&&e.setIndent(r)}function is(n,e,t=qd){if(n===null)return;const r=n.getStartEndPoints(),s=new Map;let o=null;if(r){const[i,l]=r;o=oo(),o.anchor.set(i.key,i.offset,i.type),o.focus.set(l.key,l.offset,l.type);const a=ls(i.getNode(),ke),c=ls(l.getNode(),ke);b(a)&&s.set(a.getKey(),a),b(c)&&s.set(c.getKey(),c)}for(const i of n.getNodes())if(b(i)&&ke(i))s.set(i.getKey(),i);else if(r===null){const l=ls(i,ke);b(l)&&s.set(l.getKey(),l)}for(const[i,l]of s){const a=e();t(l,a),l.replace(a,!0),o&&(i===o.anchor.key&&o.anchor.set(a.getKey(),o.anchor.offset,o.anchor.type),i===o.focus.key&&o.focus.set(a.getKey(),o.focus.offset,o.focus.type))}o&&n.is(D())&&ye(o)}function Na(n){const e=n.anchor.getNode(),t=he(e)?e:e.getParentOrThrow(),r=Co().getElementByKey(t.getKey());if(r===null)return!1;const s=r.ownerDocument.defaultView;return s===null?!1:s.getComputedStyle(r).writingMode==="vertical-rl"}function Oi(n,e){const t=Na(n)?!e:e,r=it(n.focus,t?"previous":"next");if(va(r))return!1;for(const s of Po(r)){if(He(s))return!s.origin.isInline();if(!b(s.origin)){if(U(s.origin))return!0;break}}return!1}function Yd(n,e,t,r){n.modify(e?"extend":"move",t,r)}function Gd(n){const e=n.anchor.getNode();return(he(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}function Ai(n,e,t){const r=Gd(n);let s;s=Na(n)||r?!t:t,Yd(n,e,s,"character")}function ls(n,e){let t=n;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}function Xd(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const s of e)r.append("v",s);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const wa=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Qd=wa&&"documentMode"in document?document.documentMode:null;!(!wa||!("InputEvent"in window)||Qd)&&"getTargetRanges"in new window.InputEvent("input");function Ta(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}function fn(...n){return()=>{for(let e=n.length-1;e>=0;e--)n[e]();n.length=0}}function Fr(n,...e){const t=Ta(...e);t.length>0&&n.classList.add(...t)}function ka(n,...e){const t=Ta(...e);t.length>0&&n.classList.remove(...t)}function Zd(n,e){let t=n;for(;t!=null;){if(t instanceof e)return t;t=t.getParent()}return null}function ef(n){const e=jr(n,t=>b(t)&&!t.isInline());return b(e)||Xd(4,n.__key),e}const jr=(n,e)=>{let t=n;for(;t!==ee()&&t!=null;){if(e(t))return t;t=t.getParent()}return null};function Tt(n,e){return n!==null&&Object.getPrototypeOf(n).constructor.name===e.name}function Ea(n,e){const t=e.body?e.body.childNodes:[];let r=[];const s=[];for(let o=0;o<t.length;o++){const i=t[o];if(!Oa.has(i.nodeName)){const l=Aa(i,n,s,!1);l!==null&&(r=r.concat(l))}}return function(o){for(const i of o)i.getNextSibling()instanceof uo&&i.insertAfter(It());for(const i of o){const l=i.getChildren();for(const a of l)i.insertBefore(a);i.remove()}}(s),r}function Pa(n,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const t=document.createElement("div"),r=ee().getChildren();for(let s=0;s<r.length;s++)Ma(n,r[s],t,e);return t.innerHTML}function Ma(n,e,t,r=null){let s=r===null||e.isSelected(r);const o=b(e)&&e.excludeFromCopy("html");let i=e;if(r!==null){let p=So(e);p=A(p)&&r!==null?ba(r,p):p,i=p}const l=b(i)?i.getChildren():[],a=ho(n,i.getType());let c;c=a&&a.exportDOM!==void 0?a.exportDOM(n,i):i.exportDOM(n);const{element:u,after:f}=c;if(!u)return!1;const d=document.createDocumentFragment();for(let p=0;p<l.length;p++){const h=l[p],g=Ma(n,h,d,r);!s&&b(e)&&g&&e.extractWithChild(h,r,"html")&&(s=!0)}if(s&&!o){if((ue(u)||Ms(u))&&u.append(d),t.append(u),f){const p=f.call(i,u);p&&(Ms(u)?u.replaceChildren(p):u.replaceWith(p))}}else t.append(d);return s}const Oa=new Set(["STYLE","SCRIPT"]);function Aa(n,e,t,r,s=new Map,o){let i=[];if(Oa.has(n.nodeName))return i;let l=null;const a=function(h,g){const{nodeName:_}=h,v=g._htmlConversions.get(_.toLowerCase());let y=null;if(v!==void 0)for(const x of v){const C=x(h);C!==null&&(y===null||(y.priority||0)<=(C.priority||0))&&(y=C)}return y!==null?y.conversion:null}(n,e),c=a?a(n):null;let u=null;if(c!==null){u=c.after;const h=c.node;if(l=Array.isArray(h)?h[h.length-1]:h,l!==null){for(const[,g]of s)if(l=g(l,o),!l)break;l&&i.push(...Array.isArray(h)?h:[l])}c.forChild!=null&&s.set(n.nodeName,c.forChild)}const f=n.childNodes;let d=[];const p=(l==null||!we(l))&&(l!=null&&Ns(l)||r);for(let h=0;h<f.length;h++)d.push(...Aa(f[h],e,t,p,new Map(s),l));return u!=null&&(d=u(d)),Sr(n)&&(d=tf(n,d,p?()=>{const h=new uo;return t.push(h),h}:se)),l==null?d.length>0?i=i.concat(d):Sr(n)&&function(h){return h.nextSibling==null||h.previousSibling==null?!1:Os(h.nextSibling)&&Os(h.previousSibling)}(n)&&(i=i.concat(It())):b(l)&&l.append(...d),i}function tf(n,e,t){const r=n.style.textAlign,s=[];let o=[];for(let i=0;i<e.length;i++){const l=e[i];if(Ns(l))r&&!l.getFormat()&&l.setFormat(r),s.push(l);else if(o.push(l),i===e.length-1||i<e.length-1&&Ns(e[i+1])){const a=t();a.setFormat(r),a.append(...o),s.push(a),o=[]}}return s}const Da=w.createContext(null);function nf(n,e){return{getTheme:function(){return e??null}}}function Ge(){const n=w.useContext(Da);return n==null&&function(e,...t){const r=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",e);for(const o of t)s.append("v",o);throw r.search=s.toString(),Error(`Minified Lexical error #${e}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),n}function rf({defaultSelection:n}){const[e]=Ge();return w.useEffect(()=>{e.focus(()=>{const t=document.activeElement,r=e.getRootElement();r===null||t!==null&&r.contains(t)||r.focus({preventScroll:!0})},{defaultSelection:n})},[n,e]),null}const Ia=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,sf=Ia?w.useLayoutEffect:w.useEffect,Xn={tag:wn};function of({initialConfig:n,children:e}){const t=w.useMemo(()=>{const{theme:r,namespace:s,nodes:o,onError:i,editorState:l,html:a}=n,c=nf(null,r),u=Sd({editable:n.editable,html:a,namespace:s,nodes:o,onError:f=>i(f,u),theme:r});return function(f,d){if(d!==null){if(d===void 0)f.update(()=>{const p=ee();if(p.isEmpty()){const h=se();p.append(h);const g=Ia?document.activeElement:null;(D()!==null||g!==null&&g===f.getRootElement())&&h.select()}},Xn);else if(d!==null)switch(typeof d){case"string":{const p=f.parseEditorState(d);f.setEditorState(p,Xn);break}case"object":f.setEditorState(d,Xn);break;case"function":f.update(()=>{ee().isEmpty()&&d(f)},Xn)}}}(u,l),[u,c]},[]);return sf(()=>{const r=n.editable,[s]=t;s.setEditable(r===void 0||r)},[]),m.jsx(Da.Provider,{value:t,children:e})}function lf(){return ee().getTextContent()}function af(n,e=!0){if(n)return!1;let t=lf();return e&&(t=t.trim()),t===""}function cf(n){if(!af(n,!1))return!1;const e=ee().getChildren(),t=e.length;if(t>1)return!1;for(let r=0;r<t;r++){const s=e[r];if(U(s))return!1;if(b(s)){if(!sa(s)||s.__indent!==0)return!1;const o=s.getChildren(),i=o.length;for(let l=0;l<i;l++){const a=o[r];if(!A(a))return!1}}}return!0}function La(n){return()=>cf(n)}const Fa=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?w.useLayoutEffect:w.useEffect;function uf({editor:n,ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:r,ariaDescribedBy:s,ariaErrorMessage:o,ariaExpanded:i,ariaInvalid:l,ariaLabel:a,ariaLabelledBy:c,ariaMultiline:u,ariaOwns:f,ariaRequired:d,autoCapitalize:p,className:h,id:g,role:_="textbox",spellCheck:v=!0,style:y,tabIndex:x,"data-testid":C,...E},S){const[k,T]=w.useState(n.isEditable()),N=w.useCallback(F=>{F&&F.ownerDocument&&F.ownerDocument.defaultView?n.setRootElement(F):n.setRootElement(null)},[n]),I=w.useMemo(()=>function(...F){return z=>{F.forEach(R=>{typeof R=="function"?R(z):R!=null&&(R.current=z)})}}(S,N),[N,S]);return Fa(()=>(T(n.isEditable()),n.registerEditableListener(F=>{T(F)})),[n]),m.jsx("div",{"aria-activedescendant":k?e:void 0,"aria-autocomplete":k?t:"none","aria-controls":k?r:void 0,"aria-describedby":s,...o!=null?{"aria-errormessage":o}:{},"aria-expanded":k&&_==="combobox"?!!i:void 0,...l!=null?{"aria-invalid":l}:{},"aria-label":a,"aria-labelledby":c,"aria-multiline":u,"aria-owns":k?f:void 0,"aria-readonly":!k||void 0,"aria-required":d,autoCapitalize:p,className:h,contentEditable:k,"data-testid":C,id:g,ref:I,role:_,spellCheck:v,style:y,tabIndex:x,...E})}const df=w.forwardRef(uf);function Di(n){return n.getEditorState().read(La(n.isComposing()))}const ff=w.forwardRef(hf);function hf(n,e){const{placeholder:t,...r}=n,[s]=Ge();return m.jsxs(m.Fragment,{children:[m.jsx(df,{editor:s,...r,ref:e}),t!=null&&m.jsx(gf,{editor:s,content:t})]})}function gf({content:n,editor:e}){const t=function(i){const[l,a]=w.useState(()=>Di(i));return Fa(()=>{function c(){const u=Di(i);a(u)}return c(),fn(i.registerUpdateListener(()=>{c()}),i.registerEditableListener(()=>{c()}))},[i]),l}(e),[r,s]=w.useState(e.isEditable());if(w.useLayoutEffect(()=>(s(e.isEditable()),e.registerEditableListener(i=>{s(i)})),[e]),!t)return null;let o=null;return typeof n=="function"?o=n(r):n!==null&&(o=n),o===null?null:m.jsx("div",{"aria-hidden":!0,children:o})}function Ds(n,e){return Ds=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Ds(n,e)}var Ii={error:null},pf=function(n){var e,t;function r(){for(var o,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return(o=n.call.apply(n,[this].concat(l))||this).state=Ii,o.resetErrorBoundary=function(){for(var c,u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];o.props.onReset==null||(c=o.props).onReset.apply(c,f),o.reset()},o}t=n,(e=r).prototype=Object.create(t.prototype),e.prototype.constructor=e,Ds(e,t),r.getDerivedStateFromError=function(o){return{error:o}};var s=r.prototype;return s.reset=function(){this.setState(Ii)},s.componentDidCatch=function(o,i){var l,a;(l=(a=this.props).onError)==null||l.call(a,o,i)},s.componentDidUpdate=function(o,i){var l,a,c,u,f=this.state.error,d=this.props.resetKeys;f!==null&&i.error!==null&&((c=o.resetKeys)===void 0&&(c=[]),(u=d)===void 0&&(u=[]),c.length!==u.length||c.some(function(p,h){return!Object.is(p,u[h])}))&&((l=(a=this.props).onResetKeysChange)==null||l.call(a,o.resetKeys,d),this.reset())},s.render=function(){var o=this.state.error,i=this.props,l=i.fallbackRender,a=i.FallbackComponent,c=i.fallback;if(o!==null){var u={error:o,resetErrorBoundary:this.resetErrorBoundary};if(w.isValidElement(c))return c;if(typeof l=="function")return l(u);if(a)return w.createElement(a,u);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},r}(w.Component);function mf({children:n,onError:e}){return m.jsx(pf,{fallback:m.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:n})}const Qn=0,Is=1,Ls=2,Le=0,_f=1,Li=2,yf=3,xf=4;function vf(n,e,t,r,s){if(n===null||t.size===0&&r.size===0&&!s)return Le;const o=e._selection,i=n._selection;if(s)return _f;if(!(O(o)&&O(i)&&i.isCollapsed()&&o.isCollapsed()))return Le;const l=function(v,y,x){const C=v._nodeMap,E=[];for(const S of y){const k=C.get(S);k!==void 0&&E.push(k)}for(const[S,k]of x){if(!k)continue;const T=C.get(S);T===void 0||he(T)||E.push(T)}return E}(e,t,r);if(l.length===0)return Le;if(l.length>1){const v=e._nodeMap,y=v.get(o.anchor.key),x=v.get(i.anchor.key);return y&&x&&!n._nodeMap.has(y.__key)&&A(y)&&y.__text.length===1&&o.anchor.offset===1?Li:Le}const a=l[0],c=n._nodeMap.get(a.__key);if(!A(c)||!A(a)||c.__mode!==a.__mode)return Le;const u=c.__text,f=a.__text;if(u===f)return Le;const d=o.anchor,p=i.anchor;if(d.key!==p.key||d.type!=="text")return Le;const h=d.offset,g=p.offset,_=f.length-u.length;return _===1&&g===h-1?Li:_===-1&&g===h+1?yf:_===-1&&g===h?xf:Le}function Cf(n,e){let t=Date.now(),r=Le;return(s,o,i,l,a,c)=>{const u=Date.now();if(c.has(ws))return r=Le,t=u,Ls;const f=vf(s,o,l,a,n.isComposing()),d=(()=>{const p=i===null||i.editor===n,h=c.has(pd);if(!h&&p&&c.has(wn))return Qn;if(s===null)return Is;const g=o._selection;return l.size>0||a.size>0?h===!1&&f!==Le&&f===r&&u<t+e&&p||l.size===1&&function(_,v,y){const x=v._nodeMap.get(_),C=y._nodeMap.get(_),E=v._selection,S=y._selection;return!(O(E)&&O(S)&&E.anchor.type==="element"&&E.focus.type==="element"&&S.anchor.type==="text"&&S.focus.type==="text"||!A(x)||!A(C)||x.__parent!==C.__parent)&&JSON.stringify(v.read(()=>x.exportJSON()))===JSON.stringify(y.read(()=>C.exportJSON()))}(Array.from(l)[0],s,o)?Qn:Is:g!==null?Qn:Ls})();return t=u,r=f,d}}function Fi(n){n.undoStack=[],n.redoStack=[],n.current=null}function Sf(n,e,t){const r=Cf(n,t);return fn(n.registerCommand(to,()=>(function(o,i){const l=i.redoStack,a=i.undoStack;if(a.length!==0){const c=i.current,u=a.pop();c!==null&&(l.push(c),o.dispatchCommand(Vn,!0)),a.length===0&&o.dispatchCommand(Un,!1),i.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:ws})}}(n,e),!0),V),n.registerCommand(no,()=>(function(o,i){const l=i.redoStack,a=i.undoStack;if(l.length!==0){const c=i.current;c!==null&&(a.push(c),o.dispatchCommand(Un,!0));const u=l.pop();l.length===0&&o.dispatchCommand(Vn,!1),i.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:ws})}}(n,e),!0),V),n.registerCommand(Gu,()=>(Fi(e),!1),V),n.registerCommand(Xu,()=>(Fi(e),n.dispatchCommand(Vn,!1),n.dispatchCommand(Un,!1),!0),V),n.registerUpdateListener(({editorState:o,prevEditorState:i,dirtyLeaves:l,dirtyElements:a,tags:c})=>{const u=e.current,f=e.redoStack,d=e.undoStack,p=u===null?null:u.editorState;if(u!==null&&o===p)return;const h=r(i,o,u,l,a,c);if(h===Is)f.length!==0&&(e.redoStack=[],n.dispatchCommand(Vn,!1)),u!==null&&(d.push({...u}),n.dispatchCommand(Un,!0));else if(h===Ls)return;e.current={editor:n,editorState:o}}))}function bf(){return{current:null,redoStack:[],undoStack:[]}}function Nf({delay:n,externalHistoryState:e}){const[t]=Ge();return function(r,s,o=1e3){const i=w.useMemo(()=>s||bf(),[s]);w.useEffect(()=>Sf(r,i,o),[o,r,i])}(t,e,n),null}const wf=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?w.useLayoutEffect:w.useEffect;function Tf(n){return{initialValueFn:()=>n.isEditable(),subscribe:e=>n.registerEditableListener(e)}}function kf(){return function(n){const[e]=Ge(),t=w.useMemo(()=>n(e),[e,n]),[r,s]=w.useState(()=>t.initialValueFn()),o=w.useRef(r);return wf(()=>{const{initialValueFn:i,subscribe:l}=t,a=i();return o.current!==a&&(o.current=a,s(a)),l(c=>{o.current=c,s(c)})},[t,n]),r}(Tf)}function Ef(n){const e=window.location.origin,t=r=>{if(r.origin!==e)return;const s=n.getRootElement();if(document.activeElement!==s)return;const o=r.data;if(typeof o=="string"){let i;try{i=JSON.parse(o)}catch{return}if(i&&i.protocol==="nuanria_messaging"&&i.type==="request"){const l=i.payload;if(l&&l.functionId==="makeChanges"){const a=l.args;if(a){const[c,u,f,d,p,h]=a;n.update(()=>{const g=D();if(O(g)){const _=g.anchor;let v=_.getNode(),y=0,x=0;if(A(v)&&c>=0&&u>=0&&(y=c,x=c+u,g.setTextNodeRange(v,y,v,x)),y===x&&f===""||(g.insertRawText(f),v=_.getNode()),A(v)){y=d,x=d+p;const C=v.getTextContentSize();y=y>C?C:y,x=x>C?C:x,g.setTextNodeRange(v,y,v,x)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",t,!0),()=>{window.removeEventListener("message",t,!0)}}function br(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const s of e)r.append("v",s);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Pf(n,e=D()){return e==null&&br(166),O(e)&&e.isCollapsed()||e.getNodes().length===0?"":Pa(n,e)}function Mf(n,e=D()){return e==null&&br(166),O(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(Of(n,e))}function ji(n,e,t){const r=n.getData("application/x-lexical-editor");if(r)try{const l=JSON.parse(r);if(l.namespace===t._config.namespace&&Array.isArray(l.nodes))return Ri(t,Af(l.nodes),e)}catch{}const s=n.getData("text/html"),o=n.getData("text/plain");if(s&&o!==s)try{const l=new DOMParser().parseFromString(function(a){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:c=>c}).createHTML(a):a}(s),"text/html");return Ri(t,Ea(t,l),e)}catch{}const i=o||n.getData("text/uri-list");if(i!=null)if(O(e)){const l=i.split(/(\r?\n|\t)/);l[l.length-1]===""&&l.pop();for(let a=0;a<l.length;a++){const c=D();if(O(c)){const u=l[a];u===`
`||u===`\r
`?c.insertParagraph():u==="	"?c.insertNodes([Fn()]):c.insertText(u)}}}else e.insertRawText(i)}function Ri(n,e,t){n.dispatchCommand(zu,{nodes:e,selection:t})||(t.insertNodes(e),function(r){if(O(r)&&r.isCollapsed()){const s=r.anchor;let o=null;const i=it(s,"previous");if(i)if(ut(i))o=i.origin;else{const l=ht(i,Be(ee(),"next").getFlipped());for(const a of l){if(A(a.origin)){o=a.origin;break}if(b(a.origin)&&!a.origin.isInline())break}}if(o&&A(o)){const l=o.getFormat(),a=o.getStyle();r.format===l&&r.style===a||(r.format=l,r.style=a,r.dirty=!0)}}}(t))}function ja(n,e,t,r=[]){let s=e===null||t.isSelected(e);const o=b(t)&&t.excludeFromCopy("html");let i=t;if(e!==null){let c=So(t);c=A(c)&&e!==null?ba(e,c):c,i=c}const l=b(i)?i.getChildren():[],a=function(c){const u=c.exportJSON(),f=c.constructor;if(u.type!==f.getType()&&br(58,f.name),b(c)){const d=u.children;Array.isArray(d)||br(59,f.name)}return u}(i);if(A(i)){const c=i.__text;c.length>0?a.text=c:s=!1}for(let c=0;c<l.length;c++){const u=l[c],f=ja(n,e,u,a.children);!s&&b(t)&&f&&t.extractWithChild(u,e,"clone")&&(s=!0)}if(s&&!o)r.push(a);else if(Array.isArray(a.children))for(let c=0;c<a.children.length;c++){const u=a.children[c];r.push(u)}return s}function Of(n,e){const t=[],r=ee().getChildren();for(let s=0;s<r.length;s++)ja(n,e,r[s],t);return{namespace:n._config.namespace,nodes:t}}function Af(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t],s=gd(r);A(s)&&Hd(s),e.push(s)}return e}let Wt=null;async function $i(n,e,t){if(Wt!==null)return!1;if(e!==null)return new Promise((c,u)=>{n.update(()=>{c(Bi(n,e,t))})});const r=n.getRootElement(),s=n._window||window,o=window.document,i=$e(s);if(r===null||i===null)return!1;const l=o.createElement("span");l.style.cssText="position: fixed; top: -1000px;",l.append(o.createTextNode("#")),r.append(l);const a=new Range;return a.setStart(l,0),a.setEnd(l,1),i.removeAllRanges(),i.addRange(a),new Promise((c,u)=>{const f=n.registerCommand(Er,d=>(Tt(d,ClipboardEvent)&&(f(),Wt!==null&&(window.clearTimeout(Wt),Wt=null),c(Bi(n,d,t))),!0),Cd);Wt=window.setTimeout(()=>{f(),Wt=null,c(!1)},50),o.execCommand("copy"),l.remove()})}function Bi(n,e,t){if(t===void 0){const s=$e(n._window);if(!s)return!1;const o=s.anchorNode,i=s.focusNode;if(o!==null&&i!==null&&!Bn(n,o,i))return!1;const l=D();if(l===null)return!1;t=If(l)}e.preventDefault();const r=e.clipboardData;return r!==null&&(Lf(r,t),!0)}const Df=[["text/html",Pf],["application/x-lexical-editor",Mf]];function If(n=D()){const e={"text/plain":n?n.getTextContent():""};if(n){const t=Co();for(const[r,s]of Df){const o=s(t,n);o!==null&&(e[r]=o)}}return e}function Lf(n,e){for(const t in e){const r=e[t];r!==void 0&&n.setData(t,r)}}function Ki(n,e){if(document.caretRangeFromPoint!==void 0){const t=document.caretRangeFromPoint(n,e);return t===null?null:{node:t.startContainer,offset:t.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const t=document.caretPositionFromPoint(n,e);return t===null?null:{node:t.offsetNode,offset:t.offset}}return null}const hn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Ff=hn&&"documentMode"in document?document.documentMode:null,jf=!(!hn||!("InputEvent"in window)||Ff)&&"getTargetRanges"in new window.InputEvent("input"),Rf=hn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),zi=hn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,$f=hn&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Bf=hn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!$f,Wi=j("DRAG_DROP_PASTE_FILE");class Rr extends Re{static getType(){return"quote"}static clone(e){return new Rr(e.__key)}createDOM(e){const t=document.createElement("blockquote");return Fr(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:Kf,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(ue(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r);const s=this.getDirection();s&&(t.dir=s)}return{element:t}}static importJSON(e){return Oo().updateFromJSON(e)}insertNewAfter(e,t){const r=se(),s=this.getDirection();return r.setDirection(s),this.insertAfter(r,t),r}collapseAtStart(){const e=se();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function Oo(){return pt(new Rr)}class $r extends Re{static getType(){return"heading"}static clone(e){return new $r(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){const t=this.getWritable();return this.__tag=e,t}createDOM(e){const t=this.__tag,r=document.createElement(t),s=e.theme.heading;if(s!==void 0){const o=s[t];Fr(r,o)}return r}updateDOM(e,t,r){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:Vt,priority:0}),h2:e=>({conversion:Vt,priority:0}),h3:e=>({conversion:Vt,priority:0}),h4:e=>({conversion:Vt,priority:0}),h5:e=>({conversion:Vt,priority:0}),h6:e=>({conversion:Vt,priority:0}),p:e=>{const t=e.firstChild;return t!==null&&Vi(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>Vi(e)?{conversion:t=>({node:Ht("h1")}),priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(ue(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r);const s=this.getDirection();s&&(t.dir=s)}return{element:t}}static importJSON(e){return Ht(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,t=!0){const r=e?e.anchor.offset:0,s=this.getLastDescendant(),o=!s||e&&e.anchor.key===s.getKey()&&r===s.getTextContentSize()||!e?se():Ht(this.getTag()),i=this.getDirection();if(o.setDirection(i),this.insertAfter(o,t),r===0&&!this.isEmpty()&&e){const l=se();l.select(),this.replace(l,!0)}return o}collapseAtStart(){const e=this.isEmpty()?se():Ht(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}}function Vi(n){return n.nodeName.toLowerCase()==="span"&&n.style.fontSize==="26pt"}function Vt(n){const e=n.nodeName.toLowerCase();let t=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(t=Ht(e),n.style!==null&&(bo(n,t),t.setFormat(n.style.textAlign))),{node:t}}function Kf(n){const e=Oo();return n.style!==null&&(e.setFormat(n.style.textAlign),bo(n,e)),{node:e}}function Ht(n="h1"){return pt(new $r(n))}function Zn(n){let e=null;if(Tt(n,DragEvent)?e=n.dataTransfer:Tt(n,ClipboardEvent)&&(e=n.clipboardData),e===null)return[!1,[],!1];const t=e.types,r=t.includes("Files"),s=t.includes("text/html")||t.includes("text/plain");return[r,Array.from(e.files),s]}function Ui(n){const e=D();if(!O(e))return!1;const t=new Set,r=e.getNodes();for(let s=0;s<r.length;s++){const o=r[s],i=o.getKey();if(t.has(i))continue;const l=jr(o,c=>b(c)&&!c.isInline());if(l===null)continue;const a=l.getKey();l.canIndent()&&!t.has(a)&&(t.add(a),n(l))}return t.size>0}function Ji(n){const e=rn(n);return U(e)}function as(n){for(const e of["lowercase","uppercase","capitalize"])n.hasFormat(e)&&n.toggleFormat(e)}function zf(n){return fn(n.registerCommand(bl,e=>{const t=D();return!!be(t)&&(t.clear(),!0)},V),n.registerCommand(kt,e=>{const t=D();return O(t)?(t.deleteCharacter(e),!0):!!be(t)&&(t.deleteNodes(),!0)},V),n.registerCommand(On,e=>{const t=D();return!!O(t)&&(t.deleteWord(e),!0)},V),n.registerCommand(An,e=>{const t=D();return!!O(t)&&(t.deleteLine(e),!0)},V),n.registerCommand(Yt,e=>{const t=D();if(typeof e=="string")t!==null&&t.insertText(e);else{if(t===null)return!1;const r=e.dataTransfer;if(r!=null)ji(r,t,n);else if(O(t)){const s=e.data;return s&&t.insertText(s),!0}}return!0},V),n.registerCommand(ms,()=>{const e=D();return!!O(e)&&(e.removeText(),!0)},V),n.registerCommand(Fe,e=>{const t=D();return!!O(t)&&(t.formatText(e),!0)},V),n.registerCommand(qu,e=>{const t=D();if(!O(t)&&!be(t))return!1;const r=t.getNodes();for(const s of r){const o=jr(s,i=>b(i)&&!i.isInline());o!==null&&o.setFormat(e)}return!0},V),n.registerCommand(qt,e=>{const t=D();return!!O(t)&&(t.insertLineBreak(e),!0)},V),n.registerCommand(Mn,()=>{const e=D();return!!O(e)&&(e.insertParagraph(),!0)},V),n.registerCommand(Ju,()=>(dd([Fn()]),!0),V),n.registerCommand(Hu,()=>Ui(e=>{const t=e.getIndent();e.setIndent(t+1)}),V),n.registerCommand(Ho,()=>Ui(e=>{const t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}),V),n.registerCommand(Tl,e=>{const t=D();if(be(t)){const r=t.getNodes();if(r.length>0)return r[0].selectPrevious(),!0}else if(O(t)){const r=ks(t.focus,!0);if(!e.shiftKey&&U(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),e.preventDefault(),!0}return!1},V),n.registerCommand(kl,e=>{const t=D();if(be(t)){const r=t.getNodes();if(r.length>0)return r[0].selectNext(0,0),!0}else if(O(t)){if(function(s){const o=s.focus;return o.key==="root"&&o.offset===ee().getChildrenSize()}(t))return e.preventDefault(),!0;const r=ks(t.focus,!1);if(!e.shiftKey&&U(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),e.preventDefault(),!0}return!1},V),n.registerCommand(wl,e=>{const t=D();if(be(t)){const r=t.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectPrevious(),!0}if(!O(t))return!1;if(Oi(t,!0)){const r=e.shiftKey;return e.preventDefault(),Ai(t,r,!0),!0}return!1},V),n.registerCommand(Nl,e=>{const t=D();if(be(t)){const s=t.getNodes();if(s.length>0)return e.preventDefault(),s[0].selectNext(0,0),!0}if(!O(t))return!1;const r=e.shiftKey;return!!Oi(t,!1)&&(e.preventDefault(),Ai(t,r,!1),!0)},V),n.registerCommand(Pl,e=>{if(Ji(e.target))return!1;const t=D();if(O(t)){if(function(r){if(!r.isCollapsed())return!1;const{anchor:s}=r;if(s.offset!==0)return!1;const o=s.getNode();if(he(o))return!1;const i=ef(o);return i.getIndent()>0&&(i.is(o)||o.is(i.getFirstDescendant()))}(t))return e.preventDefault(),n.dispatchCommand(Ho,void 0);if(zi&&navigator.language==="ko-KR")return!1}else if(!be(t))return!1;return e.preventDefault(),n.dispatchCommand(kt,!0)},V),n.registerCommand(Ol,e=>{if(Ji(e.target))return!1;const t=D();return!(!O(t)&&!be(t))&&(e.preventDefault(),n.dispatchCommand(kt,!1))},V),n.registerCommand(mr,e=>{const t=D();if(!O(t))return!1;if(as(t),e!==null){if((zi||Rf||Bf)&&jf)return!1;if(e.preventDefault(),e.shiftKey)return n.dispatchCommand(qt,!1)}return n.dispatchCommand(Mn,void 0)},V),n.registerCommand(Ml,()=>{const e=D();return!!O(e)&&(n.blur(),!0)},V),n.registerCommand(Dl,e=>{const[,t]=Zn(e);if(t.length>0){const s=Ki(e.clientX,e.clientY);if(s!==null){const{offset:o,node:i}=s,l=rn(i);if(l!==null){const a=oo();if(A(l))a.anchor.set(l.getKey(),o,"text"),a.focus.set(l.getKey(),o,"text");else{const u=l.getParentOrThrow().getKey(),f=l.getIndexWithinParent()+1;a.anchor.set(u,f,"element"),a.focus.set(u,f,"element")}const c=fr(a);ye(c)}n.dispatchCommand(Wi,t)}return e.preventDefault(),!0}const r=D();return!!O(r)},V),n.registerCommand(Il,e=>{const[t]=Zn(e),r=D();return!(t&&!O(r))},V),n.registerCommand(Ll,e=>{const[t]=Zn(e),r=D();if(t&&!O(r))return!1;const s=Ki(e.clientX,e.clientY);if(s!==null){const o=rn(s.node);U(o)&&e.preventDefault()}return!0},V),n.registerCommand(_s,()=>(Ed(),!0),V),n.registerCommand(Er,e=>($i(n,Tt(e,ClipboardEvent)?e:null),!0),V),n.registerCommand(ro,e=>(async function(t,r){await $i(r,Tt(t,ClipboardEvent)?t:null),r.update(()=>{const s=D();O(s)?s.removeText():be(s)&&s.getNodes().forEach(o=>o.remove())})}(e,n),!0),V),n.registerCommand(eo,e=>{const[,t,r]=Zn(e);return t.length>0&&!r?(n.dispatchCommand(Wi,t),!0):un(e.target)&&go(e.target)?!1:D()!==null&&(function(s,o){s.preventDefault(),o.update(()=>{const i=D(),l=Tt(s,InputEvent)||Tt(s,KeyboardEvent)?null:s.clipboardData;l!=null&&i!==null&&ji(l,i,o)},{tag:md})}(e,n),!0)},V),n.registerCommand(El,e=>{const t=D();return O(t)&&as(t),!1},V),n.registerCommand(Al,e=>{const t=D();return O(t)&&as(t),!1},V))}const Fs=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?w.useLayoutEffect:w.useEffect;function Hi(n){return n.getEditorState().read(La(n.isComposing()))}function Wf({contentEditable:n,placeholder:e=null,ErrorBoundary:t}){const[r]=Ge(),s=function(o,i){const[l,a]=w.useState(()=>o.getDecorators());return Fs(()=>o.registerDecoratorListener(c=>{ir.flushSync(()=>{a(c)})}),[o]),w.useEffect(()=>{a(o.getDecorators())},[o]),w.useMemo(()=>{const c=[],u=Object.keys(l);for(let f=0;f<u.length;f++){const d=u[f],p=m.jsx(i,{onError:g=>o._onError(g),children:m.jsx(w.Suspense,{fallback:null,children:l[d]})}),h=o.getElementByKey(d);h!==null&&c.push(ir.createPortal(p,h,d))}return c},[i,l,o])}(r,t);return function(o){Fs(()=>fn(zf(o),Ef(o)),[o])}(r),m.jsxs(m.Fragment,{children:[n,m.jsx(Vf,{content:e}),s]})}function Vf({content:n}){const[e]=Ge(),t=function(s){const[o,i]=w.useState(()=>Hi(s));return Fs(()=>{function l(){const a=Hi(s);i(a)}return l(),fn(s.registerUpdateListener(()=>{l()}),s.registerEditableListener(()=>{l()}))},[s]),o}(e),r=kf();return t?typeof n=="function"?n(r):n:null}function ct(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const s of e)r.append("v",s);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function js(n){let e=1,t=n.getParent();for(;t!=null;){if(J(t)){const r=t.getParent();if(K(r)){e++,t=r.getParent();continue}ct(40)}return e}return e}function Rs(n){let e=n.getParent();K(e)||ct(40);let t=e;for(;t!==null;)t=t.getParent(),K(t)&&(e=t);return e}function Ra(n){let e=[];const t=n.getChildren().filter(J);for(let r=0;r<t.length;r++){const s=t[r],o=s.getFirstChild();K(o)?e=e.concat(Ra(o)):e.push(s)}return e}function Je(n){return J(n)&&K(n.getFirstChild())}function qi(n){return Me().append(n)}function $a(n,e){return J(n)&&(e.length===0||e.length===1&&n.is(e[0])&&n.getChildrenSize()===0)}function Yi(n){const e=D();if(e!==null){let t=e.getNodes();if(O(e)){const s=e.getStartEndPoints();s===null&&ct(143);const[o]=s,i=o.getNode(),l=i.getParent();if(we(i)){const a=i.getFirstChild();if(a)t=a.selectStart().getNodes();else{const c=se();i.append(c),t=c.select().getNodes()}}else if($a(i,t)){const a=Ce(n);if(we(l)){i.replace(a);const c=Me();b(i)&&(c.setFormat(i.getFormatType()),c.setIndent(i.getIndent())),a.append(c)}else if(J(i)){const c=i.getParentOrThrow();$t(a,c.getChildren()),c.replace(a)}return}}const r=new Set;for(let s=0;s<t.length;s++){const o=t[s];if(b(o)&&o.isEmpty()&&!J(o)&&!r.has(o.getKey())){Gi(o,n);continue}let i=aa(o)?o.getParent():J(o)&&o.isEmpty()?o:null;for(;i!=null;){const l=i.getKey();if(K(i)){if(!r.has(l)){const a=Ce(n);$t(a,i.getChildren()),i.replace(a),r.add(l)}break}{const a=i.getParent();if(we(a)&&!r.has(l)){r.add(l),Gi(i,n);break}i=a}}}}}function $t(n,e){n.splice(n.getChildrenSize(),0,e)}function Gi(n,e){if(K(n))return n;const t=n.getPreviousSibling(),r=n.getNextSibling(),s=Me();let o;if($t(s,n.getChildren()),K(t)&&e===t.getListType())t.append(s),K(r)&&e===r.getListType()&&($t(t,r.getChildren()),r.remove()),o=t;else if(K(r)&&e===r.getListType())r.getFirstChildOrThrow().insertBefore(s),o=r;else{const i=Ce(e);i.append(s),n.replace(i),o=i}return s.setFormat(n.getFormatType()),s.setIndent(n.getIndent()),n.remove(),o}function Ao(n,e){const t=n.getLastChild(),r=e.getFirstChild();t&&r&&Je(t)&&Je(r)&&(Ao(t.getFirstChild(),r.getFirstChild()),r.remove());const s=e.getChildren();s.length>0&&n.append(...s),e.remove()}function Uf(){const n=D();if(O(n)){const e=new Set,t=n.getNodes(),r=n.anchor.getNode();if($a(r,t))e.add(Rs(r));else for(let s=0;s<t.length;s++){const o=t[s];if(aa(o)){const i=Zd(o,gn);i!=null&&e.add(Rs(i))}}for(const s of e){let o=s;const i=Ra(s);for(const l of i){const a=se().setTextStyle(n.style).setTextFormat(n.format);$t(a,l.getChildren()),o.insertAfter(a),o=a,l.__key===n.anchor.key&&Rt(n.anchor,Ee(Be(a,"next"))),l.__key===n.focus.key&&Rt(n.focus,Ee(Be(a,"next"))),l.remove()}s.remove()}}}function Ba(n){const e=n.getListType()!=="check";let t=n.getStart();for(const r of n.getChildren())J(r)&&(r.getValue()!==t&&r.setValue(t),e&&r.getLatest().__checked!=null&&r.setChecked(void 0),K(r.getFirstChild())||t++)}function Jf(n){const e=new Set;if(Je(n)||e.has(n.getKey()))return;const t=n.getParent(),r=n.getNextSibling(),s=n.getPreviousSibling();if(Je(r)&&Je(s)){const o=s.getFirstChild();if(K(o)){o.append(n);const i=r.getFirstChild();K(i)&&($t(o,i.getChildren()),r.remove(),e.add(r.getKey()))}}else if(Je(r)){const o=r.getFirstChild();if(K(o)){const i=o.getFirstChild();i!==null&&i.insertBefore(n)}}else if(Je(s)){const o=s.getFirstChild();K(o)&&o.append(n)}else if(K(t)){const o=Me().setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle()),i=Ce(t.getListType()).setTextFormat(t.getTextFormat()).setTextStyle(t.getTextStyle());o.append(i),i.append(n),s?s.insertAfter(o):r?r.insertBefore(o):t.append(o)}}function Hf(n){if(Je(n))return;const e=n.getParent(),t=e?e.getParent():void 0;if(K(t?t.getParent():void 0)&&J(t)&&K(e)){const r=e?e.getFirstChild():void 0,s=e?e.getLastChild():void 0;if(n.is(r))t.insertBefore(n),e.isEmpty()&&t.remove();else if(n.is(s))t.insertAfter(n),e.isEmpty()&&t.remove();else{const o=e.getListType(),i=Me(),l=Ce(o);i.append(l),n.getPreviousSiblings().forEach(u=>l.append(u));const a=Me(),c=Ce(o);a.append(c),$t(c,n.getNextSiblings()),t.insertBefore(i),t.insertAfter(a),t.replace(n)}}}function qf(){const n=D();if(!O(n)||!n.isCollapsed())return!1;const e=n.anchor.getNode();if(!J(e)||e.getChildrenSize()!==0)return!1;const t=Rs(e),r=e.getParent();K(r)||ct(40);const s=r.getParent();let o;if(we(s))o=se(),t.insertAfter(o);else{if(!J(s))return!1;o=Me(),s.insertAfter(o)}o.setTextStyle(n.style).setTextFormat(n.format).select();const i=e.getNextSiblings();if(i.length>0){const l=Ce(r.getListType());if(J(o)){const a=Me();a.append(l),o.insertAfter(a)}else o.insertAfter(l);l.append(...i)}return function(l){let a=l;for(;a.getNextSibling()==null&&a.getPreviousSibling()==null;){const c=a.getParent();if(c==null||!J(c)&&!K(c))break;a=c}a.remove()}(e),!0}function Nr(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}class gn extends Re{$config(){return this.config("listitem",{$transform:e=>{if(e.__checked==null)return;const t=e.getParent();K(t)&&t.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0)},extends:Re,importDOM:{li:()=>({conversion:Yf,priority:0})}})}constructor(e=1,t=void 0,r){super(r),this.__value=e===void 0?1:e,this.__checked=t}afterCloneFrom(e){super.afterCloneFrom(e),this.__value=e.__value,this.__checked=e.__checked}createDOM(e){const t=document.createElement("li");return this.updateListItemDOM(null,t,e),t}updateListItemDOM(e,t,r){const s=this.getParent();K(s)&&s.getListType()==="check"&&function(l,a,c,u){K(a.getFirstChild())?(l.removeAttribute("role"),l.removeAttribute("tabIndex"),l.removeAttribute("aria-checked")):(l.setAttribute("role","checkbox"),l.setAttribute("tabIndex","-1"),c&&a.__checked===c.__checked||l.setAttribute("aria-checked",a.getChecked()?"true":"false"))}(t,this,e),t.value=this.__value,function(l,a,c){const u=[],f=[],d=a.list,p=d?d.listitem:void 0;let h;if(d&&d.nested&&(h=d.nested.listitem),p!==void 0&&u.push(...Nr(p)),d){const g=c.getParent(),_=K(g)&&g.getListType()==="check",v=c.getChecked();_&&!v||f.push(d.listitemUnchecked),_&&v||f.push(d.listitemChecked),_&&u.push(v?d.listitemChecked:d.listitemUnchecked)}if(h!==void 0){const g=Nr(h);c.getChildren().some(_=>K(_))?u.push(...g):f.push(...g)}f.length>0&&ka(l,...f),u.length>0&&Fr(l,...u)}(t,r.theme,this);const o=e?e.__style:"",i=this.__style;o!==i&&(i===""?t.removeAttribute("style"):t.style.cssText=i),function(l,a,c){const u=Mi(a.__textStyle);for(const f in u)l.style.setProperty(`--listitem-marker-${f}`,u[f]);if(c)for(const f in Mi(c.__textStyle))f in u||l.style.removeProperty(`--listitem-marker-${f}`)}(t,this,e)}updateDOM(e,t,r){const s=t;return this.updateListItemDOM(e,s,r),!1}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const t=this.createDOM(e._config),r=this.getFormatType();r&&(t.style.textAlign=r);const s=this.getDirection();return s&&(t.dir=s),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let t=0;t<e.length;t++){const r=e[t];if(b(r)&&this.canMergeWith(r)){const s=r.getChildren();this.append(...s),r.remove()}else super.append(r)}return this}replace(e,t){if(J(e))return super.replace(e);this.setIndent(0);const r=this.getParentOrThrow();if(!K(r))return e;if(r.__first===this.getKey())r.insertBefore(e);else if(r.__last===this.getKey())r.insertAfter(e);else{const s=Ce(r.getListType());let o=this.getNextSibling();for(;o;){const i=o;o=o.getNextSibling(),s.append(i)}r.insertAfter(e),e.insertAfter(s)}return t&&(b(e)||ct(139),this.getChildren().forEach(s=>{e.append(s)})),this.remove(),r.getChildrenSize()===0&&r.remove(),e}insertAfter(e,t=!0){const r=this.getParentOrThrow();if(K(r)||ct(39),J(e))return super.insertAfter(e,t);const s=this.getNextSiblings();if(r.insertAfter(e,t),s.length!==0){const o=Ce(r.getListType());s.forEach(i=>o.append(i)),e.insertAfter(o,t)}return e}remove(e){const t=this.getPreviousSibling(),r=this.getNextSibling();super.remove(e),t&&r&&Je(t)&&Je(r)&&(Ao(t.getFirstChild(),r.getFirstChild()),r.remove())}insertNewAfter(e,t=!0){const r=Me().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(r,t),r}collapseAtStart(e){const t=se();this.getChildren().forEach(i=>t.append(i));const r=this.getParentOrThrow(),s=r.getParentOrThrow(),o=J(s);if(r.getChildrenSize()===1)if(o)r.remove(),s.select();else{r.insertBefore(t),r.remove();const i=e.anchor,l=e.focus,a=t.getKey();i.type==="element"&&i.getNode().is(this)&&i.set(a,i.offset,"element"),l.type==="element"&&l.getNode().is(this)&&l.set(a,l.offset,"element")}else r.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const t=this.getWritable();return t.__value=e,t}getChecked(){const e=this.getLatest();let t;const r=this.getParent();return K(r)&&(t=r.getListType()),t==="check"?!!e.__checked:void 0}setChecked(e){const t=this.getWritable();return t.__checked=e,t}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(e===null||!this.isAttached())return this.getLatest().__indent;let t=e.getParentOrThrow(),r=0;for(;J(t);)t=t.getParentOrThrow().getParentOrThrow(),r++;return r}setIndent(e){typeof e!="number"&&ct(117),(e=Math.floor(e))>=0||ct(199);let t=this.getIndent();for(;t!==e;)t<e?(Jf(this),t++):(Hf(this),t--);return this}canInsertAfter(e){return J(e)}canReplaceWith(e){return J(e)}canMergeWith(e){return J(e)||sa(e)}extractWithChild(e,t){if(!O(t))return!1;const r=t.anchor.getNode(),s=t.focus.getNode();return this.isParentOf(r)&&this.isParentOf(s)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return Ce("bullet")}canMergeWhenEmpty(){return!0}}function Yf(n){if(n.classList.contains("task-list-item")){for(const t of n.children)if(t.tagName==="INPUT")return Gf(t)}const e=n.getAttribute("aria-checked");return{node:Me(e==="true"||e!=="false"&&void 0)}}function Gf(n){return n.getAttribute("type")!=="checkbox"?{node:null}:{node:Me(n.hasAttribute("checked"))}}function Me(n){return pt(new gn(void 0,n))}function J(n){return n instanceof gn}class zn extends Re{$config(){return this.config("list",{$transform:e=>{(function(t){const r=t.getNextSibling();K(r)&&t.getListType()===r.getListType()&&Ao(t,r)})(e),Ba(e)},extends:Re,importDOM:{ol:()=>({conversion:Qi,priority:0}),ul:()=>({conversion:Qi,priority:0})}})}constructor(e="number",t=1,r){super(r);const s=Qf[e]||e;this.__listType=s,this.__tag=s==="number"?"ol":"ul",this.__start=t}afterCloneFrom(e){super.afterCloneFrom(e),this.__listType=e.__listType,this.__tag=e.__tag,this.__start=e.__start}getTag(){return this.getLatest().__tag}setListType(e){const t=this.getWritable();return t.__listType=e,t.__tag=e==="number"?"ol":"ul",t}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(e){const t=this.getWritable();return t.__start=e,t}createDOM(e,t){const r=this.__tag,s=document.createElement(r);return this.__start!==1&&s.setAttribute("start",String(this.__start)),s.__lexicalListType=this.__listType,Xi(s,e.theme,this),s}updateDOM(e,t,r){return e.__tag!==this.__tag||(Xi(t,r.theme,this),!1)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const t=this.createDOM(e._config,e);return ue(t)&&(this.__start!==1&&t.setAttribute("start",String(this.__start)),this.__listType==="check"&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,t,r){let s=r;for(let o=0;o<r.length;o++){const i=r[o];J(i)||(s===r&&(s=[...r]),s[o]=Me().append(!b(i)||K(i)||i.isInline()?i:le(i.getTextContent())))}return super.splice(e,t,s)}extractWithChild(e){return J(e)}}function Xi(n,e,t){const r=[],s=[],o=e.list;if(o!==void 0){const i=o[`${t.__tag}Depth`]||[],l=js(t)-1,a=l%i.length,c=i[a],u=o[t.__tag];let f;const d=o.nested,p=o.checklist;if(d!==void 0&&d.list&&(f=d.list),u!==void 0&&r.push(u),p!==void 0&&t.__listType==="check"&&r.push(p),c!==void 0){r.push(...Nr(c));for(let h=0;h<i.length;h++)h!==a&&s.push(t.__tag+h)}if(f!==void 0){const h=Nr(f);l>1?r.push(...h):s.push(...h)}}s.length>0&&ka(n,...s),r.length>0&&Fr(n,...r)}function Xf(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t];if(J(r)){e.push(r);const s=r.getChildren();s.length>1&&s.forEach(o=>{K(o)&&e.push(qi(o))})}else e.push(qi(r))}return e}function Qi(n){const e=n.nodeName.toLowerCase();let t=null;return e==="ol"?t=Ce("number",n.start):e==="ul"&&(t=function(r){if(r.getAttribute("__lexicallisttype")==="check"||r.classList.contains("contains-task-list"))return!0;for(const s of r.childNodes)if(ue(s)&&s.hasAttribute("aria-checked"))return!0;return!1}(n)?Ce("check"):Ce("bullet")),{after:Xf,node:t}}const Qf={ol:"number",ul:"bullet"};function Ce(n="number",e=1){return pt(new zn(n,e))}function K(n){return n instanceof zn}const Zf=j("UPDATE_LIST_START_COMMAND"),eh=j("INSERT_UNORDERED_LIST_COMMAND"),th=j("INSERT_ORDERED_LIST_COMMAND"),nh=j("REMOVE_LIST_COMMAND");function rh(n){return fn(n.registerCommand(th,()=>(Yi("number"),!0),_n),n.registerCommand(Zf,e=>{const{listNodeKey:t,newStart:r}=e,s=re(t);return!!K(s)&&(s.getListType()==="number"&&(s.setStart(r),Ba(s)),!0)},_n),n.registerCommand(eh,()=>(Yi("bullet"),!0),_n),n.registerCommand(nh,()=>(Uf(),!0),_n),n.registerCommand(Mn,()=>qf(),_n),n.registerNodeTransform(gn,e=>{const t=e.getFirstChild();if(t){if(A(t)){const r=t.getStyle(),s=t.getFormat();e.getTextStyle()!==r&&e.setTextStyle(r),e.getTextFormat()!==s&&e.setTextFormat(s)}}else{const r=D();O(r)&&(r.style!==e.getTextStyle()||r.format!==e.getTextFormat())&&r.isCollapsed()&&e.is(r.anchor.getNode())&&e.setTextStyle(r.style).setTextFormat(r.format)}}),n.registerNodeTransform(Kt,e=>{const t=e.getParent();if(J(t)&&e.is(t.getFirstChild())){const r=e.getStyle(),s=e.getFormat();r===t.getTextStyle()&&s===t.getTextFormat()||t.setTextStyle(r).setTextFormat(s)}}))}function sh(n){const e=t=>{const r=t.getParent();if(K(t.getFirstChild())||!K(r))return;const s=jr(t,o=>J(o)&&K(o.getParent())&&J(o.getPreviousSibling()));if(s===null&&t.getIndent()>0)t.setIndent(0);else if(J(s)){const o=s.getPreviousSibling();if(J(o)){const i=function(a){let c=a,u=c.getFirstChild();for(;K(u);){const f=u.getLastChild();if(!J(f))break;c=f,u=c.getFirstChild()}return c}(o),l=i.getParent();if(K(l)){const a=js(l);a+1<js(r)&&t.setIndent(a)}}}};return n.registerNodeTransform(zn,t=>{const r=[t];for(;r.length>0;){const s=r.shift();if(K(s)){for(const o of s.getChildren())if(J(o)){e(o);const i=o.getFirstChild();K(i)&&r.push(i)}}}})}function oh({hasStrictIndent:n=!1}){const[e]=Ge();return w.useEffect(()=>{if(!e.hasNodes([zn,gn]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[e]),w.useEffect(()=>{if(n)return sh(e)},[e,n]),function(t){w.useEffect(()=>rh(t),[t])}(e),null}function ih(){const[n]=Ge(),[e,t]=w.useState(!1),[r,s]=w.useState(!1),[o,i]=w.useState(!1),l=w.useCallback(()=>{const h=D();O(h)&&(t(h.hasFormat("bold")),s(h.hasFormat("italic")),i(h.hasFormat("underline")))},[]);w.useEffect(()=>n.registerCommand(Zs,()=>(l(),!1),1),[n,l]);const a=()=>{n.dispatchCommand(Fe,"bold")},c=()=>{n.dispatchCommand(Fe,"italic")},u=()=>{n.dispatchCommand(Fe,"underline")},f=()=>{n.update(()=>{const h=D();O(h)&&is(h,()=>Ht("h2"))})},d=()=>{n.update(()=>{const h=D();O(h)&&is(h,()=>Ce("bullet"))})},p=()=>{n.update(()=>{const h=D();O(h)&&is(h,()=>Oo())})};return m.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-gray-200 dark:border-gray-700",children:[m.jsx("button",{type:"button",onClick:a,className:`p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800 ${e?"bg-gray-200 dark:bg-gray-700":""}`,title:"Bold",children:m.jsx(qc,{className:"h-4 w-4"})}),m.jsx("button",{type:"button",onClick:c,className:`p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800 ${r?"bg-gray-200 dark:bg-gray-700":""}`,title:"Italic",children:m.jsx(ou,{className:"h-4 w-4"})}),m.jsx("button",{type:"button",onClick:u,className:`p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800 ${o?"bg-gray-200 dark:bg-gray-700":""}`,title:"Underline",children:m.jsx(hu,{className:"h-4 w-4"})}),m.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1"}),m.jsx("button",{type:"button",onClick:f,className:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800",title:"Heading",children:m.jsx(du,{className:"h-4 w-4"})}),m.jsx("button",{type:"button",onClick:d,className:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800",title:"Bullet List",children:m.jsx(sl,{className:"h-4 w-4"})}),m.jsx("button",{type:"button",onClick:p,className:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800",title:"Quote",children:m.jsx(lu,{className:"h-4 w-4"})})]})}function lh({onChange:n}){const[e]=Ge();return w.useEffect(()=>e.registerUpdateListener(({editorState:t})=>{t.read(()=>{const r=Pa(e,null);n(r)})}),[e,n]),null}function ah({value:n}){const[e]=Ge();return w.useEffect(()=>{n&&e.update(()=>{const r=new DOMParser().parseFromString(n,"text/html"),s=Ea(e,r),o=ee();o.clear(),o.append(...s)})},[e,n]),null}function ch({value:n,onChange:e,placeholder:t="Enter text...",className:r}){const s={namespace:"LexicalEditor",theme:{text:{bold:"font-bold",italic:"italic",underline:"underline"},heading:{h1:"text-2xl font-bold",h2:"text-xl font-bold",h3:"text-lg font-bold"},list:{nested:{listitem:"list-none"},ol:"list-decimal list-inside",ul:"list-disc list-inside"},quote:"border-l-4 border-gray-300 pl-4 italic"},nodes:[$r,Rr,zn,gn],onError:o=>{console.error("Lexical error:",o)}};return m.jsx("div",{className:`border border-gray-300 dark:border-gray-600 rounded-md ${r}`,children:m.jsxs(of,{initialConfig:s,children:[m.jsx(ih,{}),m.jsxs("div",{className:"relative",children:[m.jsx(Wf,{contentEditable:m.jsx(ff,{className:"min-h-[150px] p-3 outline-none resize-none text-sm",style:{caretColor:"rgb(5, 5, 5)"}}),placeholder:m.jsx("div",{className:"absolute top-3 left-3 text-gray-400 pointer-events-none text-sm",children:t}),ErrorBoundary:mf}),m.jsx(lh,{onChange:e}),m.jsx(ah,{value:n}),m.jsx(Nf,{}),m.jsx(rf,{}),m.jsx(oh,{})]})]})})}function Zi(n,[e,t]){return Math.min(t,Math.max(e,n))}var uh=[" ","Enter","ArrowUp","ArrowDown"],dh=[" ","Enter"],Wn="Select",[Br,Kr,fh]=Mc(Wn),[pn,og]=Tc(Wn,[fh,ol]),zr=ol(),[hh,mt]=pn(Wn),[gh,ph]=pn(Wn),Ka=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:a,dir:c,name:u,autoComplete:f,disabled:d,required:p,form:h}=n,g=zr(e),[_,v]=w.useState(null),[y,x]=w.useState(null),[C,E]=w.useState(!1),S=Ec(c),[k=!1,T]=Io({prop:r,defaultProp:s,onChange:o}),[N,I]=Io({prop:i,defaultProp:l,onChange:a}),F=w.useRef(null),z=_?h||!!_.closest("form"):!0,[R,P]=w.useState(new Set),B=Array.from(R).map(W=>W.props.value).join(";");return m.jsx(Pc,{...g,children:m.jsxs(hh,{required:p,scope:e,trigger:_,onTriggerChange:v,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:Vs(),value:N,onValueChange:I,open:k,onOpenChange:T,dir:S,triggerPointerDownPosRef:F,disabled:d,children:[m.jsx(Br.Provider,{scope:e,children:m.jsx(gh,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(W=>{P(Y=>new Set(Y).add(W))},[]),onNativeOptionRemove:w.useCallback(W=>{P(Y=>{const te=new Set(Y);return te.delete(W),te})},[]),children:t})}),z?m.jsxs(uc,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:N,onChange:W=>I(W.target.value),disabled:d,form:h,children:[N===void 0?m.jsx("option",{value:""}):null,Array.from(R)]},B):null]})})};Ka.displayName=Wn;var za="SelectTrigger",Wa=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...s}=n,o=zr(t),i=mt(za,t),l=i.disabled||r,a=Ye(e,i.onTriggerChange),c=Kr(t),u=w.useRef("touch"),[f,d,p]=dc(g=>{const _=c().filter(x=>!x.disabled),v=_.find(x=>x.value===i.value),y=fc(_,g,v);y!==void 0&&i.onValueChange(y.value)}),h=g=>{l||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return m.jsx(Oc,{asChild:!0,...o,children:m.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":cc(i.value)?"":void 0,...s,ref:a,onClick:de(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&h(g)}),onPointerDown:de(s.onPointerDown,g=>{u.current=g.pointerType;const _=g.target;_.hasPointerCapture(g.pointerId)&&_.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(h(g),g.preventDefault())}),onKeyDown:de(s.onKeyDown,g=>{const _=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&d(g.key),!(_&&g.key===" ")&&uh.includes(g.key)&&(h(),g.preventDefault())})})})});Wa.displayName=za;var Va="SelectValue",Ua=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,children:o,placeholder:i="",...l}=n,a=mt(Va,t),{onValueNodeHasChildrenChange:c}=a,u=o!==void 0,f=Ye(e,a.onValueNodeChange);return dt(()=>{c(u)},[c,u]),m.jsx(Oe.span,{...l,ref:f,style:{pointerEvents:"none"},children:cc(a.value)?m.jsx(m.Fragment,{children:i}):o})});Ua.displayName=Va;var mh="SelectIcon",Ja=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...s}=n;return m.jsx(Oe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});Ja.displayName=mh;var _h="SelectPortal",Ha=n=>m.jsx(Ac,{asChild:!0,...n});Ha.displayName=_h;var Bt="SelectContent",qa=w.forwardRef((n,e)=>{const t=mt(Bt,n.__scopeSelect),[r,s]=w.useState();if(dt(()=>{s(new DocumentFragment)},[]),!t.open){const o=r;return o?ir.createPortal(m.jsx(Ya,{scope:n.__scopeSelect,children:m.jsx(Br.Slot,{scope:n.__scopeSelect,children:m.jsx("div",{children:n.children})})}),o):null}return m.jsx(Ga,{...n,ref:e})});qa.displayName=Bt;var Ie=10,[Ya,_t]=pn(Bt),yh="SelectContentImpl",Ga=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:a,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:p,sticky:h,hideWhenDetached:g,avoidCollisions:_,...v}=n,y=mt(Bt,t),[x,C]=w.useState(null),[E,S]=w.useState(null),k=Ye(e,$=>C($)),[T,N]=w.useState(null),[I,F]=w.useState(null),z=Kr(t),[R,P]=w.useState(!1),B=w.useRef(!1);w.useEffect(()=>{if(x)return Ic(x)},[x]),Lc();const W=w.useCallback($=>{const[q,...ie]=z().map(Q=>Q.ref.current),[G]=ie.slice(-1),X=document.activeElement;for(const Q of $)if(Q===X||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===q&&E&&(E.scrollTop=0),Q===G&&E&&(E.scrollTop=E.scrollHeight),Q==null||Q.focus(),document.activeElement!==X))return},[z,E]),Y=w.useCallback(()=>W([T,x]),[W,T,x]);w.useEffect(()=>{R&&Y()},[R,Y]);const{onOpenChange:te,triggerPointerDownPosRef:oe}=y;w.useEffect(()=>{if(x){let $={x:0,y:0};const q=G=>{var X,Q;$={x:Math.abs(Math.round(G.pageX)-(((X=oe.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(G.pageY)-(((Q=oe.current)==null?void 0:Q.y)??0))}},ie=G=>{$.x<=10&&$.y<=10?G.preventDefault():x.contains(G.target)||te(!1),document.removeEventListener("pointermove",q),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",ie,{capture:!0})}}},[x,te,oe]),w.useEffect(()=>{const $=()=>te(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[te]);const[Xe,yt]=dc($=>{const q=z().filter(X=>!X.disabled),ie=q.find(X=>X.ref.current===document.activeElement),G=fc(q,$,ie);G&&setTimeout(()=>G.ref.current.focus())}),xt=w.useCallback(($,q,ie)=>{const G=!B.current&&!ie;(y.value!==void 0&&y.value===q||G)&&(N($),G&&(B.current=!0))},[y.value]),vt=w.useCallback(()=>x==null?void 0:x.focus(),[x]),Ae=w.useCallback(($,q,ie)=>{const G=!B.current&&!ie;(y.value!==void 0&&y.value===q||G)&&F($)},[y.value]),Qe=r==="popper"?$s:Xa,xe=Qe===$s?{side:l,sideOffset:a,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:p,sticky:h,hideWhenDetached:g,avoidCollisions:_}:{};return m.jsx(Ya,{scope:t,content:x,viewport:E,onViewportChange:S,itemRefCallback:xt,selectedItem:T,onItemLeave:vt,itemTextRefCallback:Ae,focusSelectedItem:Y,selectedItemText:I,position:r,isPositioned:R,searchRef:Xe,children:m.jsx(Fc,{as:yc,allowPinchZoom:!0,children:m.jsx(jc,{asChild:!0,trapped:y.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:de(s,$=>{var q;(q=y.trigger)==null||q.focus({preventScroll:!0}),$.preventDefault()}),children:m.jsx(Rc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:m.jsx(Qe,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:$=>$.preventDefault(),...v,...xe,onPlaced:()=>P(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:de(v.onKeyDown,$=>{const q=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!q&&$.key.length===1&&yt($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let G=z().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes($.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const X=$.target,Q=G.indexOf(X);G=G.slice(Q+1)}setTimeout(()=>W(G)),$.preventDefault()}})})})})})})});Ga.displayName=yh;var xh="SelectItemAlignedPosition",Xa=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...s}=n,o=mt(Bt,t),i=_t(Bt,t),[l,a]=w.useState(null),[c,u]=w.useState(null),f=Ye(e,k=>u(k)),d=Kr(t),p=w.useRef(!1),h=w.useRef(!0),{viewport:g,selectedItem:_,selectedItemText:v,focusSelectedItem:y}=i,x=w.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&c&&g&&_&&v){const k=o.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),I=v.getBoundingClientRect();if(o.dir!=="rtl"){const X=I.left-T.left,Q=N.left-X,Ct=k.left-Q,St=k.width+Ct,Wr=Math.max(St,T.width),Vr=window.innerWidth-Ie,Ur=Zi(Q,[Ie,Math.max(Ie,Vr-Wr)]);l.style.minWidth=St+"px",l.style.left=Ur+"px"}else{const X=T.right-I.right,Q=window.innerWidth-N.right-X,Ct=window.innerWidth-k.right-Q,St=k.width+Ct,Wr=Math.max(St,T.width),Vr=window.innerWidth-Ie,Ur=Zi(Q,[Ie,Math.max(Ie,Vr-Wr)]);l.style.minWidth=St+"px",l.style.right=Ur+"px"}const F=d(),z=window.innerHeight-Ie*2,R=g.scrollHeight,P=window.getComputedStyle(c),B=parseInt(P.borderTopWidth,10),W=parseInt(P.paddingTop,10),Y=parseInt(P.borderBottomWidth,10),te=parseInt(P.paddingBottom,10),oe=B+W+R+te+Y,Xe=Math.min(_.offsetHeight*5,oe),yt=window.getComputedStyle(g),xt=parseInt(yt.paddingTop,10),vt=parseInt(yt.paddingBottom,10),Ae=k.top+k.height/2-Ie,Qe=z-Ae,xe=_.offsetHeight/2,$=_.offsetTop+xe,q=B+W+$,ie=oe-q;if(q<=Ae){const X=F.length>0&&_===F[F.length-1].ref.current;l.style.bottom="0px";const Q=c.clientHeight-g.offsetTop-g.offsetHeight,Ct=Math.max(Qe,xe+(X?vt:0)+Q+Y),St=q+Ct;l.style.height=St+"px"}else{const X=F.length>0&&_===F[0].ref.current;l.style.top="0px";const Ct=Math.max(Ae,B+g.offsetTop+(X?xt:0)+xe)+ie;l.style.height=Ct+"px",g.scrollTop=q-Ae+g.offsetTop}l.style.margin=`${Ie}px 0`,l.style.minHeight=Xe+"px",l.style.maxHeight=z+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[d,o.trigger,o.valueNode,l,c,g,_,v,o.dir,r]);dt(()=>x(),[x]);const[C,E]=w.useState();dt(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const S=w.useCallback(k=>{k&&h.current===!0&&(x(),y==null||y(),h.current=!1)},[x,y]);return m.jsx(Ch,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:m.jsx("div",{ref:a,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:m.jsx(Oe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Xa.displayName=xh;var vh="SelectPopperPosition",$s=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:s=Ie,...o}=n,i=zr(t);return m.jsx($c,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$s.displayName=vh;var[Ch,Do]=pn(Bt,{}),Bs="SelectViewport",Qa=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...s}=n,o=_t(Bs,t),i=Do(Bs,t),l=Ye(e,o.onViewportChange),a=w.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(Br.Slot,{scope:t,children:m.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:de(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:d}=i;if(d!=null&&d.current&&f){const p=Math.abs(a.current-u.scrollTop);if(p>0){const h=window.innerHeight-Ie*2,g=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),v=Math.max(g,_);if(v<h){const y=v+p,x=Math.min(h,y),C=y-x;f.style.height=x+"px",f.style.bottom==="0px"&&(u.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}a.current=u.scrollTop})})})]})});Qa.displayName=Bs;var Za="SelectGroup",[Sh,bh]=pn(Za),Nh=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=Vs();return m.jsx(Sh,{scope:t,id:s,children:m.jsx(Oe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Nh.displayName=Za;var ec="SelectLabel",wh=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=bh(ec,t);return m.jsx(Oe.div,{id:s.id,...r,ref:e})});wh.displayName=ec;var wr="SelectItem",[Th,tc]=pn(wr),nc=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:s=!1,textValue:o,...i}=n,l=mt(wr,t),a=_t(wr,t),c=l.value===r,[u,f]=w.useState(o??""),[d,p]=w.useState(!1),h=Ye(e,y=>{var x;return(x=a.itemRefCallback)==null?void 0:x.call(a,y,r,s)}),g=Vs(),_=w.useRef("touch"),v=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(Th,{scope:t,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:w.useCallback(y=>{f(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:m.jsx(Br.ItemSlot,{scope:t,value:r,disabled:s,textValue:u,children:m.jsx(Oe.div,{role:"option","aria-labelledby":g,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:h,onFocus:de(i.onFocus,()=>p(!0)),onBlur:de(i.onBlur,()=>p(!1)),onClick:de(i.onClick,()=>{_.current!=="mouse"&&v()}),onPointerUp:de(i.onPointerUp,()=>{_.current==="mouse"&&v()}),onPointerDown:de(i.onPointerDown,y=>{_.current=y.pointerType}),onPointerMove:de(i.onPointerMove,y=>{var x;_.current=y.pointerType,s?(x=a.onItemLeave)==null||x.call(a):_.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(i.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=a.onItemLeave)==null||x.call(a))}),onKeyDown:de(i.onKeyDown,y=>{var C;((C=a.searchRef)==null?void 0:C.current)!==""&&y.key===" "||(dh.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});nc.displayName=wr;var vn="SelectItemText",rc=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,...o}=n,i=mt(vn,t),l=_t(vn,t),a=tc(vn,t),c=ph(vn,t),[u,f]=w.useState(null),d=Ye(e,v=>f(v),a.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,a.value,a.disabled)}),p=u==null?void 0:u.textContent,h=w.useMemo(()=>m.jsx("option",{value:a.value,disabled:a.disabled,children:p},a.value),[a.disabled,a.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:_}=c;return dt(()=>(g(h),()=>_(h)),[g,_,h]),m.jsxs(m.Fragment,{children:[m.jsx(Oe.span,{id:a.textId,...o,ref:d}),a.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ir.createPortal(o.children,i.valueNode):null]})});rc.displayName=vn;var sc="SelectItemIndicator",oc=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return tc(sc,t).isSelected?m.jsx(Oe.span,{"aria-hidden":!0,...r,ref:e}):null});oc.displayName=sc;var Ks="SelectScrollUpButton",ic=w.forwardRef((n,e)=>{const t=_t(Ks,n.__scopeSelect),r=Do(Ks,n.__scopeSelect),[s,o]=w.useState(!1),i=Ye(e,r.onScrollButtonChange);return dt(()=>{if(t.viewport&&t.isPositioned){let l=function(){const c=a.scrollTop>0;o(c)};const a=t.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?m.jsx(ac,{...n,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=t;l&&a&&(l.scrollTop=l.scrollTop-a.offsetHeight)}}):null});ic.displayName=Ks;var zs="SelectScrollDownButton",lc=w.forwardRef((n,e)=>{const t=_t(zs,n.__scopeSelect),r=Do(zs,n.__scopeSelect),[s,o]=w.useState(!1),i=Ye(e,r.onScrollButtonChange);return dt(()=>{if(t.viewport&&t.isPositioned){let l=function(){const c=a.scrollHeight-a.clientHeight,u=Math.ceil(a.scrollTop)<c;o(u)};const a=t.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),s?m.jsx(ac,{...n,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=t;l&&a&&(l.scrollTop=l.scrollTop+a.offsetHeight)}}):null});lc.displayName=zs;var ac=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...s}=n,o=_t("SelectScrollButton",t),i=w.useRef(null),l=Kr(t),a=w.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return w.useEffect(()=>()=>a(),[a]),dt(()=>{var u;const c=l().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),m.jsx(Oe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:de(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:de(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:de(s.onPointerLeave,()=>{a()})})}),kh="SelectSeparator",Eh=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return m.jsx(Oe.div,{"aria-hidden":!0,...r,ref:e})});Eh.displayName=kh;var Ws="SelectArrow",Ph=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=zr(t),o=mt(Ws,t),i=_t(Ws,t);return o.open&&i.position==="popper"?m.jsx(Bc,{...s,...r,ref:e}):null});Ph.displayName=Ws;function cc(n){return n===""||n===void 0}var uc=w.forwardRef((n,e)=>{const{value:t,...r}=n,s=w.useRef(null),o=Ye(e,s),i=Wc(t);return w.useEffect(()=>{const l=s.current,a=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[i,t]),m.jsx(Dc,{asChild:!0,children:m.jsx("select",{...r,ref:o,defaultValue:t})})});uc.displayName="BubbleSelect";function dc(n){const e=kc(n),t=w.useRef(""),r=w.useRef(0),s=w.useCallback(i=>{const l=t.current+i;e(l),function a(c){t.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>a(""),1e3))}(l)},[e]),o=w.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,s,o]}function fc(n,e,t){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let i=Mh(n,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==t));const a=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return a!==t?a:void 0}function Mh(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var Oh=Ka,Ah=Wa,Dh=Ua,Ih=Ja,Lh=Ha,Fh=qa,jh=Qa,Rh=nc,$h=rc,Bh=oc,Kh=ic,zh=lc;function el({...n}){return m.jsx(Oh,{"data-slot":"select",...n})}function tl({...n}){return m.jsx(Dh,{"data-slot":"select-value",...n})}function nl({className:n,children:e,...t}){return m.jsxs(Ah,{"data-slot":"select-trigger",className:Zt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&>span]:line-clamp-1",n),...t,children:[e,m.jsx(Ih,{asChild:!0,children:m.jsx(il,{className:"size-4 opacity-50"})})]})}function rl({className:n,children:e,position:t="popper",...r}){return m.jsx(Lh,{children:m.jsxs(Fh,{"data-slot":"select-content",className:Zt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[m.jsx(Wh,{}),m.jsx(jh,{className:Zt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),m.jsx(Vh,{})]})})}function er({className:n,children:e,...t}){return m.jsxs(Rh,{"data-slot":"select-item",className:Zt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[m.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:m.jsx(Bh,{children:m.jsx(Vc,{className:"size-4"})})}),m.jsx($h,{children:e})]})}function Wh({className:n,...e}){return m.jsx(Kh,{"data-slot":"select-scroll-up-button",className:Zt("flex cursor-default items-center justify-center py-1",n),...e,children:m.jsx(tu,{className:"size-4"})})}function Vh({className:n,...e}){return m.jsx(zh,{"data-slot":"select-scroll-down-button",className:Zt("flex cursor-default items-center justify-center py-1",n),...e,children:m.jsx(il,{className:"size-4"})})}const Uh=[{title:"Letters",href:"/tasks"}];function ig({tasks:n,lists:e,filters:t,flash:r}){const[s,o]=w.useState(!1),[i,l]=w.useState(null),[a,c]=w.useState(!1),[u,f]=w.useState(""),[d,p]=w.useState("success"),[h,g]=w.useState(t.search),[_,v]=w.useState(t.filter);w.useEffect(()=>{r!=null&&r.success?(f(r.success),p("success"),c(!0)):r!=null&&r.error&&(f(r.error),p("error"),c(!0))},[r]),w.useEffect(()=>{if(a){const P=setTimeout(()=>{c(!1)},3e3);return()=>clearTimeout(P)}},[a]);const{data:y,setData:x,post:C,put:E,processing:S,reset:k}=pc({ref_no:"",title:"",to:"",subject:"",body:"",cc:"",cc_position:"",approved_by:"",approved_position:"",approved_by_optional:"",approved_position_optional:"",date:"",list_id:"",is_completed:!1}),T=P=>{P.preventDefault(),i?E(route("tasks.update",i.id),{onSuccess:()=>{o(!1),k(),l(null)}}):C(route("tasks.store"),{onSuccess:()=>{o(!1),k()}})},N=w.useRef(null),I=P=>{const B=route("tasks.printPDF",P);N.current&&(N.current.src=B,N.current.onload=()=>{var W,Y;(Y=(W=N.current)==null?void 0:W.contentWindow)==null||Y.print()})},F=P=>{P.preventDefault(),Jr.get(route("tasks.index"),{search:h,filter:_},{preserveState:!0,preserveScroll:!0})},z=P=>{v(P),Jr.get(route("tasks.index"),{search:h,filter:P},{preserveState:!0,preserveScroll:!0})},R=P=>{Jr.get(route("tasks.index"),{page:P,search:h,filter:_},{preserveState:!0,preserveScroll:!0})};return m.jsxs(Kc,{breadcrumbs:Uh,children:[m.jsx(mc,{title:"Tasks"}),m.jsxs("div",{className:"from-background to-muted/20 flex h-full flex-1 flex-col gap-6 rounded-xl bg-gradient-to-br p-6",children:[a&&m.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-2 rounded-lg p-4 shadow-lg ${d==="success"?"bg-green-500":"bg-red-500"} animate-in fade-in slide-in-from-top-5 text-white`,children:[d==="success"?m.jsx(xc,{className:"h-5 w-5"}):m.jsx(vc,{className:"h-5 w-5"}),m.jsx("span",{children:u})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Letters"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your letters and stay organized"})]}),m.jsxs(Cc,{open:s,onOpenChange:o,children:[m.jsx(Sc,{children:m.jsxs(bt,{className:"bg-primary hover:bg-primary/90 text-white shadow-lg dark:text-black",children:[m.jsx(Uc,{className:"mr-2 h-4 w-4"}),"Create letter"]})}),m.jsxs(bc,{className:"mb-4 sm:max-w-[979px]",children:[m.jsx(Nc,{children:m.jsx(wc,{className:"text-xl",children:i?"Edit Letter":"Create New Letter"})}),m.jsxs("form",{onSubmit:T,className:"space-y-4 scroll-smooth",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Se,{htmlFor:"ref_no",children:"Ref. No"}),m.jsx(De,{id:"ref_no",value:y.ref_no,onChange:P=>x("ref_no",P.target.value),required:!0,className:"focus:ring-primary focus:ring-2"})]})," ",m.jsxs("div",{className:"space-y-2",children:[m.jsx(Se,{htmlFor:"due_date",children:"Date :"}),m.jsx(De,{id:"due_date",type:"text",value:y.date,onChange:P=>x("date",P.target.value),className:"focus:ring-primary focus:ring-2 dark:text-white"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Se,{htmlFor:"to",children:"To : "}),m.jsx(De,{id:"to",value:y.to,onChange:P=>x("to",P.target.value),required:!0,className:"focus:ring-primary focus:ring-2"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Se,{htmlFor:"subject",children:"Subject :"}),m.jsx(De,{id:"subject",value:y.subject,onChange:P=>x("subject",P.target.value),className:"focus:ring-primary focus:ring-2"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Se,{htmlFor:"description",children:"Body"}),m.jsx(ch,{value:y.body,onChange:P=>x("body",P),placeholder:"Enter the letter body...",className:"focus-within:ring-primary focus-within:ring-2"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Se,{htmlFor:"list_id",children:"Type of letter"}),m.jsxs(el,{value:y.list_id,onValueChange:P=>x("list_id",P),children:[m.jsx(nl,{className:"focus:ring-primary focus:ring-2",children:m.jsx(tl,{placeholder:"Select a list"})}),m.jsx(rl,{children:e.map(P=>m.jsx(er,{value:P.id.toString(),children:P.title},P.id))})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Se,{htmlFor:"cc",children:"CC"}),m.jsx(De,{id:"cc",value:y.cc,onChange:P=>x("cc",P.target.value),className:"focus:ring-primary focus:ring-2"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Se,{htmlFor:"cc_position",children:"CC (Optional)"}),m.jsx(De,{id:"cc_position",value:y.cc_position,onChange:P=>x("cc_position",P.target.value),className:"focus:ring-primary focus:ring-2"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Se,{htmlFor:"approved_by",children:"Approved by"}),m.jsx(De,{id:"approved_by",value:y.approved_by,onChange:P=>x("approved_by",P.target.value),className:"focus:ring-primary focus:ring-2"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Se,{htmlFor:"approved_position",children:"Approved Position"}),m.jsx(De,{id:"approved_position",value:y.approved_position,onChange:P=>x("approved_position",P.target.value),className:"focus:ring-primary focus:ring-2"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Se,{htmlFor:"approved_by",children:"Approved by (Optional)"}),m.jsx(De,{id:"approved_by",value:y.approved_by_optional,onChange:P=>x("approved_by_optional",P.target.value),className:"focus:ring-primary focus:ring-2"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Se,{htmlFor:"approved_position_optional",children:"Approved Position (Optional)"}),m.jsx(De,{id:"approved_position_optional",value:y.approved_position_optional,onChange:P=>x("approved_position_optional",P.target.value),className:"focus:ring-primary focus:ring-2"})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"checkbox",id:"is_completed",checked:y.is_completed,onChange:P=>x("is_completed",P.target.checked),className:"focus:ring-primary h-4 w-4 rounded border-gray-300 focus:ring-2"}),m.jsx(Se,{htmlFor:"is_completed",children:"Completed"})]}),m.jsx(bt,{type:"submit",disabled:S,className:"bg-primary hover:bg-primary/90 w-full text-white shadow-lg dark:text-black",children:i?"Update":"Create"})]})]})]})]}),m.jsxs("div",{className:"mb-4 flex gap-4",children:[m.jsxs("form",{onSubmit:F,className:"relative flex-1",children:[m.jsx(cu,{className:"text-muted-foreground absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 transform"}),m.jsx(De,{placeholder:"Search letter...",value:h,onChange:P=>g(P.target.value),className:"pl-10"})]})," ",m.jsxs(el,{value:_,onValueChange:z,children:[m.jsx(nl,{className:"w-[180px]",children:m.jsx(tl,{placeholder:"Filter by status"})}),m.jsxs(rl,{children:[m.jsx(er,{value:"all",children:"All Letters"}),m.jsx(er,{value:"completed",children:"Completed"}),m.jsx(er,{value:"pending",children:"Pending"})]})]})]}),m.jsx("div",{className:"rounded-md border",children:m.jsx("div",{className:"relative w-full overflow-auto",children:m.jsxs("table",{className:"w-full caption-bottom text-sm",children:[m.jsx("thead",{className:"[&_tr]:border-b",children:m.jsxs("tr",{className:"hover:bg-muted/50 data-[state=selected]:bg-muted border-b pl-40 transition-colors",children:[m.jsx("th",{className:"text-muted-foreground h-12 px-4 text-left align-middle font-medium",children:"Reference number"}),m.jsx("th",{className:"text-muted-foreground h-12 px-4 text-left align-middle font-medium"}),m.jsx("th",{className:"text-muted-foreground h-12 px-4 text-left align-middle font-medium",children:"Subject"}),m.jsx("th",{className:"text-muted-foreground h-12 px-4 text-left align-middle font-medium",children:"Type of Letter"}),m.jsx("th",{className:"text-muted-foreground h-12 px-4 text-left align-middle font-medium",children:"Date"}),m.jsx("th",{className:"text-muted-foreground h-12 px-4 text-right align-middle font-medium",children:"Actions"})]})}),m.jsxs("tbody",{className:"[&_tr:last-child]:border-0",children:[n.data.map(P=>m.jsxs("tr",{className:"hover:bg-muted/50 data-[state=selected]:bg-muted border-b text-black transition-colors dark:text-white",children:[m.jsx("td",{className:"p-4 font-medium",children:P.ref_no}),m.jsx("td",{className:"p-4 align-middle font-medium",children:P.subject}),m.jsx("td",{className:"max-w-[200px] truncate p-4 align-middle",children:P.body||"No description"}),m.jsx("td",{className:"p-4 align-middle",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(sl,{className:"text-muted-foreground h-4 w-4"}),P.list.title]})}),m.jsx("td",{className:"p-4 align-middle",children:P.date?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Gc,{className:"text-muted-foreground h-4 w-4"}),new Date(P.date).toLocaleDateString()]}):m.jsx("span",{className:"text-muted-foreground",children:"No due date"})}),m.jsx("td",{className:"p-4 align-middle",children:P.is_completed?m.jsxs("div",{className:"flex items-center gap-2 text-green-500",children:[m.jsx(_c,{className:"h-4 w-4"}),m.jsx("span",{children:"Completed"})]}):m.jsx("div",{className:"flex items-center gap-2 text-yellow-500",children:m.jsx("span",{children:"Pending"})})}),m.jsx("iframe",{ref:N,style:{display:"none"},title:"print-frame"}),m.jsx("td",{className:"p-4 text-right align-middle",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx(bt,{variant:"ghost",size:"icon",onClick:()=>I(P.id),className:"hover:bg-primary/10 hover:text-primary",children:m.jsx(ru,{className:"h-4 w-4"})})," ",m.jsx(bt,{variant:"ghost",size:"icon",onClick:()=>I(P.id),className:"hover:bg-destructive/10 hover:text-black",children:m.jsx(Jc,{className:"h-4 w-4"})})]})})]},P.id)),n.data.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"text-muted-foreground p-4 text-center",children:"No tasks foreground"})})]})]})})}),m.jsxs("div",{className:"flex items-center justify-between px-2",children:[m.jsxs("div",{className:"text-muted-foreground text-sm",children:["Showing ",n.from," to ",n.to," of ",n.total," results"]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(bt,{variant:"outline",size:"icon",onClick:()=>R(n.current_page-1),disabled:n.current_page===1,children:m.jsx(Zc,{className:"h-4 w-4"})}),m.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:n.last_page},(P,B)=>B+1).map(P=>m.jsx(bt,{variant:P===n.current_page?"default":"outline",size:"icon",onClick:()=>R(P),children:P},P))}),m.jsx(bt,{variant:"outline",size:"icon",onClick:()=>R(n.current_page+1),disabled:n.current_page===n.last_page,children:m.jsx(zc,{className:"h-4 w-4"})})]})]})]})]})}export{ig as default};
