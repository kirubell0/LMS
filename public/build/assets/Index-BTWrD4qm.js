import{r as i,j as e,m as S,L as E}from"./app-DqgsXSbE.js";import{c as M,B as o}from"./app-logo-icon-Op2Ijsfg.js";import{C as _,a as z,b as I,c as P}from"./card-DO67SEN6.js";import{A as H}from"./app-layout-b__WgTk3.js";import{C as O,a as A,D as B,b as F,c as R,d as V,e as $}from"./dialog-BMEr6Zyb.js";import{L as j,I as q}from"./label-BD8wRt4J.js";import{P as U}from"./plus-BNEowNjN.js";import{c as y}from"./createLucideIcon-oVjZq6TX.js";import"./index-LbANeO-Q.js";import"./index-hy6uROR3.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],G=y("Pencil",X);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],K=y("Trash2",J),b=i.forwardRef(({className:c,...t},n)=>e.jsx("textarea",{className:M("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",c),ref:n,...t}));b.displayName="Textarea";const Q=[{title:"Types of Letters",href:"/lists"}];function ce({lists:c,flash:t}){const[n,r]=i.useState(!1),[a,x]=i.useState(null),[l,d]=i.useState(!1),[v,m]=i.useState(""),[p,h]=i.useState("success");i.useEffect(()=>{t!=null&&t.success?(m(t.success),h("success"),d(!0)):t!=null&&t.error&&(m(t.error),h("error"),d(!0))},[t]),i.useEffect(()=>{if(l){const s=setTimeout(()=>{d(!1)},3e3);return()=>clearTimeout(s)}},[l]);const{data:f,setData:u,post:N,put:T,processing:C,reset:g,delete:k}=S({title:"",description:""}),w=s=>{s.preventDefault(),a?T(route("lists.update",a.id),{onSuccess:()=>{r(!1),g(),x(null)}}):N(route("lists.store"),{onSuccess:()=>{r(!1),g()}})},L=s=>{x(s),u({title:s.title,description:s.description||""}),r(!0)},D=s=>{k(route("lists.destroy",s))};return e.jsxs(H,{breadcrumbs:Q,children:[e.jsx(E,{title:"Lists"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[l&&e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-2 rounded-lg p-4 shadow-lg ${p==="success"?"bg-green-500":"bg-red-500"} text-white animate-in fade-in slide-in-from-top-5`,children:[p==="success"?e.jsx(O,{className:"h-5 w-5"}):e.jsx(A,{className:"h-5 w-5"}),e.jsx("span",{children:v})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Type of Letters"}),e.jsxs(B,{open:n,onOpenChange:r,children:[e.jsx(F,{children:e.jsxs(o,{children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"New"]})}),e.jsxs(R,{children:[e.jsx(V,{children:e.jsx($,{children:a?"Edit type of letter":"Create letter type"})}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"title",children:"Title"}),e.jsx(q,{id:"title",value:f.title,onChange:s=>u("title",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"description",children:"Description"}),e.jsx(b,{id:"description",value:f.description,onChange:s=>u("description",s.target.value)})]}),e.jsx(o,{type:"submit",disabled:C,children:a?"Update":"Create"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(s=>e.jsxs(_,{className:"hover:bg-accent/50 transition-colors",children:[e.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(I,{className:"text-lg font-medium",children:s.title}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>L(s),children:e.jsx(G,{className:"h-4 w-4"})}),e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>D(s.id),className:"text-destructive hover:text-destructive/90",children:e.jsx(K,{className:"h-4 w-4"})})]})]}),e.jsxs(P,{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description||"No description"}),s.tasks_count!==void 0&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[s.tasks_count," Tasks"]})]})]},s.id))})]})]})}export{ce as default};
