import{r as s,j as e,m as pt,L as mt,S as Ce}from"./app-BMW1Et2K.js";import{u as K,S as ht,c as re,B as te}from"./app-logo-icon-DU2g-acF.js";import{C as ft,a as xt,D as gt,b as vt,c as St,d as wt,e as yt,T as jt}from"./textarea-DtKrrmjq.js";import{L as W,I as G}from"./label-MmOJyQWO.js";import{P as V,r as Oe}from"./index-Cx0EDOCT.js";import{u as Ee,c as Ct,a as R,b as Y,d as bt}from"./index-Bwsy7anF.js";import{c as Be,u as Nt,R as _t,a as Pe,b as Tt,d as It,P as Pt,V as Rt,h as Et,e as Mt,f as Dt,F as kt,D as At,C as Lt,g as Ot,A as Bt,i as Vt}from"./app-layout-DV5trNPo.js";import{u as Ft,C as Ht}from"./index-CNOgRPJT.js";import{c as ne}from"./createLucideIcon-DMA5NPTu.js";import{P as zt}from"./plus-BRCxJmid.js";import{L as Ut,C as Wt}from"./list-CMwZKUup.js";import{D as Kt}from"./download-Dw5wuzZN.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qt=ne("Calendar",$t);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ve=ne("ChevronDown",Gt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Xt=ne("ChevronLeft",Yt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Jt=ne("ChevronUp",Zt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eo=ne("Eye",Qt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],oo=ne("Search",to);function Me(o,[a,t]){return Math.min(t,Math.max(a,o))}var so=[" ","Enter","ArrowUp","ArrowDown"],ro=[" ","Enter"],ce="Select",[he,fe,no]=Tt(ce),[ae,Jo]=Ct(ce,[no,Be]),xe=Be(),[ao,X]=ae(ce),[lo,io]=ae(ce),Fe=o=>{const{__scopeSelect:a,children:t,open:r,defaultOpen:d,onOpenChange:m,value:l,defaultValue:c,onValueChange:n,dir:h,name:v,autoComplete:S,disabled:_,required:T,form:w}=o,p=xe(a),[g,y]=s.useState(null),[u,f]=s.useState(null),[M,D]=s.useState(!1),J=Nt(h),[I=!1,O]=Ee({prop:r,defaultProp:d,onChange:m}),[E,U]=Ee({prop:l,defaultProp:c,onChange:n}),F=s.useRef(null),H=g?w||!!g.closest("form"):!0,[B,i]=s.useState(new Set),k=Array.from(B).map(P=>P.props.value).join(";");return e.jsx(_t,{...p,children:e.jsxs(ao,{required:T,scope:a,trigger:g,onTriggerChange:y,valueNode:u,onValueNodeChange:f,valueNodeHasChildren:M,onValueNodeHasChildrenChange:D,contentId:Pe(),value:E,onValueChange:U,open:I,onOpenChange:O,dir:J,triggerPointerDownPosRef:F,disabled:_,children:[e.jsx(he.Provider,{scope:a,children:e.jsx(lo,{scope:o.__scopeSelect,onNativeOptionAdd:s.useCallback(P=>{i(A=>new Set(A).add(P))},[]),onNativeOptionRemove:s.useCallback(P=>{i(A=>{const $=new Set(A);return $.delete(P),$})},[]),children:t})}),H?e.jsxs(ct,{"aria-hidden":!0,required:T,tabIndex:-1,name:v,autoComplete:S,value:E,onChange:P=>U(P.target.value),disabled:_,form:w,children:[E===void 0?e.jsx("option",{value:""}):null,Array.from(B)]},k):null]})})};Fe.displayName=ce;var He="SelectTrigger",ze=s.forwardRef((o,a)=>{const{__scopeSelect:t,disabled:r=!1,...d}=o,m=xe(t),l=X(He,t),c=l.disabled||r,n=K(a,l.onTriggerChange),h=fe(t),v=s.useRef("touch"),[S,_,T]=dt(p=>{const g=h().filter(f=>!f.disabled),y=g.find(f=>f.value===l.value),u=ut(g,p,y);u!==void 0&&l.onValueChange(u.value)}),w=p=>{c||(l.onOpenChange(!0),T()),p&&(l.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(It,{asChild:!0,...m,children:e.jsx(V.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":it(l.value)?"":void 0,...d,ref:n,onClick:R(d.onClick,p=>{p.currentTarget.focus(),v.current!=="mouse"&&w(p)}),onPointerDown:R(d.onPointerDown,p=>{v.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(w(p),p.preventDefault())}),onKeyDown:R(d.onKeyDown,p=>{const g=S.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&_(p.key),!(g&&p.key===" ")&&so.includes(p.key)&&(w(),p.preventDefault())})})})});ze.displayName=He;var Ue="SelectValue",We=s.forwardRef((o,a)=>{const{__scopeSelect:t,className:r,style:d,children:m,placeholder:l="",...c}=o,n=X(Ue,t),{onValueNodeHasChildrenChange:h}=n,v=m!==void 0,S=K(a,n.onValueNodeChange);return Y(()=>{h(v)},[h,v]),e.jsx(V.span,{...c,ref:S,style:{pointerEvents:"none"},children:it(n.value)?e.jsx(e.Fragment,{children:l}):m})});We.displayName=Ue;var co="SelectIcon",Ke=s.forwardRef((o,a)=>{const{__scopeSelect:t,children:r,...d}=o;return e.jsx(V.span,{"aria-hidden":!0,...d,ref:a,children:r||"â–¼"})});Ke.displayName=co;var uo="SelectPortal",$e=o=>e.jsx(Pt,{asChild:!0,...o});$e.displayName=uo;var oe="SelectContent",qe=s.forwardRef((o,a)=>{const t=X(oe,o.__scopeSelect),[r,d]=s.useState();if(Y(()=>{d(new DocumentFragment)},[]),!t.open){const m=r;return m?Oe.createPortal(e.jsx(Ge,{scope:o.__scopeSelect,children:e.jsx(he.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),m):null}return e.jsx(Ye,{...o,ref:a})});qe.displayName=oe;var z=10,[Ge,Z]=ae(oe),po="SelectContentImpl",Ye=s.forwardRef((o,a)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:d,onEscapeKeyDown:m,onPointerDownOutside:l,side:c,sideOffset:n,align:h,alignOffset:v,arrowPadding:S,collisionBoundary:_,collisionPadding:T,sticky:w,hideWhenDetached:p,avoidCollisions:g,...y}=o,u=X(oe,t),[f,M]=s.useState(null),[D,J]=s.useState(null),I=K(a,x=>M(x)),[O,E]=s.useState(null),[U,F]=s.useState(null),H=fe(t),[B,i]=s.useState(!1),k=s.useRef(!1);s.useEffect(()=>{if(f)return Et(f)},[f]),Mt();const P=s.useCallback(x=>{const[N,...L]=H().map(C=>C.ref.current),[b]=L.slice(-1),j=document.activeElement;for(const C of x)if(C===j||(C==null||C.scrollIntoView({block:"nearest"}),C===N&&D&&(D.scrollTop=0),C===b&&D&&(D.scrollTop=D.scrollHeight),C==null||C.focus(),document.activeElement!==j))return},[H,D]),A=s.useCallback(()=>P([O,f]),[P,O,f]);s.useEffect(()=>{B&&A()},[B,A]);const{onOpenChange:$,triggerPointerDownPosRef:q}=u;s.useEffect(()=>{if(f){let x={x:0,y:0};const N=b=>{var j,C;x={x:Math.abs(Math.round(b.pageX)-(((j=q.current)==null?void 0:j.x)??0)),y:Math.abs(Math.round(b.pageY)-(((C=q.current)==null?void 0:C.y)??0))}},L=b=>{x.x<=10&&x.y<=10?b.preventDefault():f.contains(b.target)||$(!1),document.removeEventListener("pointermove",N),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",N),document.addEventListener("pointerup",L,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",L,{capture:!0})}}},[f,$,q]),s.useEffect(()=>{const x=()=>$(!1);return window.addEventListener("blur",x),window.addEventListener("resize",x),()=>{window.removeEventListener("blur",x),window.removeEventListener("resize",x)}},[$]);const[ge,de]=dt(x=>{const N=H().filter(j=>!j.disabled),L=N.find(j=>j.ref.current===document.activeElement),b=ut(N,x,L);b&&setTimeout(()=>b.ref.current.focus())}),ve=s.useCallback((x,N,L)=>{const b=!k.current&&!L;(u.value!==void 0&&u.value===N||b)&&(E(x),b&&(k.current=!0))},[u.value]),Se=s.useCallback(()=>f==null?void 0:f.focus(),[f]),se=s.useCallback((x,N,L)=>{const b=!k.current&&!L;(u.value!==void 0&&u.value===N||b)&&F(x)},[u.value]),ue=r==="popper"?be:Xe,le=ue===be?{side:c,sideOffset:n,align:h,alignOffset:v,arrowPadding:S,collisionBoundary:_,collisionPadding:T,sticky:w,hideWhenDetached:p,avoidCollisions:g}:{};return e.jsx(Ge,{scope:t,content:f,viewport:D,onViewportChange:J,itemRefCallback:ve,selectedItem:O,onItemLeave:Se,itemTextRefCallback:se,focusSelectedItem:A,selectedItemText:U,position:r,isPositioned:B,searchRef:ge,children:e.jsx(Dt,{as:ht,allowPinchZoom:!0,children:e.jsx(kt,{asChild:!0,trapped:u.open,onMountAutoFocus:x=>{x.preventDefault()},onUnmountAutoFocus:R(d,x=>{var N;(N=u.trigger)==null||N.focus({preventScroll:!0}),x.preventDefault()}),children:e.jsx(At,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:m,onPointerDownOutside:l,onFocusOutside:x=>x.preventDefault(),onDismiss:()=>u.onOpenChange(!1),children:e.jsx(ue,{role:"listbox",id:u.contentId,"data-state":u.open?"open":"closed",dir:u.dir,onContextMenu:x=>x.preventDefault(),...y,...le,onPlaced:()=>i(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:R(y.onKeyDown,x=>{const N=x.ctrlKey||x.altKey||x.metaKey;if(x.key==="Tab"&&x.preventDefault(),!N&&x.key.length===1&&de(x.key),["ArrowUp","ArrowDown","Home","End"].includes(x.key)){let b=H().filter(j=>!j.disabled).map(j=>j.ref.current);if(["ArrowUp","End"].includes(x.key)&&(b=b.slice().reverse()),["ArrowUp","ArrowDown"].includes(x.key)){const j=x.target,C=b.indexOf(j);b=b.slice(C+1)}setTimeout(()=>P(b)),x.preventDefault()}})})})})})})});Ye.displayName=po;var mo="SelectItemAlignedPosition",Xe=s.forwardRef((o,a)=>{const{__scopeSelect:t,onPlaced:r,...d}=o,m=X(oe,t),l=Z(oe,t),[c,n]=s.useState(null),[h,v]=s.useState(null),S=K(a,I=>v(I)),_=fe(t),T=s.useRef(!1),w=s.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:y,focusSelectedItem:u}=l,f=s.useCallback(()=>{if(m.trigger&&m.valueNode&&c&&h&&p&&g&&y){const I=m.trigger.getBoundingClientRect(),O=h.getBoundingClientRect(),E=m.valueNode.getBoundingClientRect(),U=y.getBoundingClientRect();if(m.dir!=="rtl"){const j=U.left-O.left,C=E.left-j,Q=I.left-C,ee=I.width+Q,we=Math.max(ee,O.width),ye=window.innerWidth-z,je=Me(C,[z,Math.max(z,ye-we)]);c.style.minWidth=ee+"px",c.style.left=je+"px"}else{const j=O.right-U.right,C=window.innerWidth-E.right-j,Q=window.innerWidth-I.right-C,ee=I.width+Q,we=Math.max(ee,O.width),ye=window.innerWidth-z,je=Me(C,[z,Math.max(z,ye-we)]);c.style.minWidth=ee+"px",c.style.right=je+"px"}const F=_(),H=window.innerHeight-z*2,B=p.scrollHeight,i=window.getComputedStyle(h),k=parseInt(i.borderTopWidth,10),P=parseInt(i.paddingTop,10),A=parseInt(i.borderBottomWidth,10),$=parseInt(i.paddingBottom,10),q=k+P+B+$+A,ge=Math.min(g.offsetHeight*5,q),de=window.getComputedStyle(p),ve=parseInt(de.paddingTop,10),Se=parseInt(de.paddingBottom,10),se=I.top+I.height/2-z,ue=H-se,le=g.offsetHeight/2,x=g.offsetTop+le,N=k+P+x,L=q-N;if(N<=se){const j=F.length>0&&g===F[F.length-1].ref.current;c.style.bottom="0px";const C=h.clientHeight-p.offsetTop-p.offsetHeight,Q=Math.max(ue,le+(j?Se:0)+C+A),ee=N+Q;c.style.height=ee+"px"}else{const j=F.length>0&&g===F[0].ref.current;c.style.top="0px";const Q=Math.max(se,k+p.offsetTop+(j?ve:0)+le)+L;c.style.height=Q+"px",p.scrollTop=N-se+p.offsetTop}c.style.margin=`${z}px 0`,c.style.minHeight=ge+"px",c.style.maxHeight=H+"px",r==null||r(),requestAnimationFrame(()=>T.current=!0)}},[_,m.trigger,m.valueNode,c,h,p,g,y,m.dir,r]);Y(()=>f(),[f]);const[M,D]=s.useState();Y(()=>{h&&D(window.getComputedStyle(h).zIndex)},[h]);const J=s.useCallback(I=>{I&&w.current===!0&&(f(),u==null||u(),w.current=!1)},[f,u]);return e.jsx(fo,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:T,onScrollButtonChange:J,children:e.jsx("div",{ref:n,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:e.jsx(V.div,{...d,ref:S,style:{boxSizing:"border-box",maxHeight:"100%",...d.style}})})})});Xe.displayName=mo;var ho="SelectPopperPosition",be=s.forwardRef((o,a)=>{const{__scopeSelect:t,align:r="start",collisionPadding:d=z,...m}=o,l=xe(t);return e.jsx(Lt,{...l,...m,ref:a,align:r,collisionPadding:d,style:{boxSizing:"border-box",...m.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});be.displayName=ho;var[fo,Re]=ae(oe,{}),Ne="SelectViewport",Ze=s.forwardRef((o,a)=>{const{__scopeSelect:t,nonce:r,...d}=o,m=Z(Ne,t),l=Re(Ne,t),c=K(a,m.onViewportChange),n=s.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(he.Slot,{scope:t,children:e.jsx(V.div,{"data-radix-select-viewport":"",role:"presentation",...d,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...d.style},onScroll:R(d.onScroll,h=>{const v=h.currentTarget,{contentWrapper:S,shouldExpandOnScrollRef:_}=l;if(_!=null&&_.current&&S){const T=Math.abs(n.current-v.scrollTop);if(T>0){const w=window.innerHeight-z*2,p=parseFloat(S.style.minHeight),g=parseFloat(S.style.height),y=Math.max(p,g);if(y<w){const u=y+T,f=Math.min(w,u),M=u-f;S.style.height=f+"px",S.style.bottom==="0px"&&(v.scrollTop=M>0?M:0,S.style.justifyContent="flex-end")}}}n.current=v.scrollTop})})})]})});Ze.displayName=Ne;var Je="SelectGroup",[xo,go]=ae(Je),vo=s.forwardRef((o,a)=>{const{__scopeSelect:t,...r}=o,d=Pe();return e.jsx(xo,{scope:t,id:d,children:e.jsx(V.div,{role:"group","aria-labelledby":d,...r,ref:a})})});vo.displayName=Je;var Qe="SelectLabel",So=s.forwardRef((o,a)=>{const{__scopeSelect:t,...r}=o,d=go(Qe,t);return e.jsx(V.div,{id:d.id,...r,ref:a})});So.displayName=Qe;var me="SelectItem",[wo,et]=ae(me),tt=s.forwardRef((o,a)=>{const{__scopeSelect:t,value:r,disabled:d=!1,textValue:m,...l}=o,c=X(me,t),n=Z(me,t),h=c.value===r,[v,S]=s.useState(m??""),[_,T]=s.useState(!1),w=K(a,u=>{var f;return(f=n.itemRefCallback)==null?void 0:f.call(n,u,r,d)}),p=Pe(),g=s.useRef("touch"),y=()=>{d||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(wo,{scope:t,value:r,disabled:d,textId:p,isSelected:h,onItemTextChange:s.useCallback(u=>{S(f=>f||((u==null?void 0:u.textContent)??"").trim())},[]),children:e.jsx(he.ItemSlot,{scope:t,value:r,disabled:d,textValue:v,children:e.jsx(V.div,{role:"option","aria-labelledby":p,"data-highlighted":_?"":void 0,"aria-selected":h&&_,"data-state":h?"checked":"unchecked","aria-disabled":d||void 0,"data-disabled":d?"":void 0,tabIndex:d?void 0:-1,...l,ref:w,onFocus:R(l.onFocus,()=>T(!0)),onBlur:R(l.onBlur,()=>T(!1)),onClick:R(l.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:R(l.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:R(l.onPointerDown,u=>{g.current=u.pointerType}),onPointerMove:R(l.onPointerMove,u=>{var f;g.current=u.pointerType,d?(f=n.onItemLeave)==null||f.call(n):g.current==="mouse"&&u.currentTarget.focus({preventScroll:!0})}),onPointerLeave:R(l.onPointerLeave,u=>{var f;u.currentTarget===document.activeElement&&((f=n.onItemLeave)==null||f.call(n))}),onKeyDown:R(l.onKeyDown,u=>{var M;((M=n.searchRef)==null?void 0:M.current)!==""&&u.key===" "||(ro.includes(u.key)&&y(),u.key===" "&&u.preventDefault())})})})})});tt.displayName=me;var ie="SelectItemText",ot=s.forwardRef((o,a)=>{const{__scopeSelect:t,className:r,style:d,...m}=o,l=X(ie,t),c=Z(ie,t),n=et(ie,t),h=io(ie,t),[v,S]=s.useState(null),_=K(a,y=>S(y),n.onItemTextChange,y=>{var u;return(u=c.itemTextRefCallback)==null?void 0:u.call(c,y,n.value,n.disabled)}),T=v==null?void 0:v.textContent,w=s.useMemo(()=>e.jsx("option",{value:n.value,disabled:n.disabled,children:T},n.value),[n.disabled,n.value,T]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=h;return Y(()=>(p(w),()=>g(w)),[p,g,w]),e.jsxs(e.Fragment,{children:[e.jsx(V.span,{id:n.textId,...m,ref:_}),n.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Oe.createPortal(m.children,l.valueNode):null]})});ot.displayName=ie;var st="SelectItemIndicator",rt=s.forwardRef((o,a)=>{const{__scopeSelect:t,...r}=o;return et(st,t).isSelected?e.jsx(V.span,{"aria-hidden":!0,...r,ref:a}):null});rt.displayName=st;var _e="SelectScrollUpButton",nt=s.forwardRef((o,a)=>{const t=Z(_e,o.__scopeSelect),r=Re(_e,o.__scopeSelect),[d,m]=s.useState(!1),l=K(a,r.onScrollButtonChange);return Y(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=n.scrollTop>0;m(h)};const n=t.viewport;return c(),n.addEventListener("scroll",c),()=>n.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),d?e.jsx(lt,{...o,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:n}=t;c&&n&&(c.scrollTop=c.scrollTop-n.offsetHeight)}}):null});nt.displayName=_e;var Te="SelectScrollDownButton",at=s.forwardRef((o,a)=>{const t=Z(Te,o.__scopeSelect),r=Re(Te,o.__scopeSelect),[d,m]=s.useState(!1),l=K(a,r.onScrollButtonChange);return Y(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=n.scrollHeight-n.clientHeight,v=Math.ceil(n.scrollTop)<h;m(v)};const n=t.viewport;return c(),n.addEventListener("scroll",c),()=>n.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),d?e.jsx(lt,{...o,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:n}=t;c&&n&&(c.scrollTop=c.scrollTop+n.offsetHeight)}}):null});at.displayName=Te;var lt=s.forwardRef((o,a)=>{const{__scopeSelect:t,onAutoScroll:r,...d}=o,m=Z("SelectScrollButton",t),l=s.useRef(null),c=fe(t),n=s.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return s.useEffect(()=>()=>n(),[n]),Y(()=>{var v;const h=c().find(S=>S.ref.current===document.activeElement);(v=h==null?void 0:h.ref.current)==null||v.scrollIntoView({block:"nearest"})},[c]),e.jsx(V.div,{"aria-hidden":!0,...d,ref:a,style:{flexShrink:0,...d.style},onPointerDown:R(d.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:R(d.onPointerMove,()=>{var h;(h=m.onItemLeave)==null||h.call(m),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:R(d.onPointerLeave,()=>{n()})})}),yo="SelectSeparator",jo=s.forwardRef((o,a)=>{const{__scopeSelect:t,...r}=o;return e.jsx(V.div,{"aria-hidden":!0,...r,ref:a})});jo.displayName=yo;var Ie="SelectArrow",Co=s.forwardRef((o,a)=>{const{__scopeSelect:t,...r}=o,d=xe(t),m=X(Ie,t),l=Z(Ie,t);return m.open&&l.position==="popper"?e.jsx(Ot,{...d,...r,ref:a}):null});Co.displayName=Ie;function it(o){return o===""||o===void 0}var ct=s.forwardRef((o,a)=>{const{value:t,...r}=o,d=s.useRef(null),m=K(a,d),l=Ft(t);return s.useEffect(()=>{const c=d.current,n=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(n,"value").set;if(l!==t&&v){const S=new Event("change",{bubbles:!0});v.call(c,t),c.dispatchEvent(S)}},[l,t]),e.jsx(Rt,{asChild:!0,children:e.jsx("select",{...r,ref:m,defaultValue:t})})});ct.displayName="BubbleSelect";function dt(o){const a=bt(o),t=s.useRef(""),r=s.useRef(0),d=s.useCallback(l=>{const c=t.current+l;a(c),function n(h){t.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>n(""),1e3))}(c)},[a]),m=s.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,d,m]}function ut(o,a,t){const d=a.length>1&&Array.from(a).every(h=>h===a[0])?a[0]:a,m=t?o.indexOf(t):-1;let l=bo(o,Math.max(m,0));d.length===1&&(l=l.filter(h=>h!==t));const n=l.find(h=>h.textValue.toLowerCase().startsWith(d.toLowerCase()));return n!==t?n:void 0}function bo(o,a){return o.map((t,r)=>o[(a+r)%o.length])}var No=Fe,_o=ze,To=We,Io=Ke,Po=$e,Ro=qe,Eo=Ze,Mo=tt,Do=ot,ko=rt,Ao=nt,Lo=at;function De({...o}){return e.jsx(No,{"data-slot":"select",...o})}function ke({...o}){return e.jsx(To,{"data-slot":"select-value",...o})}function Ae({className:o,children:a,...t}){return e.jsxs(_o,{"data-slot":"select-trigger",className:re("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&>span]:line-clamp-1",o),...t,children:[a,e.jsx(Io,{asChild:!0,children:e.jsx(Ve,{className:"size-4 opacity-50"})})]})}function Le({className:o,children:a,position:t="popper",...r}){return e.jsx(Po,{children:e.jsxs(Ro,{"data-slot":"select-content",className:re("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...r,children:[e.jsx(Oo,{}),e.jsx(Eo,{className:re("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),e.jsx(Bo,{})]})})}function pe({className:o,children:a,...t}){return e.jsxs(Mo,{"data-slot":"select-item",className:re("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",o),...t,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(ko,{children:e.jsx(Ht,{className:"size-4"})})}),e.jsx(Do,{children:a})]})}function Oo({className:o,...a}){return e.jsx(Ao,{"data-slot":"select-scroll-up-button",className:re("flex cursor-default items-center justify-center py-1",o),...a,children:e.jsx(Jt,{className:"size-4"})})}function Bo({className:o,...a}){return e.jsx(Lo,{"data-slot":"select-scroll-down-button",className:re("flex cursor-default items-center justify-center py-1",o),...a,children:e.jsx(Ve,{className:"size-4"})})}const Vo=[{title:"Letters",href:"/tasks"}];function Qo({tasks:o,lists:a,filters:t,flash:r}){const[d,m]=s.useState(!1),[l,c]=s.useState(null),[n,h]=s.useState(!1),[v,S]=s.useState(""),[_,T]=s.useState("success"),[w,p]=s.useState(t.search),[g,y]=s.useState(t.filter);s.useEffect(()=>{r!=null&&r.success?(S(r.success),T("success"),h(!0)):r!=null&&r.error&&(S(r.error),T("error"),h(!0))},[r]),s.useEffect(()=>{if(n){const i=setTimeout(()=>{h(!1)},3e3);return()=>clearTimeout(i)}},[n]);const{data:u,setData:f,post:M,put:D,processing:J,reset:I}=pt({ref_no:"",title:"",to:"",subject:"",body:"",cc:"",approved_by:"",approved_position:"",date:"",list_id:"",is_completed:!1}),O=i=>{i.preventDefault(),l?D(route("tasks.update",l.id),{onSuccess:()=>{m(!1),I(),c(null)}}):M(route("tasks.store"),{onSuccess:()=>{m(!1),I()}})},E=s.useRef(null),U=i=>{const k=route("tasks.printPDF",i);E.current&&(E.current.src=k,E.current.onload=()=>{var P,A;(A=(P=E.current)==null?void 0:P.contentWindow)==null||A.print()})},F=i=>{i.preventDefault(),Ce.get(route("tasks.index"),{search:w,filter:g},{preserveState:!0,preserveScroll:!0})},H=i=>{y(i),Ce.get(route("tasks.index"),{search:w,filter:i},{preserveState:!0,preserveScroll:!0})},B=i=>{Ce.get(route("tasks.index"),{page:i,search:w,filter:g},{preserveState:!0,preserveScroll:!0})};return e.jsxs(Bt,{breadcrumbs:Vo,children:[e.jsx(mt,{title:"Tasks"}),e.jsxs("div",{className:"from-background to-muted/20 flex h-full flex-1 flex-col gap-6 rounded-xl bg-gradient-to-br p-6",children:[n&&e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-2 rounded-lg p-4 shadow-lg ${_==="success"?"bg-green-500":"bg-red-500"} animate-in fade-in slide-in-from-top-5 text-white`,children:[_==="success"?e.jsx(ft,{className:"h-5 w-5"}):e.jsx(xt,{className:"h-5 w-5"}),e.jsx("span",{children:v})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Letters"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your letters and stay organized"})]}),e.jsxs(gt,{open:d,onOpenChange:m,children:[e.jsx(vt,{children:e.jsxs(te,{className:"bg-primary hover:bg-primary/90 text-white shadow-lg dark:text-black",children:[e.jsx(zt,{className:"mr-2 h-4 w-4"}),"Create letter"]})}),e.jsxs(St,{className:"sm:max-w-[979px] mb-4",children:[e.jsx(wt,{children:e.jsx(yt,{className:"text-xl",children:l?"Edit Letter":"Create New Letter"})}),e.jsxs("form",{onSubmit:O,className:"space-y-4 scroll-smooth ",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"ref_no",children:"Ref. No"}),e.jsx(G,{id:"ref_no",value:u.ref_no,onChange:i=>f("ref_no",i.target.value),required:!0,className:"focus:ring-primary focus:ring-2"})]})," ",e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"due_date",children:"Date :"}),e.jsx(G,{id:"due_date",type:"text",value:u.date,onChange:i=>f("date",i.target.value),className:"focus:ring-primary focus:ring-2 dark:text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"to",children:"To : "}),e.jsx(G,{id:"to",value:u.to,onChange:i=>f("to",i.target.value),required:!0,className:"focus:ring-primary focus:ring-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"subject",children:"Subject :"}),e.jsx(G,{id:"subject",value:u.subject,onChange:i=>f("subject",i.target.value),className:"focus:ring-primary focus:ring-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"description",children:"Body"}),e.jsx(jt,{id:"description",value:u.body,onChange:i=>f("body",i.target.value),required:!0,className:"focus:ring-primary focus:ring-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"list_id",children:"Type of letter"}),e.jsxs(De,{value:u.list_id,onValueChange:i=>f("list_id",i),children:[e.jsx(Ae,{className:"focus:ring-primary focus:ring-2",children:e.jsx(ke,{placeholder:"Select a list"})}),e.jsx(Le,{children:a.map(i=>e.jsx(pe,{value:i.id.toString(),children:i.title},i.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"cc",children:"CC"}),e.jsx(G,{id:"cc",value:u.cc,onChange:i=>f("cc",i.target.value),className:"focus:ring-primary focus:ring-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"approved_by",children:"Approved by"}),e.jsx(G,{id:"approved_by",value:u.approved_by,onChange:i=>f("approved_by",i.target.value),className:"focus:ring-primary focus:ring-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"approved_positions",children:"Approved Positions"}),e.jsx(G,{id:"approved_positions",value:u.approved_position,onChange:i=>f("approved_position",i.target.value),className:"focus:ring-primary focus:ring-2"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"is_completed",checked:u.is_completed,onChange:i=>f("is_completed",i.target.checked),className:"focus:ring-primary h-4 w-4 rounded border-gray-300 focus:ring-2"}),e.jsx(W,{htmlFor:"is_completed",children:"Completed"})]}),e.jsx(te,{type:"submit",disabled:J,className:"bg-primary hover:bg-primary/90 w-full text-white shadow-lg dark:text-black",children:l?"Update":"Create"})]})]})]})]}),e.jsxs("div",{className:"mb-4 flex gap-4",children:[e.jsxs("form",{onSubmit:F,className:"relative flex-1",children:[e.jsx(oo,{className:"text-muted-foreground absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 transform"}),e.jsx(G,{placeholder:"Search letter...",value:w,onChange:i=>p(i.target.value),className:"pl-10"})]})," ",e.jsxs(De,{value:g,onValueChange:H,children:[e.jsx(Ae,{className:"w-[180px]",children:e.jsx(ke,{placeholder:"Filter by status"})}),e.jsxs(Le,{children:[e.jsx(pe,{value:"all",children:"All Letters"}),e.jsx(pe,{value:"completed",children:"Completed"}),e.jsx(pe,{value:"pending",children:"Pending"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsxs("table",{className:"w-full caption-bottom text-sm",children:[e.jsx("thead",{className:"[&_tr]:border-b",children:e.jsxs("tr",{className:"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors pl-40",children:[e.jsx("th",{className:"text-muted-foreground h-12 px-4 text-left align-middle font-medium",children:"Reference number"}),e.jsx("th",{className:"text-muted-foreground h-12 px-4 text-left align-middle font-medium"}),e.jsx("th",{className:"text-muted-foreground h-12 px-4 text-left align-middle font-medium",children:"Body"}),e.jsx("th",{className:"text-muted-foreground h-12 px-4 text-left align-middle font-medium",children:"Type of Letter"}),e.jsx("th",{className:"text-muted-foreground h-12 px-4 text-left align-middle font-medium",children:"Date"}),e.jsx("th",{className:"text-muted-foreground h-12 px-4 text-right align-middle font-medium",children:"Actions"})]})}),e.jsxs("tbody",{className:"[&_tr:last-child]:border-0",children:[o.data.map(i=>e.jsxs("tr",{className:"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors text-black dark:text-white",children:[e.jsx("td",{className:"p-4 font-medium",children:i.ref_no}),e.jsx("td",{className:"p-4 align-middle font-medium",children:i.subject}),e.jsx("td",{className:"max-w-[200px] truncate p-4 align-middle",children:i.body||"No description"}),e.jsx("td",{className:"p-4 align-middle",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"text-muted-foreground h-4 w-4"}),i.list.title]})}),e.jsx("td",{className:"p-4 align-middle",children:i.date?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qt,{className:"text-muted-foreground h-4 w-4"}),new Date(i.date).toLocaleDateString()]}):e.jsx("span",{className:"text-muted-foreground",children:"No due date"})}),e.jsx("td",{className:"p-4 align-middle",children:i.is_completed?e.jsxs("div",{className:"flex items-center gap-2 text-green-500",children:[e.jsx(Wt,{className:"h-4 w-4"}),e.jsx("span",{children:"Completed"})]}):e.jsx("div",{className:"flex items-center gap-2 text-yellow-500",children:e.jsx("span",{children:"Pending"})})}),e.jsx("iframe",{ref:E,style:{display:"none"},title:"print-frame"}),e.jsx("td",{className:"p-4 text-right align-middle",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(te,{variant:"ghost",size:"icon",onClick:()=>U(i.id),className:"hover:bg-primary/10 hover:text-primary",children:e.jsx(eo,{className:"h-4 w-4"})})," ",e.jsx(te,{variant:"ghost",size:"icon",onClick:()=>U(i.id),className:"hover:bg-destructive/10 hover:text-black",children:e.jsx(Kt,{className:"h-4 w-4"})})]})})]},i.id)),o.data.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-muted-foreground p-4 text-center",children:"No tasks foreground"})})]})]})})}),e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("div",{className:"text-muted-foreground text-sm",children:["Showing ",o.from," to ",o.to," of ",o.total," results"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{variant:"outline",size:"icon",onClick:()=>B(o.current_page-1),disabled:o.current_page===1,children:e.jsx(Xt,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:o.last_page},(i,k)=>k+1).map(i=>e.jsx(te,{variant:i===o.current_page?"default":"outline",size:"icon",onClick:()=>B(i),children:i},i))}),e.jsx(te,{variant:"outline",size:"icon",onClick:()=>B(o.current_page+1),disabled:o.current_page===o.last_page,children:e.jsx(Vt,{className:"h-4 w-4"})})]})]})]})]})}export{Qo as default};
