import{r as i,m as D,j as e,L as S}from"./app-BMW1Et2K.js";import{B as c}from"./app-logo-icon-DU2g-acF.js";import{C as E,a as M,b as _,c as z}from"./card-i2bCCtNd.js";import{A as I}from"./app-layout-DV5trNPo.js";import{C as P,a as H,D as O,b as A,c as B,d as F,e as V,T as $}from"./textarea-DtKrrmjq.js";import{L as j,I as q}from"./label-MmOJyQWO.js";import{P as R}from"./plus-BRCxJmid.js";import{c as g}from"./createLucideIcon-DMA5NPTu.js";import"./index-Bwsy7anF.js";import"./index-Cx0EDOCT.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],X=g("Pencil",U);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],J=g("Trash2",G),K=[{title:"Types of Letters",href:"/lists"}];function ce({lists:f,flash:t}){const[y,a]=i.useState(!1),[r,d]=i.useState(null),[o,n]=i.useState(!1),[N,m]=i.useState(""),[x,u]=i.useState("success");i.useEffect(()=>{t!=null&&t.success?(m(t.success),u("success"),n(!0)):t!=null&&t.error&&(m(t.error),u("error"),n(!0))},[t]),i.useEffect(()=>{if(o){const s=setTimeout(()=>{n(!1)},3e3);return()=>clearTimeout(s)}},[o]);const{data:p,setData:l,post:v,put:T,processing:C,reset:h,delete:b}=D({title:"",description:""}),k=s=>{s.preventDefault(),r?T(route("lists.update",r.id),{onSuccess:()=>{a(!1),h(),d(null)}}):v(route("lists.store"),{onSuccess:()=>{a(!1),h()}})},w=s=>{d(s),l({title:s.title,description:s.description||""}),a(!0)},L=s=>{b(route("lists.destroy",s))};return e.jsxs(I,{breadcrumbs:K,children:[e.jsx(S,{title:"Lists"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[o&&e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-2 rounded-lg p-4 shadow-lg ${x==="success"?"bg-green-500":"bg-red-500"} text-white animate-in fade-in slide-in-from-top-5`,children:[x==="success"?e.jsx(P,{className:"h-5 w-5"}):e.jsx(H,{className:"h-5 w-5"}),e.jsx("span",{children:N})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Type of Letters"}),e.jsxs(O,{open:y,onOpenChange:a,children:[e.jsx(A,{children:e.jsxs(c,{children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"New"]})}),e.jsxs(B,{children:[e.jsx(F,{children:e.jsx(V,{children:r?"Edit type of letter":"Create letter type"})}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"title",children:"Title"}),e.jsx(q,{id:"title",value:p.title,onChange:s=>l("title",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"description",children:"Description"}),e.jsx($,{id:"description",value:p.description,onChange:s=>l("description",s.target.value)})]}),e.jsx(c,{type:"submit",disabled:C,children:r?"Update":"Create"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(s=>e.jsxs(E,{className:"hover:bg-accent/50 transition-colors",children:[e.jsxs(M,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(_,{className:"text-lg font-medium",children:s.title}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>w(s),children:e.jsx(X,{className:"h-4 w-4"})}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>L(s.id),className:"text-destructive hover:text-destructive/90",children:e.jsx(J,{className:"h-4 w-4"})})]})]}),e.jsxs(z,{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description||"No description"}),s.tasks_count!==void 0&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[s.tasks_count," Tasks"]})]})]},s.id))})]})]})}export{ce as default};
